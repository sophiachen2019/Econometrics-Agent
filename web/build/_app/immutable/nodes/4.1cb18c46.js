import{s as Ee,p as Ye,W as qe,V as Et,o as Se,f as i,a as k,l as ge,g as c,h as _,N as B,c as E,d as f,m as me,j as n,Q as ze,i as Q,r as a,P as ve,u as te,O as Fe,n as xe,v as He,C as be,R as xt,S as We,U as bt,z as ye,A as ke,w as Qe,K as $e,M as Ct}from"../chunks/scheduler.161605a7.js";import{S as Ue,i as Le,f as Ge,b as Ce,d as De,m as Ve,a as _e,t as pe,e as Ie,g as wt,c as yt}from"../chunks/index.acd0f037.js";import{e as Te}from"../chunks/each.65aa5674.js";import{m as Dt,u as Vt,W as It}from"../chunks/index.7deef04d.js";import{g as Mt}from"../chunks/navigation.7dcef832.js";import{a as Xe}from"../chunks/Toaster.svelte_svelte_type_style_lang.51e71bae.js";import{u as Tt,d as Ht,b as Ut,c as Lt,e as At,f as Re,h as St}from"../chunks/index.b70315fe.js";import{d as it}from"../chunks/dayjs.min.1e504c00.js";import{M as kt}from"../chunks/Modal.dcdf4258.js";import{b as Bt,c as jt,d as Nt,t as Ot,e as Zt,f as Pt}from"../chunks/index.62496be8.js";import{c as Rt,u as zt}from"../chunks/index.60bfabab.js";function Wt(r){let e,t,l,o="Edit User",u,s,d='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-5 h-5"><path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"></path></svg>',m,V,x,h,b,v,g,p,w,M,D,C,j,U=r[1].name+"",z,W,G,P,Y=it(r[1].timestamp*1e3).format("MMMM DD, YYYY")+"",$,q,N,le,R,L,I,ae="Email",S,ee,T,y,H,O,X,re="Name",se,F,Z,A,J,K,oe="New Password",de,ue,ne,he,ie,Ae='<button class="px-4 py-2 bg-emerald-600 hover:bg-emerald-700 text-gray-100 transition rounded" type="submit">Save</button>',Je,et;return{c(){e=i("div"),t=i("div"),l=i("div"),l.textContent=o,u=k(),s=i("button"),s.innerHTML=d,m=k(),V=i("hr"),x=k(),h=i("div"),b=i("div"),v=i("form"),g=i("div"),p=i("div"),w=i("img"),D=k(),C=i("div"),j=i("div"),z=ge(U),W=k(),G=i("div"),P=ge("Created at "),$=ge(Y),q=k(),N=i("hr"),le=k(),R=i("div"),L=i("div"),I=i("div"),I.textContent=ae,S=k(),ee=i("div"),T=i("input"),H=k(),O=i("div"),X=i("div"),X.textContent=re,se=k(),F=i("div"),Z=i("input"),A=k(),J=i("div"),K=i("div"),K.textContent=oe,de=k(),ue=i("div"),ne=i("input"),he=k(),ie=i("div"),ie.innerHTML=Ae,this.h()},l(ce){e=c(ce,"DIV",{});var fe=_(e);t=c(fe,"DIV",{class:!0});var Be=_(t);l=c(Be,"DIV",{class:!0,"data-svelte-h":!0}),B(l)!=="svelte-160glhw"&&(l.textContent=o),u=E(Be),s=c(Be,"BUTTON",{class:!0,"data-svelte-h":!0}),B(s)!=="svelte-745w2y"&&(s.innerHTML=d),Be.forEach(f),m=E(fe),V=c(fe,"HR",{class:!0}),x=E(fe),h=c(fe,"DIV",{class:!0});var tt=_(h);b=c(tt,"DIV",{class:!0});var lt=_(b);v=c(lt,"FORM",{class:!0});var we=_(v);g=c(we,"DIV",{class:!0});var je=_(g);p=c(je,"DIV",{class:!0});var st=_(p);w=c(st,"IMG",{src:!0,class:!0,alt:!0}),st.forEach(f),D=E(je),C=c(je,"DIV",{});var Ne=_(C);j=c(Ne,"DIV",{class:!0});var at=_(j);z=me(at,U),at.forEach(f),W=E(Ne),G=c(Ne,"DIV",{class:!0});var Ke=_(G);P=me(Ke,"Created at "),$=me(Ke,Y),Ke.forEach(f),Ne.forEach(f),je.forEach(f),q=E(we),N=c(we,"HR",{class:!0}),le=E(we),R=c(we,"DIV",{class:!0});var Me=_(R);L=c(Me,"DIV",{class:!0});var Oe=_(L);I=c(Oe,"DIV",{class:!0,"data-svelte-h":!0}),B(I)!=="svelte-5xj5cw"&&(I.textContent=ae),S=E(Oe),ee=c(Oe,"DIV",{class:!0});var rt=_(ee);T=c(rt,"INPUT",{class:!0,type:!0,autocomplete:!0}),rt.forEach(f),Oe.forEach(f),H=E(Me),O=c(Me,"DIV",{class:!0});var Ze=_(O);X=c(Ze,"DIV",{class:!0,"data-svelte-h":!0}),B(X)!=="svelte-guynw3"&&(X.textContent=re),se=E(Ze),F=c(Ze,"DIV",{class:!0});var nt=_(F);Z=c(nt,"INPUT",{class:!0,type:!0,autocomplete:!0}),nt.forEach(f),Ze.forEach(f),A=E(Me),J=c(Me,"DIV",{class:!0});var Pe=_(J);K=c(Pe,"DIV",{class:!0,"data-svelte-h":!0}),B(K)!=="svelte-1jv7gzz"&&(K.textContent=oe),de=E(Pe),ue=c(Pe,"DIV",{class:!0});var ot=_(ue);ne=c(ot,"INPUT",{class:!0,type:!0,autocomplete:!0}),ot.forEach(f),Pe.forEach(f),Me.forEach(f),he=E(we),ie=c(we,"DIV",{class:!0,"data-svelte-h":!0}),B(ie)!=="svelte-itb9qk"&&(ie.innerHTML=Ae),we.forEach(f),lt.forEach(f),tt.forEach(f),fe.forEach(f),this.h()},h(){n(l,"class","text-lg font-medium self-center"),n(s,"class","self-center"),n(t,"class","flex justify-between dark:text-gray-300 px-5 py-4"),n(V,"class","dark:border-gray-800"),ze(w.src,M=r[1].profile_image_url)||n(w,"src",M),n(w,"class","max-w-[55px] object-cover rounded-full"),n(w,"alt","User profile"),n(p,"class","self-center mr-5"),n(j,"class","self-center capitalize font-semibold"),n(G,"class","text-xs text-gray-500"),n(g,"class","flex items-center rounded-md py-2 px-4 w-full"),n(N,"class","dark:border-gray-800 my-3 w-full"),n(I,"class","mb-1 text-xs text-gray-500"),n(T,"class","w-full rounded py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-800 disabled:text-gray-500 dark:disabled:text-gray-500 outline-none svelte-1vx7r9s"),n(T,"type","email"),n(T,"autocomplete","off"),T.required=!0,T.disabled=y=r[3].id==r[2].id,n(ee,"class","flex-1"),n(L,"class","flex flex-col w-full"),n(X,"class","mb-1 text-xs text-gray-500"),n(Z,"class","w-full rounded py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-800 outline-none svelte-1vx7r9s"),n(Z,"type","text"),n(Z,"autocomplete","off"),Z.required=!0,n(F,"class","flex-1"),n(O,"class","flex flex-col w-full"),n(K,"class","mb-1 text-xs text-gray-500"),n(ne,"class","w-full rounded py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-800 outline-none svelte-1vx7r9s"),n(ne,"type","password"),n(ne,"autocomplete","new-password"),n(ue,"class","flex-1"),n(J,"class","flex flex-col w-full"),n(R,"class","flex flex-col space-y-1.5"),n(ie,"class","flex justify-end pt-3 text-sm font-medium"),n(v,"class","flex flex-col w-full"),n(b,"class","flex flex-col w-full sm:flex-row sm:justify-center sm:space-x-6"),n(h,"class","flex flex-col md:flex-row w-full p-5 md:space-x-4 dark:text-gray-200")},m(ce,fe){Q(ce,e,fe),a(e,t),a(t,l),a(t,u),a(t,s),a(e,m),a(e,V),a(e,x),a(e,h),a(h,b),a(b,v),a(v,g),a(g,p),a(p,w),a(g,D),a(g,C),a(C,j),a(j,z),a(C,W),a(C,G),a(G,P),a(G,$),a(v,q),a(v,N),a(v,le),a(v,R),a(R,L),a(L,I),a(L,S),a(L,ee),a(ee,T),ve(T,r[3].email),a(R,H),a(R,O),a(O,X),a(O,se),a(O,F),a(F,Z),ve(Z,r[3].name),a(R,A),a(R,J),a(J,K),a(J,de),a(J,ue),a(ue,ne),ve(ne,r[3].password),a(v,he),a(v,ie),Je||(et=[te(s,"click",r[5]),te(T,"input",r[6]),te(Z,"input",r[7]),te(ne,"input",r[8]),te(v,"submit",Fe(r[9]))],Je=!0)},p(ce,fe){fe&2&&!ze(w.src,M=ce[1].profile_image_url)&&n(w,"src",M),fe&2&&U!==(U=ce[1].name+"")&&xe(z,U),fe&2&&Y!==(Y=it(ce[1].timestamp*1e3).format("MMMM DD, YYYY")+"")&&xe($,Y),fe&12&&y!==(y=ce[3].id==ce[2].id)&&(T.disabled=y),fe&8&&T.value!==ce[3].email&&ve(T,ce[3].email),fe&8&&Z.value!==ce[3].name&&ve(Z,ce[3].name),fe&8&&ne.value!==ce[3].password&&ve(ne,ce[3].password)},d(ce){ce&&f(e),Je=!1,He(et)}}}function Yt(r){let e,t,l;function o(s){r[10](s)}let u={size:"sm",$$slots:{default:[Wt]},$$scope:{ctx:r}};return r[0]!==void 0&&(u.show=r[0]),e=new kt({props:u}),Ye.push(()=>Ge(e,"show",o)),{c(){Ce(e.$$.fragment)},l(s){De(e.$$.fragment,s)},m(s,d){Ve(e,s,d),l=!0},p(s,[d]){const m={};d&4111&&(m.$$scope={dirty:d,ctx:s}),!t&&d&1&&(t=!0,m.show=s[0],qe(()=>t=!1)),e.$set(m)},i(s){l||(_e(e.$$.fragment,s),l=!0)},o(s){pe(e.$$.fragment,s),l=!1},d(s){Ie(e,s)}}}function qt(r,e,t){const l=Et();let{show:o=!1}=e,{selectedUser:u}=e,{sessionUser:s}=e,d={profile_image_url:"",name:"",email:"",password:""};const m=async()=>{await Tt(localStorage.token,u.id,d).catch(w=>{Xe.error(w)})&&(l("save"),t(0,o=!1))};Se(()=>{u&&(t(3,d=u),t(3,d.password="",d))});const V=()=>{t(0,o=!1)};function x(){d.email=this.value,t(3,d)}function h(){d.name=this.value,t(3,d)}function b(){d.password=this.value,t(3,d)}const v=()=>{m()};function g(p){o=p,t(0,o)}return r.$$set=p=>{"show"in p&&t(0,o=p.show),"selectedUser"in p&&t(1,u=p.selectedUser),"sessionUser"in p&&t(2,s=p.sessionUser)},[o,u,s,d,m,V,x,h,b,v,g]}class Ft extends Ue{constructor(e){super(),Le(this,e,qt,Yt,Ee,{show:0,selectedUser:1,sessionUser:2})}}function Gt(r){let e,t,l,o,u="Database",s,d,m,V='<div class="self-center mr-3"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path d="M2 3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3Z"></path><path fill-rule="evenodd" d="M13 6H3v6a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V6ZM8.75 7.75a.75.75 0 0 0-1.5 0v2.69L6.03 9.22a.75.75 0 0 0-1.06 1.06l2.5 2.5a.75.75 0 0 0 1.06 0l2.5-2.5a.75.75 0 1 0-1.06-1.06l-1.22 1.22V7.75Z" clip-rule="evenodd"></path></svg></div> <div class="self-center text-sm font-medium">Download Database</div>',x,h;return{c(){e=i("form"),t=i("div"),l=i("div"),o=i("div"),o.textContent=u,s=k(),d=i("div"),m=i("button"),m.innerHTML=V,this.h()},l(b){e=c(b,"FORM",{class:!0});var v=_(e);t=c(v,"DIV",{class:!0});var g=_(t);l=c(g,"DIV",{});var p=_(l);o=c(p,"DIV",{class:!0,"data-svelte-h":!0}),B(o)!=="svelte-r4wf9t"&&(o.textContent=u),s=E(p),d=c(p,"DIV",{class:!0});var w=_(d);m=c(w,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),B(m)!=="svelte-o1kytw"&&(m.innerHTML=V),w.forEach(f),p.forEach(f),g.forEach(f),v.forEach(f),this.h()},h(){n(o,"class","mb-2 text-sm font-medium"),n(m,"class","flex rounded-md py-1.5 px-3 w-full hover:bg-gray-200 dark:hover:bg-gray-800 transition"),n(m,"type","button"),n(d,"class","flex w-full justify-between"),n(t,"class","space-y-3 pr-1.5 overflow-y-scroll max-h-80"),n(e,"class","flex flex-col h-full justify-between space-y-3 text-sm")},m(b,v){Q(b,e,v),a(e,t),a(t,l),a(l,o),a(l,s),a(l,d),a(d,m),x||(h=[te(m,"click",r[1]),te(e,"submit",Fe(r[2]))],x=!0)},p:be,i:be,o:be,d(b){b&&f(e),x=!1,He(h)}}}function Jt(r,e,t){let{saveHandler:l}=e;Se(async()=>{});const o=()=>{Ht(localStorage.token)},u=async()=>{l()};return r.$$set=s=>{"saveHandler"in s&&t(0,l=s.saveHandler)},[l,o,u]}class Kt extends Ue{constructor(e){super(),Le(this,e,Jt,Gt,Ee,{saveHandler:0})}}function Qt(r){let e,t,l,o,u="Disabled";return{c(){e=ye("svg"),t=ye("path"),l=k(),o=i("span"),o.textContent=u,this.h()},l(s){e=ke(s,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var d=_(e);t=ke(d,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),_(t).forEach(f),d.forEach(f),l=E(s),o=c(s,"SPAN",{class:!0,"data-svelte-h":!0}),B(o)!=="svelte-1we3shv"&&(o.textContent=u),this.h()},h(){n(t,"fill-rule","evenodd"),n(t,"d","M8 1a3.5 3.5 0 0 0-3.5 3.5V7A1.5 1.5 0 0 0 3 8.5v5A1.5 1.5 0 0 0 4.5 15h7a1.5 1.5 0 0 0 1.5-1.5v-5A1.5 1.5 0 0 0 11.5 7V4.5A3.5 3.5 0 0 0 8 1Zm2 6V4.5a2 2 0 1 0-4 0V7h4Z"),n(t,"clip-rule","evenodd"),n(e,"xmlns","http://www.w3.org/2000/svg"),n(e,"viewBox","0 0 16 16"),n(e,"fill","currentColor"),n(e,"class","w-4 h-4"),n(o,"class","ml-2 self-center")},m(s,d){Q(s,e,d),a(e,t),Q(s,l,d),Q(s,o,d)},d(s){s&&(f(e),f(l),f(o))}}}function Xt(r){let e,t,l,o,u="Enabled";return{c(){e=ye("svg"),t=ye("path"),l=k(),o=i("span"),o.textContent=u,this.h()},l(s){e=ke(s,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var d=_(e);t=ke(d,"path",{d:!0}),_(t).forEach(f),d.forEach(f),l=E(s),o=c(s,"SPAN",{class:!0,"data-svelte-h":!0}),B(o)!=="svelte-q4m40m"&&(o.textContent=u),this.h()},h(){n(t,"d","M11.5 1A3.5 3.5 0 0 0 8 4.5V7H2.5A1.5 1.5 0 0 0 1 8.5v5A1.5 1.5 0 0 0 2.5 15h7a1.5 1.5 0 0 0 1.5-1.5v-5A1.5 1.5 0 0 0 9.5 7V4.5a2 2 0 1 1 4 0v1.75a.75.75 0 0 0 1.5 0V4.5A3.5 3.5 0 0 0 11.5 1Z"),n(e,"xmlns","http://www.w3.org/2000/svg"),n(e,"viewBox","0 0 16 16"),n(e,"fill","currentColor"),n(e,"class","w-4 h-4"),n(o,"class","ml-2 self-center")},m(s,d){Q(s,e,d),a(e,t),Q(s,l,d),Q(s,o,d)},d(s){s&&(f(e),f(l),f(o))}}}function $t(r){let e,t,l,o,u="General Settings",s,d,m,V="Enable New Sign Ups",x,h,b,v,g,p="Default User Role",w,M,D,C,j="Pending",U,z="User",W,G="Admin",P,Y,$,q,N,le='<div class="self-center text-xs font-medium">JWT Expiration</div>',R,L,I,ae,S,ee='Valid time units: <span class="text-gray-300 font-medium">&#39;s&#39;, &#39;m&#39;, &#39;h&#39;, &#39;d&#39;, &#39;w&#39; or &#39;-1&#39; for no expiration.</span>',T,y,H='<button class="px-4 py-2 bg-emerald-600 hover:bg-emerald-700 text-gray-100 transition rounded" type="submit">Save</button>',O,X;function re(Z,A){return Z[1]?Xt:Qt}let se=re(r),F=se(r);return{c(){e=i("form"),t=i("div"),l=i("div"),o=i("div"),o.textContent=u,s=k(),d=i("div"),m=i("div"),m.textContent=V,x=k(),h=i("button"),F.c(),b=k(),v=i("div"),g=i("div"),g.textContent=p,w=k(),M=i("div"),D=i("select"),C=i("option"),C.textContent=j,U=i("option"),U.textContent=z,W=i("option"),W.textContent=G,P=k(),Y=i("hr"),$=k(),q=i("div"),N=i("div"),N.innerHTML=le,R=k(),L=i("div"),I=i("input"),ae=k(),S=i("div"),S.innerHTML=ee,T=k(),y=i("div"),y.innerHTML=H,this.h()},l(Z){e=c(Z,"FORM",{class:!0});var A=_(e);t=c(A,"DIV",{class:!0});var J=_(t);l=c(J,"DIV",{});var K=_(l);o=c(K,"DIV",{class:!0,"data-svelte-h":!0}),B(o)!=="svelte-cof781"&&(o.textContent=u),s=E(K),d=c(K,"DIV",{class:!0});var oe=_(d);m=c(oe,"DIV",{class:!0,"data-svelte-h":!0}),B(m)!=="svelte-sto0mt"&&(m.textContent=V),x=E(oe),h=c(oe,"BUTTON",{class:!0,type:!0});var de=_(h);F.l(de),de.forEach(f),oe.forEach(f),b=E(K),v=c(K,"DIV",{class:!0});var ue=_(v);g=c(ue,"DIV",{class:!0,"data-svelte-h":!0}),B(g)!=="svelte-jicu4p"&&(g.textContent=p),w=E(ue),M=c(ue,"DIV",{class:!0});var ne=_(M);D=c(ne,"SELECT",{class:!0,placeholder:!0});var he=_(D);C=c(he,"OPTION",{"data-svelte-h":!0}),B(C)!=="svelte-mygx0s"&&(C.textContent=j),U=c(he,"OPTION",{"data-svelte-h":!0}),B(U)!=="svelte-1u8kdru"&&(U.textContent=z),W=c(he,"OPTION",{"data-svelte-h":!0}),B(W)!=="svelte-17op260"&&(W.textContent=G),he.forEach(f),ne.forEach(f),ue.forEach(f),P=E(K),Y=c(K,"HR",{class:!0}),$=E(K),q=c(K,"DIV",{class:!0});var ie=_(q);N=c(ie,"DIV",{class:!0,"data-svelte-h":!0}),B(N)!=="svelte-3t3pvh"&&(N.innerHTML=le),R=E(ie),L=c(ie,"DIV",{class:!0});var Ae=_(L);I=c(Ae,"INPUT",{class:!0,type:!0,placeholder:!0}),Ae.forEach(f),ae=E(ie),S=c(ie,"DIV",{class:!0,"data-svelte-h":!0}),B(S)!=="svelte-1g534va"&&(S.innerHTML=ee),ie.forEach(f),K.forEach(f),J.forEach(f),T=E(A),y=c(A,"DIV",{class:!0,"data-svelte-h":!0}),B(y)!=="svelte-1w4736w"&&(y.innerHTML=H),A.forEach(f),this.h()},h(){n(o,"class","mb-2 text-sm font-medium"),n(m,"class","self-center text-xs font-medium"),n(h,"class","p-1 px-3 text-xs flex rounded transition"),n(h,"type","button"),n(d,"class","flex w-full justify-between"),n(g,"class","self-center text-xs font-medium"),C.__value="pending",ve(C,C.__value),U.__value="user",ve(U,U.__value),W.__value="admin",ve(W,W.__value),n(D,"class","w-fit pr-8 rounded py-2 px-2 text-xs bg-transparent outline-none text-right"),n(D,"placeholder","Select a theme"),r[2]===void 0&&xt(()=>r[8].call(D)),n(M,"class","flex items-center relative"),n(v,"class","flex w-full justify-between"),n(Y,"class","dark:border-gray-700 my-3"),n(N,"class","flex w-full justify-between"),n(I,"class","w-full rounded py-1.5 px-4 text-sm dark:text-gray-300 dark:bg-gray-800 outline-none border border-gray-100 dark:border-gray-600"),n(I,"type","text"),n(I,"placeholder",'e.g.) "30m","1h", "10d". '),n(L,"class","flex mt-2 space-x-2"),n(S,"class","mt-2 text-xs text-gray-400 dark:text-gray-500"),n(q,"class","w-full justify-between"),n(t,"class","space-y-3 pr-1.5 overflow-y-scroll max-h-80"),n(y,"class","flex justify-end pt-3 text-sm font-medium"),n(e,"class","flex flex-col h-full justify-between space-y-3 text-sm")},m(Z,A){Q(Z,e,A),a(e,t),a(t,l),a(l,o),a(l,s),a(l,d),a(d,m),a(d,x),a(d,h),F.m(h,null),a(l,b),a(l,v),a(v,g),a(v,w),a(v,M),a(M,D),a(D,C),a(D,U),a(D,W),We(D,r[2],!0),a(l,P),a(l,Y),a(l,$),a(l,q),a(q,N),a(q,R),a(q,L),a(L,I),ve(I,r[3]),a(q,ae),a(q,S),a(e,T),a(e,y),O||(X=[te(h,"click",r[7]),te(D,"change",r[8]),te(D,"change",r[9]),te(I,"input",r[10]),te(e,"submit",Fe(r[11]))],O=!0)},p(Z,[A]){se!==(se=re(Z))&&(F.d(1),F=se(Z),F&&(F.c(),F.m(h,null))),A&4&&We(D,Z[2]),A&8&&I.value!==Z[3]&&ve(I,Z[3])},i:be,o:be,d(Z){Z&&f(e),F.d(),O=!1,He(X)}}}function el(r,e,t){let{saveHandler:l}=e,o=!0,u="pending",s="";const d=async()=>{t(1,o=await Ot(localStorage.token))},m=async p=>{t(2,u=await Zt(localStorage.token,p))},V=async p=>{t(3,s=await Pt(localStorage.token,p))};Se(async()=>{t(1,o=await Bt(localStorage.token)),t(2,u=await jt(localStorage.token)),t(3,s=await Nt(localStorage.token))});const x=()=>{d()};function h(){u=bt(this),t(2,u)}const b=p=>{m(p.target.value)};function v(){s=this.value,t(3,s)}const g=()=>{V(s),l()};return r.$$set=p=>{"saveHandler"in p&&t(0,l=p.saveHandler)},[l,o,u,s,d,m,V,x,h,b,v,g]}class tl extends Ue{constructor(e){super(),Le(this,e,el,$t,Ee,{saveHandler:0})}}function ct(r,e,t){const l=r.slice();return l[11]=e[t],l[12]=e,l[13]=t,l}function dt(r,e,t){const l=r.slice();return l[14]=e[t],l}function ll(r){let e,t,l,o,u="Don't Allow";return{c(){e=ye("svg"),t=ye("path"),l=k(),o=i("span"),o.textContent=u,this.h()},l(s){e=ke(s,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var d=_(e);t=ke(d,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),_(t).forEach(f),d.forEach(f),l=E(s),o=c(s,"SPAN",{class:!0,"data-svelte-h":!0}),B(o)!=="svelte-uzoi3g"&&(o.textContent=u),this.h()},h(){n(t,"fill-rule","evenodd"),n(t,"d","M8 1a3.5 3.5 0 0 0-3.5 3.5V7A1.5 1.5 0 0 0 3 8.5v5A1.5 1.5 0 0 0 4.5 15h7a1.5 1.5 0 0 0 1.5-1.5v-5A1.5 1.5 0 0 0 11.5 7V4.5A3.5 3.5 0 0 0 8 1Zm2 6V4.5a2 2 0 1 0-4 0V7h4Z"),n(t,"clip-rule","evenodd"),n(e,"xmlns","http://www.w3.org/2000/svg"),n(e,"viewBox","0 0 16 16"),n(e,"fill","currentColor"),n(e,"class","w-4 h-4"),n(o,"class","ml-2 self-center")},m(s,d){Q(s,e,d),a(e,t),Q(s,l,d),Q(s,o,d)},d(s){s&&(f(e),f(l),f(o))}}}function sl(r){let e,t,l,o,u="Allow";return{c(){e=ye("svg"),t=ye("path"),l=k(),o=i("span"),o.textContent=u,this.h()},l(s){e=ke(s,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var d=_(e);t=ke(d,"path",{d:!0}),_(t).forEach(f),d.forEach(f),l=E(s),o=c(s,"SPAN",{class:!0,"data-svelte-h":!0}),B(o)!=="svelte-tbcwfm"&&(o.textContent=u),this.h()},h(){n(t,"d","M11.5 1A3.5 3.5 0 0 0 8 4.5V7H2.5A1.5 1.5 0 0 0 1 8.5v5A1.5 1.5 0 0 0 2.5 15h7a1.5 1.5 0 0 0 1.5-1.5v-5A1.5 1.5 0 0 0 9.5 7V4.5a2 2 0 1 1 4 0v1.75a.75.75 0 0 0 1.5 0V4.5A3.5 3.5 0 0 0 11.5 1Z"),n(e,"xmlns","http://www.w3.org/2000/svg"),n(e,"viewBox","0 0 16 16"),n(e,"fill","currentColor"),n(e,"class","w-4 h-4"),n(o,"class","ml-2 self-center")},m(s,d){Q(s,e,d),a(e,t),Q(s,l,d),Q(s,o,d)},d(s){s&&(f(e),f(l),f(o))}}}function ut(r){let e,t,l,o,u,s=r[2].length+"",d,m,V=Te(r[2]),x=[];for(let h=0;h<V.length;h+=1)x[h]=vt(ct(r,V,h));return{c(){e=i("div"),t=i("div");for(let h=0;h<x.length;h+=1)x[h].c();l=k(),o=i("div"),u=i("div"),d=ge(s),m=ge(" Model(s) Whitelisted"),this.h()},l(h){e=c(h,"DIV",{});var b=_(e);t=c(b,"DIV",{class:!0});var v=_(t);for(let w=0;w<x.length;w+=1)x[w].l(v);v.forEach(f),l=E(b),o=c(b,"DIV",{class:!0});var g=_(o);u=c(g,"DIV",{class:!0});var p=_(u);d=me(p,s),m=me(p," Model(s) Whitelisted"),p.forEach(f),g.forEach(f),b.forEach(f),this.h()},h(){n(t,"class","space-y-1.5"),n(u,"class","text-xs font-medium"),n(o,"class","flex justify-end items-center text-xs mt-1.5 text-right")},m(h,b){Q(h,e,b),a(e,t);for(let v=0;v<x.length;v+=1)x[v]&&x[v].m(t,null);a(e,l),a(e,o),a(o,u),a(u,d),a(u,m)},p(h,b){if(b&20){V=Te(h[2]);let v;for(v=0;v<V.length;v+=1){const g=ct(h,V,v);x[v]?x[v].p(g,b):(x[v]=vt(g),x[v].c(),x[v].m(t,null))}for(;v<x.length;v+=1)x[v].d(1);x.length=V.length}b&4&&s!==(s=h[2].length+"")&&xe(d,s)},d(h){h&&f(e),$e(x,h)}}}function ft(r){let e,t=r[14].name+"",l,o;return{c(){e=i("option"),l=ge(t),this.h()},l(u){e=c(u,"OPTION",{class:!0});var s=_(e);l=me(s,t),s.forEach(f),this.h()},h(){e.__value=o=r[14].id,ve(e,e.__value),n(e,"class","bg-gray-100 dark:bg-gray-700")},m(u,s){Q(u,e,s),a(e,l)},p(u,s){s&16&&t!==(t=u[14].name+"")&&xe(l,t),s&16&&o!==(o=u[14].id)&&(e.__value=o,ve(e,e.__value))},d(u){u&&f(e)}}}function al(r){let e,t='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path d="M3.75 7.25a.75.75 0 0 0 0 1.5h8.5a.75.75 0 0 0 0-1.5h-8.5Z"></path></svg>',l,o;function u(){return r[9](r[13])}return{c(){e=i("button"),e.innerHTML=t,this.h()},l(s){e=c(s,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),B(e)!=="svelte-l44j0v"&&(e.innerHTML=t),this.h()},h(){n(e,"class","px-2.5 bg-gray-100 hover:bg-gray-200 text-gray-800 dark:bg-gray-900 dark:text-white rounded-lg transition"),n(e,"type","button")},m(s,d){Q(s,e,d),l||(o=te(e,"click",u),l=!0)},p(s,d){r=s},d(s){s&&f(e),l=!1,o()}}}function rl(r){let e,t='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path d="M8.75 3.75a.75.75 0 0 0-1.5 0v3.5h-3.5a.75.75 0 0 0 0 1.5h3.5v3.5a.75.75 0 0 0 1.5 0v-3.5h3.5a.75.75 0 0 0 0-1.5h-3.5v-3.5Z"></path></svg>',l,o;return{c(){e=i("button"),e.innerHTML=t,this.h()},l(u){e=c(u,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),B(e)!=="svelte-1gajka4"&&(e.innerHTML=t),this.h()},h(){n(e,"class","px-2.5 bg-gray-100 hover:bg-gray-200 text-gray-800 dark:bg-gray-900 dark:text-white rounded-lg transition"),n(e,"type","button")},m(u,s){Q(u,e,s),l||(o=te(e,"click",r[8]),l=!0)},p:be,d(u){u&&f(e),l=!1,o()}}}function vt(r){let e,t,l,o,u="Select a model",s,d,m,V,x=Te(r[4].filter(ht)),h=[];for(let w=0;w<x.length;w+=1)h[w]=ft(dt(r,x,w));function b(){r[7].call(l,r[12],r[13])}function v(w,M){return w[13]===0?rl:al}let p=v(r)(r);return{c(){e=i("div"),t=i("div"),l=i("select"),o=i("option"),o.textContent=u;for(let w=0;w<h.length;w+=1)h[w].c();s=k(),p.c(),d=k(),this.h()},l(w){e=c(w,"DIV",{class:!0});var M=_(e);t=c(M,"DIV",{class:!0});var D=_(t);l=c(D,"SELECT",{class:!0,placeholder:!0});var C=_(l);o=c(C,"OPTION",{"data-svelte-h":!0}),B(o)!=="svelte-1ay6ljx"&&(o.textContent=u);for(let j=0;j<h.length;j+=1)h[j].l(C);C.forEach(f),D.forEach(f),s=E(M),p.l(M),d=E(M),M.forEach(f),this.h()},h(){o.__value="",ve(o,o.__value),o.disabled=!0,o.selected=!0,n(l,"class","w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),n(l,"placeholder","Select a model"),r[11]===void 0&&xt(b),n(t,"class","flex-1 mr-2"),n(e,"class","flex w-full")},m(w,M){Q(w,e,M),a(e,t),a(t,l),a(l,o);for(let D=0;D<h.length;D+=1)h[D]&&h[D].m(l,null);We(l,r[11],!0),a(e,s),p.m(e,null),a(e,d),m||(V=te(l,"change",b),m=!0)},p(w,M){if(r=w,M&16){x=Te(r[4].filter(ht));let D;for(D=0;D<x.length;D+=1){const C=dt(r,x,D);h[D]?h[D].p(C,M):(h[D]=ft(C),h[D].c(),h[D].m(l,null))}for(;D<h.length;D+=1)h[D].d(1);h.length=x.length}M&20&&We(l,r[11]),p.p(r,M)},d(w){w&&f(e),$e(h,w),p.d(),m=!1,V()}}}function nl(r){let e,t,l,o,u="User Permissions",s,d,m,V="Allow Chat Deletion",x,h,b,v,g,p,w,M,D='<div class="flex justify-between items-center text-xs"><div class="text-sm font-medium">Manage Models</div></div>',C,j,U,z,W,G="Model Whitelisting",P,Y,$=r[1]?"On":"Off",q,N,le,R,L='<button class="px-4 py-2 bg-emerald-600 hover:bg-emerald-700 text-gray-100 transition rounded" type="submit">Save</button>',I,ae;function S(H,O){return H[3].chat.deletion?sl:ll}let ee=S(r),T=ee(r),y=r[1]&&ut(r);return{c(){e=i("form"),t=i("div"),l=i("div"),o=i("div"),o.textContent=u,s=k(),d=i("div"),m=i("div"),m.textContent=V,x=k(),h=i("button"),T.c(),b=k(),v=i("hr"),g=k(),p=i("div"),w=i("div"),M=i("div"),M.innerHTML=D,C=k(),j=i("div"),U=i("div"),z=i("div"),W=i("div"),W.textContent=G,P=k(),Y=i("button"),q=ge($),N=k(),y&&y.c(),le=k(),R=i("div"),R.innerHTML=L,this.h()},l(H){e=c(H,"FORM",{class:!0});var O=_(e);t=c(O,"DIV",{class:!0});var X=_(t);l=c(X,"DIV",{});var re=_(l);o=c(re,"DIV",{class:!0,"data-svelte-h":!0}),B(o)!=="svelte-1hjjvx7"&&(o.textContent=u),s=E(re),d=c(re,"DIV",{class:!0});var se=_(d);m=c(se,"DIV",{class:!0,"data-svelte-h":!0}),B(m)!=="svelte-intp36"&&(m.textContent=V),x=E(se),h=c(se,"BUTTON",{class:!0,type:!0});var F=_(h);T.l(F),F.forEach(f),se.forEach(f),re.forEach(f),b=E(X),v=c(X,"HR",{class:!0}),g=E(X),p=c(X,"DIV",{class:!0});var Z=_(p);w=c(Z,"DIV",{});var A=_(w);M=c(A,"DIV",{class:!0,"data-svelte-h":!0}),B(M)!=="svelte-1nolyr2"&&(M.innerHTML=D),C=E(A),j=c(A,"DIV",{class:!0});var J=_(j);U=c(J,"DIV",{});var K=_(U);z=c(K,"DIV",{class:!0});var oe=_(z);W=c(oe,"DIV",{class:!0,"data-svelte-h":!0}),B(W)!=="svelte-1mhwifj"&&(W.textContent=G),P=E(oe),Y=c(oe,"BUTTON",{class:!0,type:!0});var de=_(Y);q=me(de,$),de.forEach(f),oe.forEach(f),K.forEach(f),N=E(J),y&&y.l(J),J.forEach(f),A.forEach(f),Z.forEach(f),X.forEach(f),le=E(O),R=c(O,"DIV",{class:!0,"data-svelte-h":!0}),B(R)!=="svelte-1w4736w"&&(R.innerHTML=L),O.forEach(f),this.h()},h(){n(o,"class","mb-2 text-sm font-medium"),n(m,"class","self-center text-xs font-medium"),n(h,"class","p-1 px-3 text-xs flex rounded transition"),n(h,"type","button"),n(d,"class","flex w-full justify-between"),n(v,"class","dark:border-gray-700 my-2"),n(M,"class","mb-2"),n(W,"class","text-xs font-medium"),n(Y,"class","text-xs font-medium text-gray-500"),n(Y,"type","button"),n(z,"class","flex justify-between items-center text-xs"),n(j,"class","space-y-3"),n(p,"class","mt-2 space-y-3 pr-1.5"),n(t,"class","space-y-3 pr-1.5 overflow-y-scroll max-h-80"),n(R,"class","flex justify-end pt-3 text-sm font-medium"),n(e,"class","flex flex-col h-full justify-between space-y-3 text-sm")},m(H,O){Q(H,e,O),a(e,t),a(t,l),a(l,o),a(l,s),a(l,d),a(d,m),a(d,x),a(d,h),T.m(h,null),a(t,b),a(t,v),a(t,g),a(t,p),a(p,w),a(w,M),a(w,C),a(w,j),a(j,U),a(U,z),a(z,W),a(z,P),a(z,Y),a(Y,q),a(j,N),y&&y.m(j,null),a(e,le),a(e,R),I||(ae=[te(h,"click",r[5]),te(Y,"click",r[6]),te(e,"submit",Fe(r[10]))],I=!0)},p(H,[O]){ee!==(ee=S(H))&&(T.d(1),T=ee(H),T&&(T.c(),T.m(h,null))),O&2&&$!==($=H[1]?"On":"Off")&&xe(q,$),H[1]?y?y.p(H,O):(y=ut(H),y.c(),y.m(j,null)):y&&(y.d(1),y=null)},i:be,o:be,d(H){H&&f(e),T.d(),y&&y.d(),I=!1,He(ae)}}}const ht=r=>r.id;function ol(r,e,t){let l;Qe(r,Dt,g=>t(4,l=g));let{saveHandler:o}=e,u=!1,s=[""],d={chat:{deletion:!0}};Se(async()=>{t(3,d=await Ut(localStorage.token));const g=await Rt(localStorage.token);g&&(t(1,u=g.enabled),t(2,s=g.models.length>0?g.models:[""]))});const m=()=>{t(3,d.chat.deletion=!d.chat.deletion,d)},V=()=>{t(1,u=!u)};function x(g,p){g[p]=bt(this),t(2,s)}const h=()=>{s.at(-1)!==""&&t(2,s=[...s,""])},b=g=>{s.splice(g,1),t(2,s)},v=async()=>{await Lt(localStorage.token,d),await zt(localStorage.token,u,s),o()};return r.$$set=g=>{"saveHandler"in g&&t(0,o=g.saveHandler)},[o,u,s,d,l,m,V,x,h,b,v]}class il extends Ue{constructor(e){super(),Le(this,e,ol,nl,Ee,{saveHandler:0})}}function cl(r){let e,t;return e=new Kt({props:{saveHandler:r[8]}}),{c(){Ce(e.$$.fragment)},l(l){De(e.$$.fragment,l)},m(l,o){Ve(e,l,o),t=!0},p(l,o){const u={};o&1&&(u.saveHandler=l[8]),e.$set(u)},i(l){t||(_e(e.$$.fragment,l),t=!0)},o(l){pe(e.$$.fragment,l),t=!1},d(l){Ie(e,l)}}}function dl(r){let e,t;return e=new il({props:{saveHandler:r[7]}}),{c(){Ce(e.$$.fragment)},l(l){De(e.$$.fragment,l)},m(l,o){Ve(e,l,o),t=!0},p(l,o){const u={};o&1&&(u.saveHandler=l[7]),e.$set(u)},i(l){t||(_e(e.$$.fragment,l),t=!0)},o(l){pe(e.$$.fragment,l),t=!1},d(l){Ie(e,l)}}}function ul(r){let e,t;return e=new tl({props:{saveHandler:r[6]}}),{c(){Ce(e.$$.fragment)},l(l){De(e.$$.fragment,l)},m(l,o){Ve(e,l,o),t=!0},p(l,o){const u={};o&1&&(u.saveHandler=l[6]),e.$set(u)},i(l){t||(_e(e.$$.fragment,l),t=!0)},o(l){pe(e.$$.fragment,l),t=!1},d(l){Ie(e,l)}}}function fl(r){let e,t,l,o="Admin Settings",u,s,d='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-5 h-5"><path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"></path></svg>',m,V,x,h,b,v,g,p='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M6.955 1.45A.5.5 0 0 1 7.452 1h1.096a.5.5 0 0 1 .497.45l.17 1.699c.484.12.94.312 1.356.562l1.321-1.081a.5.5 0 0 1 .67.033l.774.775a.5.5 0 0 1 .034.67l-1.08 1.32c.25.417.44.873.561 1.357l1.699.17a.5.5 0 0 1 .45.497v1.096a.5.5 0 0 1-.45.497l-1.699.17c-.12.484-.312.94-.562 1.356l1.082 1.322a.5.5 0 0 1-.034.67l-.774.774a.5.5 0 0 1-.67.033l-1.322-1.08c-.416.25-.872.44-1.356.561l-.17 1.699a.5.5 0 0 1-.497.45H7.452a.5.5 0 0 1-.497-.45l-.17-1.699a4.973 4.973 0 0 1-1.356-.562L4.108 13.37a.5.5 0 0 1-.67-.033l-.774-.775a.5.5 0 0 1-.034-.67l1.08-1.32a4.971 4.971 0 0 1-.561-1.357l-1.699-.17A.5.5 0 0 1 1 8.548V7.452a.5.5 0 0 1 .45-.497l1.699-.17c.12-.484.312-.94.562-1.356L2.629 4.107a.5.5 0 0 1 .034-.67l.774-.774a.5.5 0 0 1 .67-.033L5.43 3.71a4.97 4.97 0 0 1 1.356-.561l.17-1.699ZM6 8c0 .538.212 1.026.558 1.385l.057.057a2 2 0 0 0 2.828-2.828l-.058-.056A2 2 0 0 0 6 8Z" clip-rule="evenodd"></path></svg>',w,M,D="General",C,j,U,z,W='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path d="M8 8a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5ZM3.156 11.763c.16-.629.44-1.21.813-1.72a2.5 2.5 0 0 0-2.725 1.377c-.136.287.102.58.418.58h1.449c.01-.077.025-.156.045-.237ZM12.847 11.763c.02.08.036.16.046.237h1.446c.316 0 .554-.293.417-.579a2.5 2.5 0 0 0-2.722-1.378c.374.51.653 1.09.813 1.72ZM14 7.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0ZM3.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3ZM5 13c-.552 0-1.013-.455-.876-.99a4.002 4.002 0 0 1 7.753 0c.136.535-.324.99-.877.99H5Z"></path></svg>',G,P,Y="Users",$,q,N,le,R='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path d="M8 7c3.314 0 6-1.343 6-3s-2.686-3-6-3-6 1.343-6 3 2.686 3 6 3Z"></path><path d="M8 8.5c1.84 0 3.579-.37 4.914-1.037A6.33 6.33 0 0 0 14 6.78V8c0 1.657-2.686 3-6 3S2 9.657 2 8V6.78c.346.273.72.5 1.087.683C4.42 8.131 6.16 8.5 8 8.5Z"></path><path d="M8 12.5c1.84 0 3.579-.37 4.914-1.037.366-.183.74-.41 1.086-.684V12c0 1.657-2.686 3-6 3s-6-1.343-6-3v-1.22c.346.273.72.5 1.087.683C4.42 12.131 6.16 12.5 8 12.5Z"></path></svg>',L,I,ae="Database",S,ee,T,y,H,O,X,re;const se=[ul,dl,cl],F=[];function Z(A,J){return A[1]==="general"?0:A[1]==="users"?1:A[1]==="db"?2:-1}return~(y=Z(r))&&(H=F[y]=se[y](r)),{c(){e=i("div"),t=i("div"),l=i("div"),l.textContent=o,u=k(),s=i("button"),s.innerHTML=d,m=k(),V=i("hr"),x=k(),h=i("div"),b=i("div"),v=i("button"),g=i("div"),g.innerHTML=p,w=k(),M=i("div"),M.textContent=D,j=k(),U=i("button"),z=i("div"),z.innerHTML=W,G=k(),P=i("div"),P.textContent=Y,q=k(),N=i("button"),le=i("div"),le.innerHTML=R,L=k(),I=i("div"),I.textContent=ae,ee=k(),T=i("div"),H&&H.c(),this.h()},l(A){e=c(A,"DIV",{});var J=_(e);t=c(J,"DIV",{class:!0});var K=_(t);l=c(K,"DIV",{class:!0,"data-svelte-h":!0}),B(l)!=="svelte-3t1yg3"&&(l.textContent=o),u=E(K),s=c(K,"BUTTON",{class:!0,"data-svelte-h":!0}),B(s)!=="svelte-745w2y"&&(s.innerHTML=d),K.forEach(f),m=E(J),V=c(J,"HR",{class:!0}),x=E(J),h=c(J,"DIV",{class:!0});var oe=_(h);b=c(oe,"DIV",{class:!0});var de=_(b);v=c(de,"BUTTON",{class:!0});var ue=_(v);g=c(ue,"DIV",{class:!0,"data-svelte-h":!0}),B(g)!=="svelte-1k1ieum"&&(g.innerHTML=p),w=E(ue),M=c(ue,"DIV",{class:!0,"data-svelte-h":!0}),B(M)!=="svelte-115rgpl"&&(M.textContent=D),ue.forEach(f),j=E(de),U=c(de,"BUTTON",{class:!0});var ne=_(U);z=c(ne,"DIV",{class:!0,"data-svelte-h":!0}),B(z)!=="svelte-1cwxqsc"&&(z.innerHTML=W),G=E(ne),P=c(ne,"DIV",{class:!0,"data-svelte-h":!0}),B(P)!=="svelte-1sxrt8x"&&(P.textContent=Y),ne.forEach(f),q=E(de),N=c(de,"BUTTON",{class:!0});var he=_(N);le=c(he,"DIV",{class:!0,"data-svelte-h":!0}),B(le)!=="svelte-1xqf9ou"&&(le.innerHTML=R),L=E(he),I=c(he,"DIV",{class:!0,"data-svelte-h":!0}),B(I)!=="svelte-102m5xa"&&(I.textContent=ae),he.forEach(f),de.forEach(f),ee=E(oe),T=c(oe,"DIV",{class:!0});var ie=_(T);H&&H.l(ie),ie.forEach(f),oe.forEach(f),J.forEach(f),this.h()},h(){n(l,"class","text-lg font-medium self-center"),n(s,"class","self-center"),n(t,"class","flex justify-between dark:text-gray-300 px-5 py-4"),n(V,"class","dark:border-gray-800"),n(g,"class","self-center mr-2"),n(M,"class","self-center"),n(v,"class",C="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(r[1]==="general"?"bg-gray-200 dark:bg-gray-700":" hover:bg-gray-300 dark:hover:bg-gray-800")),n(z,"class","self-center mr-2"),n(P,"class","self-center"),n(U,"class",$="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(r[1]==="users"?"bg-gray-200 dark:bg-gray-700":" hover:bg-gray-300 dark:hover:bg-gray-800")),n(le,"class","self-center mr-2"),n(I,"class","self-center"),n(N,"class",S="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(r[1]==="db"?"bg-gray-200 dark:bg-gray-700":" hover:bg-gray-300 dark:hover:bg-gray-800")),n(b,"class","tabs flex flex-row overflow-x-auto space-x-1 md:space-x-0 md:space-y-1 md:flex-col flex-1 md:flex-none md:w-40 dark:text-gray-200 text-xs text-left mb-3 md:mb-0"),n(T,"class","flex-1 md:min-h-[380px]"),n(h,"class","flex flex-col md:flex-row w-full p-4 md:space-x-4")},m(A,J){Q(A,e,J),a(e,t),a(t,l),a(t,u),a(t,s),a(e,m),a(e,V),a(e,x),a(e,h),a(h,b),a(b,v),a(v,g),a(v,w),a(v,M),a(b,j),a(b,U),a(U,z),a(U,G),a(U,P),a(b,q),a(b,N),a(N,le),a(N,L),a(N,I),a(h,ee),a(h,T),~y&&F[y].m(T,null),O=!0,X||(re=[te(s,"click",r[2]),te(v,"click",r[3]),te(U,"click",r[4]),te(N,"click",r[5])],X=!0)},p(A,J){(!O||J&2&&C!==(C="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(A[1]==="general"?"bg-gray-200 dark:bg-gray-700":" hover:bg-gray-300 dark:hover:bg-gray-800")))&&n(v,"class",C),(!O||J&2&&$!==($="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(A[1]==="users"?"bg-gray-200 dark:bg-gray-700":" hover:bg-gray-300 dark:hover:bg-gray-800")))&&n(U,"class",$),(!O||J&2&&S!==(S="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(A[1]==="db"?"bg-gray-200 dark:bg-gray-700":" hover:bg-gray-300 dark:hover:bg-gray-800")))&&n(N,"class",S);let K=y;y=Z(A),y===K?~y&&F[y].p(A,J):(H&&(wt(),pe(F[K],1,1,()=>{F[K]=null}),yt()),~y?(H=F[y],H?H.p(A,J):(H=F[y]=se[y](A),H.c()),_e(H,1),H.m(T,null)):H=null)},i(A){O||(_e(H),O=!0)},o(A){pe(H),O=!1},d(A){A&&f(e),~y&&F[y].d(),X=!1,He(re)}}}function vl(r){let e,t,l;function o(s){r[9](s)}let u={$$slots:{default:[fl]},$$scope:{ctx:r}};return r[0]!==void 0&&(u.show=r[0]),e=new kt({props:u}),Ye.push(()=>Ge(e,"show",o)),{c(){Ce(e.$$.fragment)},l(s){De(e.$$.fragment,s)},m(s,d){Ve(e,s,d),l=!0},p(s,[d]){const m={};d&1027&&(m.$$scope={dirty:d,ctx:s}),!t&&d&1&&(t=!0,m.show=s[0],qe(()=>t=!1)),e.$set(m)},i(s){l||(_e(e.$$.fragment,s),l=!0)},o(s){pe(e.$$.fragment,s),l=!1},d(s){Ie(e,s)}}}function hl(r,e,t){let{show:l=!1}=e,o="general";const u=()=>{t(0,l=!1)},s=()=>{t(1,o="general")},d=()=>{t(1,o="users")},m=()=>{t(1,o="db")},V=()=>{t(0,l=!1)},x=()=>{t(0,l=!1)},h=()=>{t(0,l=!1)};function b(v){l=v,t(0,l)}return r.$$set=v=>{"show"in v&&t(0,l=v.show)},[l,o,u,s,d,m,V,x,h,b]}class gl extends Ue{constructor(e){super(),Le(this,e,hl,vl,Ee,{show:0})}}function gt(r,e,t){const l=r.slice();return l[17]=e[t],l}function mt(r){let e,t,l;function o(s){r[9](s)}let u={selectedUser:r[2],sessionUser:r[5]};return r[4]!==void 0&&(u.show=r[4]),e=new Ft({props:u}),Ye.push(()=>Ge(e,"show",o)),e.$on("save",r[10]),{c(){Ce(e.$$.fragment)},l(s){De(e.$$.fragment,s)},m(s,d){Ve(e,s,d),l=!0},p(s,d){const m={};d&4&&(m.selectedUser=s[2]),d&32&&(m.sessionUser=s[5]),!t&&d&16&&(t=!0,m.show=s[4],qe(()=>t=!1)),e.$set(m)},i(s){l||(_e(e.$$.fragment,s),l=!0)},o(s){pe(e.$$.fragment,s),l=!1},d(s){Ie(e,s)}}}function _t(r){let e,t,l,o,u,s,d,m,V,x,h=r[1].length+"",b,v,g,p,w='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M6.955 1.45A.5.5 0 0 1 7.452 1h1.096a.5.5 0 0 1 .497.45l.17 1.699c.484.12.94.312 1.356.562l1.321-1.081a.5.5 0 0 1 .67.033l.774.775a.5.5 0 0 1 .034.67l-1.08 1.32c.25.417.44.873.561 1.357l1.699.17a.5.5 0 0 1 .45.497v1.096a.5.5 0 0 1-.45.497l-1.699.17c-.12.484-.312.94-.562 1.356l1.082 1.322a.5.5 0 0 1-.034.67l-.774.774a.5.5 0 0 1-.67.033l-1.322-1.08c-.416.25-.872.44-1.356.561l-.17 1.699a.5.5 0 0 1-.497.45H7.452a.5.5 0 0 1-.497-.45l-.17-1.699a4.973 4.973 0 0 1-1.356-.562L4.108 13.37a.5.5 0 0 1-.67-.033l-.774-.775a.5.5 0 0 1-.034-.67l1.08-1.32a4.971 4.971 0 0 1-.561-1.357l-1.699-.17A.5.5 0 0 1 1 8.548V7.452a.5.5 0 0 1 .45-.497l1.699-.17c.12-.484.312-.94.562-1.356L2.629 4.107a.5.5 0 0 1 .034-.67l.774-.774a.5.5 0 0 1 .67-.033L5.43 3.71a4.97 4.97 0 0 1 1.356-.561l.17-1.699ZM6 8c0 .538.212 1.026.558 1.385l.057.057a2 2 0 0 0 2.828-2.828l-.058-.056A2 2 0 0 0 6 8Z" clip-rule="evenodd"></path></svg> <div class="text-xs">Admin Settings</div>',M,D,C="ⓘ Click on the user role button to change a user's role.",j,U,z,W,G,P,Y='<tr><th scope="col" class="px-3 py-2">Role</th> <th scope="col" class="px-3 py-2">Name</th> <th scope="col" class="px-3 py-2">Email</th> <th scope="col" class="px-3 py-2">Action</th></tr>',$,q,N,le,R=Te(r[1]),L=[];for(let I=0;I<R.length;I+=1)L[I]=pt(gt(r,R,I));return{c(){e=i("div"),t=i("div"),l=i("div"),o=i("div"),u=i("div"),s=i("div"),d=ge(`All Users
								`),m=i("div"),V=k(),x=i("span"),b=ge(h),v=k(),g=i("div"),p=i("button"),p.innerHTML=w,M=k(),D=i("div"),D.textContent=C,j=k(),U=i("hr"),z=k(),W=i("div"),G=i("table"),P=i("thead"),P.innerHTML=Y,$=k(),q=i("tbody");for(let I=0;I<L.length;I+=1)L[I].c();this.h()},l(I){e=c(I,"DIV",{class:!0});var ae=_(e);t=c(ae,"DIV",{class:!0});var S=_(t);l=c(S,"DIV",{class:!0});var ee=_(l);o=c(ee,"DIV",{class:!0});var T=_(o);u=c(T,"DIV",{class:!0});var y=_(u);s=c(y,"DIV",{class:!0});var H=_(s);d=me(H,`All Users
								`),m=c(H,"DIV",{class:!0}),_(m).forEach(f),V=E(H),x=c(H,"SPAN",{class:!0});var O=_(x);b=me(O,h),O.forEach(f),H.forEach(f),v=E(y),g=c(y,"DIV",{});var X=_(g);p=c(X,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),B(p)!=="svelte-1os0ohv"&&(p.innerHTML=w),X.forEach(f),y.forEach(f),M=E(T),D=c(T,"DIV",{class:!0,"data-svelte-h":!0}),B(D)!=="svelte-j7t8hn"&&(D.textContent=C),j=E(T),U=c(T,"HR",{class:!0}),z=E(T),W=c(T,"DIV",{class:!0});var re=_(W);G=c(re,"TABLE",{class:!0});var se=_(G);P=c(se,"THEAD",{class:!0,"data-svelte-h":!0}),B(P)!=="svelte-1xb7ltu"&&(P.innerHTML=Y),$=E(se),q=c(se,"TBODY",{});var F=_(q);for(let Z=0;Z<L.length;Z+=1)L[Z].l(F);F.forEach(f),se.forEach(f),re.forEach(f),T.forEach(f),ee.forEach(f),S.forEach(f),ae.forEach(f),this.h()},h(){n(m,"class","flex self-center w-[1px] h-6 mx-2.5 bg-gray-200 dark:bg-gray-700"),n(x,"class","text-lg font-medium text-gray-500 dark:text-gray-300"),n(s,"class","flex items-center text-2xl font-semibold"),n(p,"class","flex items-center space-x-1 px-3 py-1.5 rounded-xl bg-gray-50 hover:bg-gray-100 dark:bg-gray-800 dark:hover:bg-gray-700 transition"),n(p,"type","button"),n(u,"class","flex justify-between items-center"),n(D,"class","text-gray-500 text-xs mt-1"),n(U,"class","my-3 dark:border-gray-600"),n(P,"class","text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400"),n(G,"class","w-full text-sm text-left text-gray-500 dark:text-gray-400 table-auto"),n(W,"class","scrollbar-hidden relative overflow-x-auto whitespace-nowrap svelte-3g4avz"),n(o,"class","flex flex-col justify-center"),n(l,"class","w-full"),n(t,"class","max-w-2xl mx-auto w-full px-3 md:px-0 my-10"),n(e,"class","flex flex-col justify-between w-full overflow-y-auto")},m(I,ae){Q(I,e,ae),a(e,t),a(t,l),a(l,o),a(o,u),a(u,s),a(s,d),a(s,m),a(s,V),a(s,x),a(x,b),a(u,v),a(u,g),a(g,p),a(o,M),a(o,D),a(o,j),a(o,U),a(o,z),a(o,W),a(W,G),a(G,P),a(G,$),a(G,q);for(let S=0;S<L.length;S+=1)L[S]&&L[S].m(q,null);N||(le=te(p,"click",r[12]),N=!0)},p(I,ae){if(ae&2&&h!==(h=I[1].length+"")&&xe(b,h),ae&406){R=Te(I[1]);let S;for(S=0;S<R.length;S+=1){const ee=gt(I,R,S);L[S]?L[S].p(ee,ae):(L[S]=pt(ee),L[S].c(),L[S].m(q,null))}for(;S<L.length;S+=1)L[S].d(1);L.length=R.length}},d(I){I&&f(e),$e(L,I),N=!1,le()}}}function pt(r){let e,t,l,o,u,s,d=r[17].role+"",m,V,x,h,b,v,g,p,w,M=r[17].name+"",D,C,j,U=r[17].email+"",z,W,G,P,Y,$='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-4 h-4"><path stroke-linecap="round" stroke-linejoin="round" d="m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L6.832 19.82a4.5 4.5 0 0 1-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 0 1 1.13-1.897L16.863 4.487Zm0 0L19.5 7.125"></path></svg>',q,N,le='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-4 h-4"><path stroke-linecap="round" stroke-linejoin="round" d="m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"></path></svg>',R,L,I;function ae(){return r[13](r[17])}function S(){return r[14](r[17])}function ee(){return r[15](r[17])}return{c(){e=i("tr"),t=i("td"),l=i("button"),o=i("div"),s=k(),m=ge(d),x=k(),h=i("td"),b=i("div"),v=i("img"),p=k(),w=i("div"),D=ge(M),C=k(),j=i("td"),z=ge(U),W=k(),G=i("td"),P=i("div"),Y=i("button"),Y.innerHTML=$,q=k(),N=i("button"),N.innerHTML=le,R=k(),this.h()},l(T){e=c(T,"TR",{class:!0});var y=_(e);t=c(y,"TD",{class:!0});var H=_(t);l=c(H,"BUTTON",{class:!0});var O=_(l);o=c(O,"DIV",{class:!0}),_(o).forEach(f),s=E(O),m=me(O,d),O.forEach(f),H.forEach(f),x=E(y),h=c(y,"TD",{class:!0});var X=_(h);b=c(X,"DIV",{class:!0});var re=_(b);v=c(re,"IMG",{class:!0,src:!0,alt:!0}),p=E(re),w=c(re,"DIV",{class:!0});var se=_(w);D=me(se,M),se.forEach(f),re.forEach(f),X.forEach(f),C=E(y),j=c(y,"TD",{class:!0});var F=_(j);z=me(F,U),F.forEach(f),W=E(y),G=c(y,"TD",{class:!0});var Z=_(G);P=c(Z,"DIV",{class:!0});var A=_(P);Y=c(A,"BUTTON",{class:!0,"data-svelte-h":!0}),B(Y)!=="svelte-cf1wam"&&(Y.innerHTML=$),q=E(A),N=c(A,"BUTTON",{class:!0,"data-svelte-h":!0}),B(N)!=="svelte-106n067"&&(N.innerHTML=le),A.forEach(f),Z.forEach(f),R=E(y),y.forEach(f),this.h()},h(){n(o,"class",u="w-1 h-1 rounded-full "+(r[17].role==="admin"&&"bg-sky-600 dark:bg-sky-300")+" "+(r[17].role==="user"&&"bg-green-600 dark:bg-green-300")+" "+(r[17].role==="pending"&&"bg-gray-600 dark:bg-gray-300")+" svelte-3g4avz"),n(l,"class",V="flex items-center gap-2 text-xs px-3 py-0.5 rounded-lg "+(r[17].role==="admin"&&"text-sky-600 dark:text-sky-200 bg-sky-200/30")+" "+(r[17].role==="user"&&"text-green-600 dark:text-green-200 bg-green-200/30")+" "+(r[17].role==="pending"&&"text-gray-600 dark:text-gray-200 bg-gray-200/30")+" svelte-3g4avz"),n(t,"class","px-3 py-2 min-w-[7rem] w-28"),n(v,"class","rounded-full w-6 h-6 object-cover mr-2.5"),ze(v.src,g=r[17].profile_image_url)||n(v,"src",g),n(v,"alt","user"),n(w,"class","font-medium self-center"),n(b,"class","flex flex-row w-max"),n(h,"class","px-3 py-2 font-medium text-gray-900 dark:text-white w-max"),n(j,"class","px-3 py-2"),n(Y,"class","self-center w-fit text-sm px-2 py-2 hover:bg-black/5 dark:hover:bg-white/5 rounded-xl"),n(N,"class","self-center w-fit text-sm px-2 py-2 hover:bg-black/5 dark:hover:bg-white/5 rounded-xl"),n(P,"class","flex justify-start w-full"),n(G,"class","px-3 py-2"),n(e,"class","bg-white border-b dark:bg-gray-900 dark:border-gray-700 text-xs")},m(T,y){Q(T,e,y),a(e,t),a(t,l),a(l,o),a(l,s),a(l,m),a(e,x),a(e,h),a(h,b),a(b,v),a(b,p),a(b,w),a(w,D),a(e,C),a(e,j),a(j,z),a(e,W),a(e,G),a(G,P),a(P,Y),a(P,q),a(P,N),a(e,R),L||(I=[te(l,"click",ae),te(Y,"click",S),te(N,"click",ee)],L=!0)},p(T,y){r=T,y&2&&u!==(u="w-1 h-1 rounded-full "+(r[17].role==="admin"&&"bg-sky-600 dark:bg-sky-300")+" "+(r[17].role==="user"&&"bg-green-600 dark:bg-green-300")+" "+(r[17].role==="pending"&&"bg-gray-600 dark:bg-gray-300")+" svelte-3g4avz")&&n(o,"class",u),y&2&&d!==(d=r[17].role+"")&&xe(m,d),y&2&&V!==(V="flex items-center gap-2 text-xs px-3 py-0.5 rounded-lg "+(r[17].role==="admin"&&"text-sky-600 dark:text-sky-200 bg-sky-200/30")+" "+(r[17].role==="user"&&"text-green-600 dark:text-green-200 bg-green-200/30")+" "+(r[17].role==="pending"&&"text-gray-600 dark:text-gray-200 bg-gray-200/30")+" svelte-3g4avz")&&n(l,"class",V),y&2&&!ze(v.src,g=r[17].profile_image_url)&&n(v,"src",g),y&2&&M!==(M=r[17].name+"")&&xe(D,M),y&2&&U!==(U=r[17].email+"")&&xe(z,U)},d(T){T&&f(e),L=!1,He(I)}}}function ml(r){let e,t,l=r[2],o,u,s,d,m,V;document.title=e=`
		Admin Panel | ${r[6]}
	`;let x=mt(r);function h(g){r[11](g)}let b={};r[3]!==void 0&&(b.show=r[3]),u=new gl({props:b}),Ye.push(()=>Ge(u,"show",h));let v=r[0]&&_t(r);return{c(){t=k(),x.c(),o=k(),Ce(u.$$.fragment),d=k(),m=i("div"),v&&v.c(),this.h()},l(g){Ct("svelte-19gxtrm",document.head).forEach(f),t=E(g),x.l(g),o=E(g),De(u.$$.fragment,g),d=E(g),m=c(g,"DIV",{class:!0});var w=_(m);v&&v.l(w),w.forEach(f),this.h()},h(){n(m,"class","min-h-screen max-h-[100dvh] w-full flex justify-center dark:text-white font-mona svelte-3g4avz")},m(g,p){Q(g,t,p),x.m(g,p),Q(g,o,p),Ve(u,g,p),Q(g,d,p),Q(g,m,p),v&&v.m(m,null),V=!0},p(g,[p]){(!V||p&64)&&e!==(e=`
		Admin Panel | ${g[6]}
	`)&&(document.title=e),p&4&&Ee(l,l=g[2])?(wt(),pe(x,1,1,be),yt(),x=mt(g),x.c(),_e(x,1),x.m(o.parentNode,o)):x.p(g,p);const w={};!s&&p&8&&(s=!0,w.show=g[3],qe(()=>s=!1)),u.$set(w),g[0]?v?v.p(g,p):(v=_t(g),v.c(),v.m(m,null)):v&&(v.d(1),v=null)},i(g){V||(_e(x),_e(u.$$.fragment,g),V=!0)},o(g){pe(x),pe(u.$$.fragment,g),V=!1},d(g){g&&(f(t),f(o),f(d),f(m)),x.d(g),Ie(u,g),v&&v.d()}}}function _l(r,e,t){let l,o;Qe(r,Vt,C=>t(5,l=C)),Qe(r,It,C=>t(6,o=C));let u=!1,s=[],d=null,m=!1,V=!1;const x=async(C,j)=>{await At(localStorage.token,C,j).catch(z=>(Xe.error(z),null))&&t(1,s=await Re(localStorage.token))},h=async C=>{await St(localStorage.token,C).catch(U=>(Xe.error(U),null))&&t(1,s=await Re(localStorage.token))};Se(async()=>{(l==null?void 0:l.role)!=="admin"?await Mt("/"):t(1,s=await Re(localStorage.token)),t(0,u=!0)});function b(C){V=C,t(4,V)}const v=async()=>{t(1,s=await Re(localStorage.token))};function g(C){m=C,t(3,m)}return[u,s,d,m,V,l,o,x,h,b,v,g,()=>{t(3,m=!m)},C=>{C.role==="user"?x(C.id,"admin"):C.role==="pending"?x(C.id,"user"):x(C.id,"pending")},async C=>{t(4,V=!V),t(2,d=C)},async C=>{h(C.id)}]}class Ml extends Ue{constructor(e){super(),Le(this,e,_l,ml,Ee,{})}}export{Ml as component};
