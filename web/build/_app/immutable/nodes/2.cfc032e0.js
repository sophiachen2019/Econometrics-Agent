import{s as at,f as u,a as E,l as xe,g as d,h as w,N as j,c as T,m as ke,d as f,j as o,i as B,r as a,u as J,O as At,n as je,C as Pe,v as qe,P as re,Q as Zt,w as Ye,o as dt,p as pt,z as We,A as Je,e as st,R as mt,S as lt,K as rt,k as Fe,T as Ws,U as gt,V as Bt,W as Tt,J as ar,X as Mt,E as or,F as ir,G as cr,H as ur,t as ml}from"../chunks/scheduler.161605a7.js";import{S as ot,i as it,b as Xe,d as $e,m as et,a as Ue,t as Re,e as tt,g as Nt,c as Pt,f as Dt,h as dr}from"../chunks/index.acd0f037.js";import{a as Me}from"../chunks/Toaster.svelte_svelte_type_style_lang.51e71bae.js";import{f as Js}from"../chunks/FileSaver.min.898eb36f.js";import{g as Et}from"../chunks/navigation.7dcef832.js";import{g as ol,p as gl,a as Ks,c as fr,d as hr,u as vr,b as Ys}from"../chunks/index.781620a4.js";import{g as pr}from"../chunks/index.96fd2918.js";import{g as mr}from"../chunks/index.442c1a07.js";import{g as gr,a as _r,u as br,b as wr,c as Qs}from"../chunks/index.1d44562a.js";import{L as qt,u as wt,b as Lt,W as il,m as vt,a as Xs,d as _l,c as Ot,e as yt,s as Ht,f as Xt,g as yr,h as $t,i as Wt,j as bl,p as xr,k as kr}from"../chunks/index.7deef04d.js";import{g as Cr}from"../chunks/index.2e364eac.js";import{T as cl,s as Ir,g as Er,a as Tr,d as Dr,b as It,c as wl,e as Vr,f as yl,h as Mr,i as Lr,j as Ar,k as Sr,l as Or,u as Hr,m as Br,n as Nr,o as xl,p as Pr,q as Ur,r as jr,t as zr,v as Rr,w as Zr,x as $s}from"../chunks/index.9f4636fe.js";import{c as qr,a as Gr,s as zt,g as Fr,b as Wr}from"../chunks/index.496e36ff.js";import{M as ul,s as Jr}from"../chunks/Modal.dcdf4258.js";import{u as Kr,a as Yr}from"../chunks/index.62496be8.js";import{g as Qr,a as Xr}from"../chunks/index.b70315fe.js";import{a as $r,g as er,b as en}from"../chunks/index.60bfabab.js";import{e as ze}from"../chunks/each.65aa5674.js";import{g as tn}from"../chunks/_commonjsHelpers.de833af9.js";import{A as ln}from"../chunks/AdvancedParams.c08c9c21.js";import{r as sn}from"../chunks/index.04f88212.js";import"../chunks/paths.ac3d22b5.js";const rn=(s,e)=>e.some(t=>s instanceof t);let kl,Cl;function nn(){return kl||(kl=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function an(){return Cl||(Cl=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const tr=new WeakMap,el=new WeakMap,lr=new WeakMap,Jt=new WeakMap,dl=new WeakMap;function on(s){const e=new Promise((t,l)=>{const r=()=>{s.removeEventListener("success",i),s.removeEventListener("error",n)},i=()=>{t(xt(s.result)),r()},n=()=>{l(s.error),r()};s.addEventListener("success",i),s.addEventListener("error",n)});return e.then(t=>{t instanceof IDBCursor&&tr.set(t,s)}).catch(()=>{}),dl.set(e,s),e}function cn(s){if(el.has(s))return;const e=new Promise((t,l)=>{const r=()=>{s.removeEventListener("complete",i),s.removeEventListener("error",n),s.removeEventListener("abort",n)},i=()=>{t(),r()},n=()=>{l(s.error||new DOMException("AbortError","AbortError")),r()};s.addEventListener("complete",i),s.addEventListener("error",n),s.addEventListener("abort",n)});el.set(s,e)}let tl={get(s,e,t){if(s instanceof IDBTransaction){if(e==="done")return el.get(s);if(e==="objectStoreNames")return s.objectStoreNames||lr.get(s);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return xt(s[e])},set(s,e,t){return s[e]=t,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function un(s){tl=s(tl)}function dn(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const l=s.call(Kt(this),e,...t);return lr.set(l,e.sort?e.sort():[e]),xt(l)}:an().includes(s)?function(...e){return s.apply(Kt(this),e),xt(tr.get(this))}:function(...e){return xt(s.apply(Kt(this),e))}}function fn(s){return typeof s=="function"?dn(s):(s instanceof IDBTransaction&&cn(s),rn(s,nn())?new Proxy(s,tl):s)}function xt(s){if(s instanceof IDBRequest)return on(s);if(Jt.has(s))return Jt.get(s);const e=fn(s);return e!==s&&(Jt.set(s,e),dl.set(e,s)),e}const Kt=s=>dl.get(s);function hn(s,e,{blocked:t,upgrade:l,blocking:r,terminated:i}={}){const n=indexedDB.open(s,e),c=xt(n);return l&&n.addEventListener("upgradeneeded",h=>{l(xt(n.result),h.oldVersion,h.newVersion,xt(n.transaction),h)}),t&&n.addEventListener("blocked",h=>t(h.oldVersion,h.newVersion,h)),c.then(h=>{i&&h.addEventListener("close",()=>i()),r&&h.addEventListener("versionchange",m=>r(m.oldVersion,m.newVersion,m))}).catch(()=>{}),c}function Il(s,{blocked:e}={}){const t=indexedDB.deleteDatabase(s);return e&&t.addEventListener("blocked",l=>e(l.oldVersion,l)),xt(t).then(()=>{})}const vn=["get","getKey","getAll","getAllKeys","count"],pn=["put","add","delete","clear"],Yt=new Map;function El(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(Yt.get(e))return Yt.get(e);const t=e.replace(/FromIndex$/,""),l=e!==t,r=pn.includes(t);if(!(t in(l?IDBIndex:IDBObjectStore).prototype)||!(r||vn.includes(t)))return;const i=async function(n,...c){const h=this.transaction(n,r?"readwrite":"readonly");let m=h.store;return l&&(m=m.index(c.shift())),(await Promise.all([m[t](...c),r&&h.done]))[0]};return Yt.set(e,i),i}un(s=>({...s,get:(e,t,l)=>El(e,t)||s.get(e,t,l),has:(e,t)=>!!El(e,t)||s.has(e,t)}));const sr=async(s="")=>{let e=null;const t=await fetch(`${qt}/v1/models`,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",...s&&{authorization:`Bearer ${s}`}}}).then(async r=>{if(!r.ok)throw await r.json();return r.json()}).catch(r=>{var i;return console.log(r),e=`LiteLLM: ${((i=r==null?void 0:r.error)==null?void 0:i.message)??"Network Problem"}`,[]});if(e)throw e;const l=Array.isArray(t)?t:(t==null?void 0:t.data)??null;return l&&l.map(r=>({id:r.id,name:r.name??r.id,external:!0,source:"litellm"})).sort((r,i)=>r.name.localeCompare(i.name))},Qt=async(s="")=>{let e=null;const t=await fetch(`${qt}/model/info`,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",...s&&{authorization:`Bearer ${s}`}}}).then(async r=>{if(!r.ok)throw await r.json();return r.json()}).catch(r=>{var i;return console.log(r),e=`LiteLLM: ${((i=r==null?void 0:r.error)==null?void 0:i.message)??"Network Problem"}`,[]});if(e)throw e;return Array.isArray(t)?t:(t==null?void 0:t.data)??null},mn=async(s="",e)=>{let t=null;const l=await fetch(`${qt}/model/new`,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",...s&&{authorization:`Bearer ${s}`}},body:JSON.stringify({model_name:e.name,litellm_params:{model:e.model,...e.api_base===""?{}:{api_base:e.api_base},...e.api_key===""?{}:{api_key:e.api_key},...isNaN(parseInt(e.rpm))?{}:{rpm:parseInt(e.rpm)},...e.max_tokens===""?{}:{max_tokens:e.max_tokens}}})}).then(async r=>{if(!r.ok)throw await r.json();return r.json()}).catch(r=>{var i;return console.log(r),t=`LiteLLM: ${((i=r==null?void 0:r.error)==null?void 0:i.message)??"Network Problem"}`,[]});if(t)throw t;return l},gn=async(s="",e)=>{let t=null;const l=await fetch(`${qt}/model/delete`,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",...s&&{authorization:`Bearer ${s}`}},body:JSON.stringify({id:e})}).then(async r=>{if(!r.ok)throw await r.json();return r.json()}).catch(r=>{var i;return console.log(r),t=`LiteLLM: ${((i=r==null?void 0:r.error)==null?void 0:i.message)??"Network Problem"}`,[]});if(t)throw t;return l};function Tl(s){let e,t,l,r="Current Password",i,n,c,h,m,g,p="New Password",v,_,b,y,x,C,I="Confirm Password",k,O,A,P,U,R='<button class="px-4 py-2 text-xs bg-gray-800 hover:bg-gray-900 dark:bg-gray-700 dark:hover:bg-gray-800 text-gray-100 transition rounded-md font-medium">Update password</button>',S,V;return{c(){e=u("div"),t=u("div"),l=u("div"),l.textContent=r,i=E(),n=u("div"),c=u("input"),h=E(),m=u("div"),g=u("div"),g.textContent=p,v=E(),_=u("div"),b=u("input"),y=E(),x=u("div"),C=u("div"),C.textContent=I,k=E(),O=u("div"),A=u("input"),P=E(),U=u("div"),U.innerHTML=R,this.h()},l(M){e=d(M,"DIV",{class:!0});var z=w(e);t=d(z,"DIV",{class:!0});var q=w(t);l=d(q,"DIV",{class:!0,"data-svelte-h":!0}),j(l)!=="svelte-1oy1m4o"&&(l.textContent=r),i=T(q),n=d(q,"DIV",{class:!0});var H=w(n);c=d(H,"INPUT",{class:!0,type:!0,autocomplete:!0}),H.forEach(f),q.forEach(f),h=T(z),m=d(z,"DIV",{class:!0});var D=w(m);g=d(D,"DIV",{class:!0,"data-svelte-h":!0}),j(g)!=="svelte-1jv7gzz"&&(g.textContent=p),v=T(D),_=d(D,"DIV",{class:!0});var L=w(_);b=d(L,"INPUT",{class:!0,type:!0,autocomplete:!0}),L.forEach(f),D.forEach(f),y=T(z),x=d(z,"DIV",{class:!0});var F=w(x);C=d(F,"DIV",{class:!0,"data-svelte-h":!0}),j(C)!=="svelte-6hovb9"&&(C.textContent=I),k=T(F),O=d(F,"DIV",{class:!0});var Z=w(O);A=d(Z,"INPUT",{class:!0,type:!0,autocomplete:!0}),Z.forEach(f),F.forEach(f),z.forEach(f),P=T(M),U=d(M,"DIV",{class:!0,"data-svelte-h":!0}),j(U)!=="svelte-1qol27q"&&(U.innerHTML=R),this.h()},h(){o(l,"class","mb-1 text-xs text-gray-500"),o(c,"class","w-full rounded py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-800 outline-none"),o(c,"type","password"),o(c,"autocomplete","current-password"),c.required=!0,o(n,"class","flex-1"),o(t,"class","flex flex-col w-full"),o(g,"class","mb-1 text-xs text-gray-500"),o(b,"class","w-full rounded py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-800 outline-none"),o(b,"type","password"),o(b,"autocomplete","new-password"),b.required=!0,o(_,"class","flex-1"),o(m,"class","flex flex-col w-full"),o(C,"class","mb-1 text-xs text-gray-500"),o(A,"class","w-full rounded py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-800 outline-none"),o(A,"type","password"),o(A,"autocomplete","off"),A.required=!0,o(O,"class","flex-1"),o(x,"class","flex flex-col w-full"),o(e,"class","py-2.5 space-y-1.5"),o(U,"class","mt-3 flex justify-end")},m(M,z){B(M,e,z),a(e,t),a(t,l),a(t,i),a(t,n),a(n,c),re(c,s[1]),a(e,h),a(e,m),a(m,g),a(m,v),a(m,_),a(_,b),re(b,s[2]),a(e,y),a(e,x),a(x,C),a(x,k),a(x,O),a(O,A),re(A,s[3]),B(M,P,z),B(M,U,z),S||(V=[J(c,"input",s[6]),J(b,"input",s[7]),J(A,"input",s[8])],S=!0)},p(M,z){z&2&&c.value!==M[1]&&re(c,M[1]),z&4&&b.value!==M[2]&&re(b,M[2]),z&8&&A.value!==M[3]&&re(A,M[3])},d(M){M&&(f(e),f(P),f(U)),S=!1,qe(V)}}}function _n(s){let e,t,l,r="Change Password",i,n,c=s[0]?"Hide":"Show",h,m,g,p,v=s[0]&&Tl(s);return{c(){e=u("form"),t=u("div"),l=u("div"),l.textContent=r,i=E(),n=u("button"),h=xe(c),m=E(),v&&v.c(),this.h()},l(_){e=d(_,"FORM",{class:!0});var b=w(e);t=d(b,"DIV",{class:!0});var y=w(t);l=d(y,"DIV",{class:!0,"data-svelte-h":!0}),j(l)!=="svelte-1ofgszb"&&(l.textContent=r),i=T(y),n=d(y,"BUTTON",{class:!0,type:!0});var x=w(n);h=ke(x,c),x.forEach(f),y.forEach(f),m=T(b),v&&v.l(b),b.forEach(f),this.h()},h(){o(l,"class","font-medium"),o(n,"class","text-xs font-medium text-gray-500"),o(n,"type","button"),o(t,"class","flex justify-between items-center text-sm"),o(e,"class","flex flex-col text-sm")},m(_,b){B(_,e,b),a(e,t),a(t,l),a(t,i),a(t,n),a(n,h),a(e,m),v&&v.m(e,null),g||(p=[J(n,"click",s[5]),J(e,"submit",At(s[9]))],g=!0)},p(_,[b]){b&1&&c!==(c=_[0]?"Hide":"Show")&&je(h,c),_[0]?v?v.p(_,b):(v=Tl(_),v.c(),v.m(e,null)):v&&(v.d(1),v=null)},i:Pe,o:Pe,d(_){_&&f(e),v&&v.d(),g=!1,qe(p)}}}function bn(s,e,t){let l=!1,r="",i="",n="";const c=async()=>{i===n?(await Kr(localStorage.token,r,i).catch(b=>(Me.error(b),null))&&Me.success("Successfully updated."),t(1,r=""),t(2,i=""),t(3,n="")):(Me.error("The passwords you entered don't quite match. Please double-check and try again."),t(2,i=""),t(3,n=""))},h=()=>{t(0,l=!l)};function m(){r=this.value,t(1,r)}function g(){i=this.value,t(2,i)}function p(){n=this.value,t(3,n)}return[l,r,i,n,c,h,m,g,p,()=>{c()}]}class wn extends ot{constructor(e){super(),it(this,e,bn,_n,at,{})}}function yn(s){let e,t,l;return{c(){e=We("svg"),t=We("path"),l=We("path"),this.h()},l(r){e=Je(r,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var i=w(e);t=Je(i,"path",{d:!0}),w(t).forEach(f),l=Je(i,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),w(l).forEach(f),i.forEach(f),this.h()},h(){o(t,"d","M8 9.5a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Z"),o(l,"fill-rule","evenodd"),o(l,"d","M1.38 8.28a.87.87 0 0 1 0-.566 7.003 7.003 0 0 1 13.238.006.87.87 0 0 1 0 .566A7.003 7.003 0 0 1 1.379 8.28ZM11 8a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"),o(l,"clip-rule","evenodd"),o(e,"xmlns","http://www.w3.org/2000/svg"),o(e,"viewBox","0 0 16 16"),o(e,"fill","currentColor"),o(e,"class","w-4 h-4")},m(r,i){B(r,e,i),a(e,t),a(e,l)},d(r){r&&f(e)}}}function xn(s){let e,t,l;return{c(){e=We("svg"),t=We("path"),l=We("path"),this.h()},l(r){e=Je(r,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var i=w(e);t=Je(i,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),w(t).forEach(f),l=Je(i,"path",{d:!0}),w(l).forEach(f),i.forEach(f),this.h()},h(){o(t,"fill-rule","evenodd"),o(t,"d","M3.28 2.22a.75.75 0 0 0-1.06 1.06l10.5 10.5a.75.75 0 1 0 1.06-1.06l-1.322-1.323a7.012 7.012 0 0 0 2.16-3.11.87.87 0 0 0 0-.567A7.003 7.003 0 0 0 4.82 3.76l-1.54-1.54Zm3.196 3.195 1.135 1.136A1.502 1.502 0 0 1 9.45 8.389l1.136 1.135a3 3 0 0 0-4.109-4.109Z"),o(t,"clip-rule","evenodd"),o(l,"d","m7.812 10.994 1.816 1.816A7.003 7.003 0 0 1 1.38 8.28a.87.87 0 0 1 0-.566 6.985 6.985 0 0 1 1.113-2.039l2.513 2.513a3 3 0 0 0 2.806 2.806Z"),o(e,"xmlns","http://www.w3.org/2000/svg"),o(e,"viewBox","0 0 16 16"),o(e,"fill","currentColor"),o(e,"class","w-4 h-4")},m(r,i){B(r,e,i),a(e,t),a(e,l)},d(r){r&&f(e)}}}function kn(s){let e,t,l;return{c(){e=We("svg"),t=We("path"),l=We("path"),this.h()},l(r){e=Je(r,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var i=w(e);t=Je(i,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),w(t).forEach(f),l=Je(i,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),w(l).forEach(f),i.forEach(f),this.h()},h(){o(t,"fill-rule","evenodd"),o(t,"d","M11.986 3H12a2 2 0 0 1 2 2v6a2 2 0 0 1-1.5 1.937V7A2.5 2.5 0 0 0 10 4.5H4.063A2 2 0 0 1 6 3h.014A2.25 2.25 0 0 1 8.25 1h1.5a2.25 2.25 0 0 1 2.236 2ZM10.5 4v-.75a.75.75 0 0 0-.75-.75h-1.5a.75.75 0 0 0-.75.75V4h3Z"),o(t,"clip-rule","evenodd"),o(l,"fill-rule","evenodd"),o(l,"d","M3 6a1 1 0 0 0-1 1v7a1 1 0 0 0 1 1h7a1 1 0 0 0 1-1V7a1 1 0 0 0-1-1H3Zm1.75 2.5a.75.75 0 0 0 0 1.5h3.5a.75.75 0 0 0 0-1.5h-3.5ZM4 11.75a.75.75 0 0 1 .75-.75h3.5a.75.75 0 0 1 0 1.5h-3.5a.75.75 0 0 1-.75-.75Z"),o(l,"clip-rule","evenodd"),o(e,"xmlns","http://www.w3.org/2000/svg"),o(e,"viewBox","0 0 16 16"),o(e,"fill","currentColor"),o(e,"class","w-4 h-4")},m(r,i){B(r,e,i),a(e,t),a(e,l)},d(r){r&&f(e)}}}function Cn(s){let e,t;return{c(){e=We("svg"),t=We("path"),this.h()},l(l){e=Je(l,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var r=w(e);t=Je(r,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),w(t).forEach(f),r.forEach(f),this.h()},h(){o(t,"fill-rule","evenodd"),o(t,"d","M16.704 4.153a.75.75 0 01.143 1.052l-8 10.5a.75.75 0 01-1.127.075l-4.5-4.5a.75.75 0 011.06-1.06l3.894 3.893 7.48-9.817a.75.75 0 011.05-.143z"),o(t,"clip-rule","evenodd"),o(e,"xmlns","http://www.w3.org/2000/svg"),o(e,"viewBox","0 0 20 20"),o(e,"fill","currentColor"),o(e,"class","w-4 h-4")},m(l,r){B(l,e,r),a(e,t)},d(l){l&&f(e)}}}function In(s){let e,t,l,r,i,n="Profile",c,h,m,g,p,v,_,b,y,x='<div class="my-auto text-gray-100"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-5 h-5"><path d="m2.695 14.762-1.262 3.155a.5.5 0 0 0 .65.65l3.155-1.262a4 4 0 0 0 1.343-.886L17.5 5.501a2.121 2.121 0 0 0-3-3L3.58 13.419a4 4 0 0 0-.885 1.343Z"></path></svg></div>',C,I,k="Use Gravatar",O,A,P,U,R="Name",S,V,M,z,q,H,D,L,F,Z,W,Q,G='<div class="self-center text-xs font-medium">JWT Token</div>',K,N,X,Y,ee,$,ne,te,ue,fe,ae,be,Be="Save",we,Te,Le;D=new wn({});function He(de,Ce){return de[3]?xn:yn}let Ee=He(s),ge=Ee(s);function oe(de,Ce){return de[4]?Cn:kn}let Ae=oe(s),ve=Ae(s);return{c(){e=u("div"),t=u("div"),l=u("input"),r=E(),i=u("div"),i.textContent=n,c=E(),h=u("div"),m=u("div"),g=u("div"),p=u("button"),v=u("img"),b=E(),y=u("div"),y.innerHTML=x,C=E(),I=u("button"),I.textContent=k,O=E(),A=u("div"),P=u("div"),U=u("div"),U.textContent=R,S=E(),V=u("div"),M=u("input"),z=E(),q=u("hr"),H=E(),Xe(D.$$.fragment),L=E(),F=u("hr"),Z=E(),W=u("div"),Q=u("div"),Q.innerHTML=G,K=E(),N=u("div"),X=u("div"),Y=u("input"),$=E(),ne=u("button"),ge.c(),te=E(),ue=u("button"),ve.c(),fe=E(),ae=u("div"),be=u("button"),be.textContent=Be,this.h()},l(de){e=d(de,"DIV",{class:!0});var Ce=w(e);t=d(Ce,"DIV",{class:!0});var me=w(t);l=d(me,"INPUT",{id:!0,type:!0,accept:!0}),r=T(me),i=d(me,"DIV",{class:!0,"data-svelte-h":!0}),j(i)!=="svelte-i4kc7u"&&(i.textContent=n),c=T(me),h=d(me,"DIV",{class:!0});var ye=w(h);m=d(ye,"DIV",{class:!0});var Se=w(m);g=d(Se,"DIV",{class:!0});var Oe=w(g);p=d(Oe,"BUTTON",{class:!0,type:!0});var Ve=w(p);v=d(Ve,"IMG",{src:!0,alt:!0,class:!0}),b=T(Ve),y=d(Ve,"DIV",{class:!0,"data-svelte-h":!0}),j(y)!=="svelte-1lmkrrg"&&(y.innerHTML=x),Ve.forEach(f),Oe.forEach(f),C=T(Se),I=d(Se,"BUTTON",{class:!0,"data-svelte-h":!0}),j(I)!=="svelte-1u4yo8f"&&(I.textContent=k),Se.forEach(f),O=T(ye),A=d(ye,"DIV",{class:!0});var Qe=w(A);P=d(Qe,"DIV",{class:!0});var Ge=w(P);U=d(Ge,"DIV",{class:!0,"data-svelte-h":!0}),j(U)!=="svelte-guynw3"&&(U.textContent=R),S=T(Ge),V=d(Ge,"DIV",{class:!0});var pe=w(V);M=d(pe,"INPUT",{class:!0,type:!0}),pe.forEach(f),Ge.forEach(f),Qe.forEach(f),ye.forEach(f),z=T(me),q=d(me,"HR",{class:!0}),H=T(me),$e(D.$$.fragment,me),L=T(me),F=d(me,"HR",{class:!0}),Z=T(me),W=d(me,"DIV",{class:!0});var he=w(W);Q=d(he,"DIV",{class:!0,"data-svelte-h":!0}),j(Q)!=="svelte-1rcg0br"&&(Q.innerHTML=G),K=T(he),N=d(he,"DIV",{class:!0});var le=w(N);X=d(le,"DIV",{class:!0});var ce=w(X);Y=d(ce,"INPUT",{class:!0,type:!0}),$=T(ce),ne=d(ce,"BUTTON",{class:!0});var ie=w(ne);ge.l(ie),ie.forEach(f),ce.forEach(f),te=T(le),ue=d(le,"BUTTON",{class:!0});var _e=w(ue);ve.l(_e),_e.forEach(f),le.forEach(f),he.forEach(f),me.forEach(f),fe=T(Ce),ae=d(Ce,"DIV",{class:!0});var se=w(ae);be=d(se,"BUTTON",{class:!0,"data-svelte-h":!0}),j(be)!=="svelte-1v4747v"&&(be.textContent=Be),se.forEach(f),Ce.forEach(f),this.h()},h(){o(l,"id","profile-image-input"),o(l,"type","file"),l.hidden=!0,o(l,"accept","image/*"),o(i,"class","mb-2.5 text-sm font-medium"),Zt(v.src,_=s[1]!==""?s[1]:"/user.png")||o(v,"src",_),o(v,"alt","profile"),o(v,"class","rounded-full w-16 h-16 object-cover"),o(y,"class","absolute flex justify-center rounded-full bottom-0 left-0 right-0 top-0 h-full w-full overflow-hidden bg-gray-700 bg-fixed opacity-0 transition duration-300 ease-in-out hover:opacity-50"),o(p,"class","relative rounded-full dark:bg-gray-700"),o(p,"type","button"),o(g,"class","self-center"),o(I,"class","text-xs text-gray-600"),o(m,"class","flex flex-col"),o(U,"class","mb-1 text-xs text-gray-500"),o(M,"class","w-full rounded py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-800 outline-none"),o(M,"type","text"),M.required=!0,o(V,"class","flex-1"),o(P,"class","flex flex-col w-full"),o(A,"class","flex-1"),o(h,"class","flex space-x-5"),o(q,"class","dark:border-gray-700 my-4"),o(F,"class","dark:border-gray-700 my-4"),o(Q,"class","flex w-full justify-between"),o(Y,"class","w-full rounded-l-lg py-1.5 pl-4 text-sm dark:text-gray-300 dark:bg-gray-800 outline-none"),o(Y,"type",ee=s[3]?"text":"password"),Y.value=localStorage.token,Y.disabled=!0,o(ne,"class","dark:bg-gray-800 px-2 transition rounded-r-lg"),o(X,"class","flex w-full"),o(ue,"class","ml-1.5 px-1.5 py-1 hover:bg-gray-800 transition rounded-lg"),o(N,"class","flex mt-2"),o(W,"class","w-full justify-between hidden"),o(t,"class","space-y-3 pr-1.5 overflow-y-scroll max-h-80"),o(be,"class","px-4 py-2 bg-emerald-700 hover:bg-emerald-800 text-gray-100 transition rounded-lg"),o(ae,"class","flex justify-end pt-3 text-sm font-medium"),o(e,"class","flex flex-col h-full justify-between text-sm")},m(de,Ce){B(de,e,Ce),a(e,t),a(t,l),s[8](l),a(t,r),a(t,i),a(t,c),a(t,h),a(h,m),a(m,g),a(g,p),a(p,v),a(p,b),a(p,y),a(m,C),a(m,I),a(h,O),a(h,A),a(A,P),a(P,U),a(P,S),a(P,V),a(V,M),re(M,s[2]),a(t,z),a(t,q),a(t,H),et(D,t,null),a(t,L),a(t,F),a(t,Z),a(t,W),a(W,Q),a(W,K),a(W,N),a(N,X),a(X,Y),a(X,$),a(X,ne),ge.m(ne,null),a(N,te),a(N,ue),ve.m(ue,null),a(e,fe),a(e,ae),a(ae,be),we=!0,Te||(Le=[J(l,"change",s[9]),J(p,"click",s[10]),J(I,"click",s[11]),J(M,"input",s[12]),J(ne,"click",s[13]),J(ue,"click",s[14]),J(be,"click",s[15])],Te=!0)},p(de,[Ce]){(!we||Ce&2&&!Zt(v.src,_=de[1]!==""?de[1]:"/user.png"))&&o(v,"src",_),Ce&4&&M.value!==de[2]&&re(M,de[2]),(!we||Ce&8&&ee!==(ee=de[3]?"text":"password"))&&o(Y,"type",ee),Ee!==(Ee=He(de))&&(ge.d(1),ge=Ee(de),ge&&(ge.c(),ge.m(ne,null))),Ae!==(Ae=oe(de))&&(ve.d(1),ve=Ae(de),ve&&(ve.c(),ve.m(ue,null)))},i(de){we||(Ue(D.$$.fragment,de),we=!0)},o(de){Re(D.$$.fragment,de),we=!1},d(de){de&&f(e),s[8](null),tt(D),ge.d(),ve.d(),Te=!1,qe(Le)}}}function En(s,e,t){let l;Ye(s,wt,k=>t(6,l=k));let{saveHandler:r}=e,i="",n="",c=!1,h=!1,m;const g=async()=>{const k=await Yr(localStorage.token,n,i).catch(O=>{Me.error(O)});return k?(await wt.set(k),!0):!1};dt(()=>{t(2,n=l.name),t(1,i=l.profile_image_url)});function p(k){pt[k?"unshift":"push"](()=>{m=k,t(5,m)})}const v=k=>{const O=m.files??[];let A=new FileReader;A.onload=P=>{let U=`${P.target.result}`;const R=new Image;R.src=U,R.onload=function(){const S=document.createElement("canvas"),V=S.getContext("2d"),M=R.width/R.height;let z,q;M>1?(z=100*M,q=100):(z=100,q=100/M),S.width=100,S.height=100;const H=(100-z)/2,D=(100-q)/2;V.drawImage(R,H,D,z,q);const L=S.toDataURL("image/jpeg");t(1,i=L),t(5,m.files=null,m)}},O.length>0&&["image/gif","image/jpeg","image/png"].includes(O[0].type)&&A.readAsDataURL(O[0])},_=()=>{m.click()},b=async()=>{const k=await Qr(l.email);t(1,i=k)};function y(){n=this.value,t(2,n)}const x=()=>{t(3,c=!c)},C=()=>{qr(localStorage.token),t(4,h=!0),setTimeout(()=>{t(4,h=!1)},2e3)},I=async()=>{await g()&&r()};return s.$$set=k=>{"saveHandler"in k&&t(0,r=k.saveHandler)},[r,i,n,c,h,m,l,g,p,v,_,b,y,x,C,I]}class Tn extends ot{constructor(e){super(),it(this,e,En,In,at,{saveHandler:0})}}function Dl(s){let e,t,l,r,i="Ollama Version",n,c,h,m=(s[0]??"N/A")+"",g;return{c(){e=u("hr"),t=E(),l=u("div"),r=u("div"),r.textContent=i,n=E(),c=u("div"),h=u("div"),g=xe(m),this.h()},l(p){e=d(p,"HR",{class:!0}),t=T(p),l=d(p,"DIV",{});var v=w(l);r=d(v,"DIV",{class:!0,"data-svelte-h":!0}),j(r)!=="svelte-d3hsg3"&&(r.textContent=i),n=T(v),c=d(v,"DIV",{class:!0});var _=w(c);h=d(_,"DIV",{class:!0});var b=w(h);g=ke(b,m),b.forEach(f),_.forEach(f),v.forEach(f),this.h()},h(){o(e,"class","dark:border-gray-700"),o(r,"class","mb-2.5 text-sm font-medium"),o(h,"class","flex-1 text-xs text-gray-700 dark:text-gray-200"),o(c,"class","flex w-full")},m(p,v){B(p,e,v),B(p,t,v),B(p,l,v),a(l,r),a(l,n),a(l,c),a(c,h),a(h,g)},p(p,v){v&1&&m!==(m=(p[0]??"N/A")+"")&&je(g,m)},d(p){p&&(f(e),f(t),f(l))}}}function Dn(s){let e,t,l,r,i,n,c,h,m,g,p,v,_,b,y,x,C,I,k='<a href="https://github.com/shibing624/ChatPilot" target="_blank"><img alt="Github Repo" src="https://img.shields.io/github/stars/shibing624/ChatPilot?style=social&amp;label=Star us on Github"/></a>',O,A,P='Created by <a class="text-gray-500 dark:text-gray-300 font-medium" href="https://github.com/shibing624" target="_blank">shibing624</a>',U=s[0]&&Dl(s);return{c(){e=u("div"),t=u("div"),l=u("div"),r=u("div"),i=u("div"),n=xe(s[1]),c=xe(" Version"),h=E(),m=u("div"),g=u("div"),p=u("div"),v=xe("v"),_=xe(Lt),b=E(),U&&U.c(),y=E(),x=u("hr"),C=E(),I=u("div"),I.innerHTML=k,O=E(),A=u("div"),A.innerHTML=P,this.h()},l(R){e=d(R,"DIV",{class:!0});var S=w(e);t=d(S,"DIV",{class:!0});var V=w(t);l=d(V,"DIV",{});var M=w(l);r=d(M,"DIV",{class:!0});var z=w(r);i=d(z,"DIV",{});var q=w(i);n=ke(q,s[1]),c=ke(q," Version"),q.forEach(f),z.forEach(f),h=T(M),m=d(M,"DIV",{class:!0});var H=w(m);g=d(H,"DIV",{class:!0});var D=w(g);p=d(D,"DIV",{});var L=w(p);v=ke(L,"v"),_=ke(L,Lt),L.forEach(f),D.forEach(f),H.forEach(f),M.forEach(f),b=T(V),U&&U.l(V),y=T(V),x=d(V,"HR",{class:!0}),C=T(V),I=d(V,"DIV",{class:!0,"data-svelte-h":!0}),j(I)!=="svelte-pt60dl"&&(I.innerHTML=k),O=T(V),A=d(V,"DIV",{class:!0,"data-svelte-h":!0}),j(A)!=="svelte-oynnw2"&&(A.innerHTML=P),V.forEach(f),S.forEach(f),this.h()},h(){o(r,"class","mb-2.5 text-sm font-medium flex space-x-2 items-center"),o(g,"class","flex flex-col text-xs text-gray-700 dark:text-gray-200"),o(m,"class","flex w-full justify-between items-center"),o(x,"class","dark:border-gray-700"),o(I,"class","flex space-x-1"),o(A,"class","mt-2 text-xs text-gray-400 dark:text-gray-500"),o(t,"class","space-y-3"),o(e,"class","flex flex-col h-full justify-between space-y-3 text-sm mb-6")},m(R,S){B(R,e,S),a(e,t),a(t,l),a(l,r),a(r,i),a(i,n),a(i,c),a(l,h),a(l,m),a(m,g),a(g,p),a(p,v),a(p,_),a(t,b),U&&U.m(t,null),a(t,y),a(t,x),a(t,C),a(t,I),a(t,O),a(t,A)},p(R,[S]){S&2&&je(n,R[1]),R[0]?U?U.p(R,S):(U=Dl(R),U.c(),U.m(t,y)):U&&(U.d(1),U=null)},i:Pe,o:Pe,d(R){R&&f(e),U&&U.d()}}}function Vn(s,e,t){let l;Ye(s,il,h=>t(1,l=h));let r="",i=null,n={current:"",latest:""};const c=async()=>{i=null,n=await $r().catch(h=>({current:Lt,latest:Lt})),console.log(n),i=Gr(n.latest,n.current),console.log(i)};return dt(async()=>{t(0,r=await ol(localStorage.token).catch(h=>"")),c()}),[r,l]}class Mn extends ot{constructor(e){super(),it(this,e,Vn,Dn,at,{})}}var ll={exports:{}},sl={exports:{}},rl={exports:{}};(function(s,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=t;function t(l){return function(...r){if(l===null)throw new Error("Callback was already called.");var i=l;l=null,i.apply(this,r)}}s.exports=e.default})(rl,rl.exports);var Ln=rl.exports,kt={};Object.defineProperty(kt,"__esModule",{value:!0});kt.fallback=rr;kt.wrap=nr;var An=kt.hasQueueMicrotask=typeof queueMicrotask=="function"&&queueMicrotask,Sn=kt.hasSetImmediate=typeof setImmediate=="function"&&setImmediate,On=kt.hasNextTick=typeof process=="object"&&typeof process.nextTick=="function";function rr(s){setTimeout(s,0)}function nr(s){return(e,...t)=>s(()=>e(...t))}var St;An?St=queueMicrotask:Sn?St=setImmediate:On?St=process.nextTick:St=rr;kt.default=nr(St);var nl={exports:{}};(function(s,e){Object.defineProperty(e,"__esModule",{value:!0});class t{constructor(){this.head=this.tail=null,this.length=0}removeLink(i){return i.prev?i.prev.next=i.next:this.head=i.next,i.next?i.next.prev=i.prev:this.tail=i.prev,i.prev=i.next=null,this.length-=1,i}empty(){for(;this.head;)this.shift();return this}insertAfter(i,n){n.prev=i,n.next=i.next,i.next?i.next.prev=n:this.tail=n,i.next=n,this.length+=1}insertBefore(i,n){n.prev=i.prev,n.next=i,i.prev?i.prev.next=n:this.head=n,i.prev=n,this.length+=1}unshift(i){this.head?this.insertBefore(this.head,i):l(this,i)}push(i){this.tail?this.insertAfter(this.tail,i):l(this,i)}shift(){return this.head&&this.removeLink(this.head)}pop(){return this.tail&&this.removeLink(this.tail)}toArray(){return[...this]}*[Symbol.iterator](){for(var i=this.head;i;)yield i.data,i=i.next}remove(i){for(var n=this.head;n;){var{next:c}=n;i(n)&&this.removeLink(n),n=c}return this}}e.default=t;function l(r,i){r.length=1,r.head=r.tail=i}s.exports=e.default})(nl,nl.exports);var Hn=nl.exports,bt={},Rt={exports:{}},al={exports:{}};(function(s,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return function(...l){var r=l.pop();return t.call(this,l,r)}},s.exports=e.default})(al,al.exports);var Bn=al.exports,Vl;function Nn(){return Vl||(Vl=1,function(s,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=h;var t=Bn,l=c(t),r=kt,i=c(r),n=fl();function c(p){return p&&p.__esModule?p:{default:p}}function h(p){return(0,n.isAsync)(p)?function(...v){const _=v.pop(),b=p.apply(this,v);return m(b,_)}:(0,l.default)(function(v,_){var b;try{b=p.apply(this,v)}catch(y){return _(y)}if(b&&typeof b.then=="function")return m(b,_);_(null,b)})}function m(p,v){return p.then(_=>{g(v,null,_)},_=>{g(v,_&&(_ instanceof Error||_.message)?_:new Error(_))})}function g(p,v,_){try{p(v,_)}catch(b){(0,i.default)(y=>{throw y},b)}}s.exports=e.default}(Rt,Rt.exports)),Rt.exports}var Ml;function fl(){if(Ml)return bt;Ml=1,Object.defineProperty(bt,"__esModule",{value:!0}),bt.isAsyncIterable=bt.isAsyncGenerator=bt.isAsync=void 0;var s=Nn(),e=t(s);function t(c){return c&&c.__esModule?c:{default:c}}function l(c){return c[Symbol.toStringTag]==="AsyncFunction"}function r(c){return c[Symbol.toStringTag]==="AsyncGenerator"}function i(c){return typeof c[Symbol.asyncIterator]=="function"}function n(c){if(typeof c!="function")throw new Error("expected a function");return l(c)?(0,e.default)(c):c}return bt.default=n,bt.isAsync=l,bt.isAsyncGenerator=r,bt.isAsyncIterable=i,bt}(function(s,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=p;var t=Ln,l=g(t),r=kt,i=g(r),n=Hn,c=g(n),h=fl(),m=g(h);function g(v){return v&&v.__esModule?v:{default:v}}function p(v,_,b){if(_==null)_=1;else if(_===0)throw new RangeError("Concurrency must not be zero");var y=(0,m.default)(v),x=0,C=[];const I={error:[],drain:[],saturated:[],unsaturated:[],empty:[]};function k(H,D){I[H].push(D)}function O(H,D){const L=(...F)=>{A(H,L),D(...F)};I[H].push(L)}function A(H,D){if(!H)return Object.keys(I).forEach(L=>I[L]=[]);if(!D)return I[H]=[];I[H]=I[H].filter(L=>L!==D)}function P(H,...D){I[H].forEach(L=>L(...D))}var U=!1;function R(H,D,L,F){if(F!=null&&typeof F!="function")throw new Error("task callback must be a function");q.started=!0;var Z,W;function Q(K,...N){if(K)return L?W(K):Z();if(N.length<=1)return Z(N[0]);Z(N)}var G=q._createTaskItem(H,L?Q:F||Q);if(D?q._tasks.unshift(G):q._tasks.push(G),U||(U=!0,(0,i.default)(()=>{U=!1,q.process()})),L||!F)return new Promise((K,N)=>{Z=K,W=N})}function S(H){return function(D,...L){x-=1;for(var F=0,Z=H.length;F<Z;F++){var W=H[F],Q=C.indexOf(W);Q===0?C.shift():Q>0&&C.splice(Q,1),W.callback(D,...L),D!=null&&P("error",D,W.data)}x<=q.concurrency-q.buffer&&P("unsaturated"),q.idle()&&P("drain"),q.process()}}function V(H){return H.length===0&&q.idle()?((0,i.default)(()=>P("drain")),!0):!1}const M=H=>D=>{if(!D)return new Promise((L,F)=>{O(H,(Z,W)=>{if(Z)return F(Z);L(W)})});A(H),k(H,D)};var z=!1,q={_tasks:new c.default,_createTaskItem(H,D){return{data:H,callback:D}},*[Symbol.iterator](){yield*q._tasks[Symbol.iterator]()},concurrency:_,payload:b,buffer:_/4,started:!1,paused:!1,push(H,D){return Array.isArray(H)?V(H)?void 0:H.map(L=>R(L,!1,!1,D)):R(H,!1,!1,D)},pushAsync(H,D){return Array.isArray(H)?V(H)?void 0:H.map(L=>R(L,!1,!0,D)):R(H,!1,!0,D)},kill(){A(),q._tasks.empty()},unshift(H,D){return Array.isArray(H)?V(H)?void 0:H.map(L=>R(L,!0,!1,D)):R(H,!0,!1,D)},unshiftAsync(H,D){return Array.isArray(H)?V(H)?void 0:H.map(L=>R(L,!0,!0,D)):R(H,!0,!0,D)},remove(H){q._tasks.remove(H)},process(){if(!z){for(z=!0;!q.paused&&x<q.concurrency&&q._tasks.length;){var H=[],D=[],L=q._tasks.length;q.payload&&(L=Math.min(L,q.payload));for(var F=0;F<L;F++){var Z=q._tasks.shift();H.push(Z),C.push(Z),D.push(Z.data)}x+=1,q._tasks.length===0&&P("empty"),x===q.concurrency&&P("saturated");var W=(0,l.default)(S(H));y(D,W)}z=!1}},length(){return q._tasks.length},running(){return x},workersList(){return C},idle(){return q._tasks.length+x===0},pause(){q.paused=!0},resume(){q.paused!==!1&&(q.paused=!1,(0,i.default)(q.process))}};return Object.defineProperties(q,{saturated:{writable:!1,value:M("saturated")},unsaturated:{writable:!1,value:M("unsaturated")},empty:{writable:!1,value:M("empty")},drain:{writable:!1,value:M("drain")},error:{writable:!1,value:M("error")}}),q}s.exports=e.default})(sl,sl.exports);var Pn=sl.exports;(function(s,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(c,h){var m=(0,i.default)(c);return(0,l.default)((g,p)=>{m(g[0],p)},h,1)};var t=Pn,l=n(t),r=fl(),i=n(r);function n(c){return c&&c.__esModule?c:{default:c}}s.exports=e.default})(ll,ll.exports);var Un=ll.exports;const jn=tn(Un);function Ll(s,e,t){const l=s.slice();return l[68]=e[t],l}function Al(s,e,t){const l=s.slice();return l[68]=e[t],l}function Sl(s,e,t){const l=s.slice();return l[68]=e[t],l}function Ol(s,e,t){const l=s.slice();return l[75]=e[t],l[77]=t,l}function Hl(s){let e,t,l="Manage Ollama Models",r,i,n,c,h,m="Pull a model from Ollama.com",g,p,v,_,b,y,x,C,I='<div class="mt-2 mb-1 text-xs text-gray-400 dark:text-gray-500">To access the available model names for downloading, <a class="text-gray-500 dark:text-gray-300 font-medium underline" href="https://ollama.com/library" target="_blank">click here.</a></div>',k,O=Object.keys(s[17]).length>0,A,P,U,R="Delete a model",S,V,M,z,q,H,D,L='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M5 3.25V4H2.75a.75.75 0 0 0 0 1.5h.3l.815 8.15A1.5 1.5 0 0 0 5.357 15h5.285a1.5 1.5 0 0 0 1.493-1.35l.815-8.15h.3a.75.75 0 0 0 0-1.5H11v-.75A2.25 2.25 0 0 0 8.75 1h-1.5A2.25 2.25 0 0 0 5 3.25Zm2.25-.75a.75.75 0 0 0-.75.75V4h3v-.75a.75.75 0 0 0-.75-.75h-1.5ZM6.05 6a.75.75 0 0 1 .787.713l.275 5.5a.75.75 0 0 1-1.498.075l-.275-5.5A.75.75 0 0 1 6.05 6Zm3.9 0a.75.75 0 0 1 .712.787l-.275 5.5a.75.75 0 0 1-1.498-.075l.275-5.5a.75.75 0 0 1 .786-.711Z" clip-rule="evenodd"></path></svg>',F,Z,W,Q,G="Experimental",K,N,X=s[15]?"Hide":"Show",Y,ee,$,ne,te,ue,fe,ae=s[11].length>0&&Bl(s);function be(oe,Ae){return oe[18]?Zn:Rn}let Be=be(s),we=Be(s),Te=O&&Ul(s),Le=!s[26]&&zl(),He=ze(s[27].filter(s[39])),Ee=[];for(let oe=0;oe<He.length;oe+=1)Ee[oe]=Rl(Al(s,He,oe));let ge=s[15]&&Zl(s);return{c(){e=u("div"),t=u("div"),t.textContent=l,r=E(),ae&&ae.c(),i=E(),n=u("div"),c=u("div"),h=u("div"),h.textContent=m,g=E(),p=u("div"),v=u("div"),_=u("input"),b=E(),y=u("button"),we.c(),x=E(),C=u("div"),C.innerHTML=I,k=E(),Te&&Te.c(),A=E(),P=u("div"),U=u("div"),U.textContent=R,S=E(),V=u("div"),M=u("div"),z=u("select"),Le&&Le.c(),q=st();for(let oe=0;oe<Ee.length;oe+=1)Ee[oe].c();H=E(),D=u("button"),D.innerHTML=L,F=E(),Z=u("div"),W=u("div"),Q=u("div"),Q.textContent=G,K=E(),N=u("button"),Y=xe(X),ee=E(),ge&&ge.c(),$=E(),ne=u("hr"),this.h()},l(oe){e=d(oe,"DIV",{class:!0});var Ae=w(e);t=d(Ae,"DIV",{class:!0,"data-svelte-h":!0}),j(t)!=="svelte-17t8qb7"&&(t.textContent=l),r=T(Ae),ae&&ae.l(Ae),i=T(Ae),n=d(Ae,"DIV",{class:!0});var ve=w(n);c=d(ve,"DIV",{});var de=w(c);h=d(de,"DIV",{class:!0,"data-svelte-h":!0}),j(h)!=="svelte-1ipic0a"&&(h.textContent=m),g=T(de),p=d(de,"DIV",{class:!0});var Ce=w(p);v=d(Ce,"DIV",{class:!0});var me=w(v);_=d(me,"INPUT",{class:!0,placeholder:!0}),me.forEach(f),b=T(Ce),y=d(Ce,"BUTTON",{class:!0});var ye=w(y);we.l(ye),ye.forEach(f),Ce.forEach(f),x=T(de),C=d(de,"DIV",{"data-svelte-h":!0}),j(C)!=="svelte-r3qwax"&&(C.innerHTML=I),k=T(de),Te&&Te.l(de),de.forEach(f),A=T(ve),P=d(ve,"DIV",{});var Se=w(P);U=d(Se,"DIV",{class:!0,"data-svelte-h":!0}),j(U)!=="svelte-kr6ajt"&&(U.textContent=R),S=T(Se),V=d(Se,"DIV",{class:!0});var Oe=w(V);M=d(Oe,"DIV",{class:!0});var Ve=w(M);z=d(Ve,"SELECT",{class:!0,placeholder:!0});var Qe=w(z);Le&&Le.l(Qe),q=st();for(let le=0;le<Ee.length;le+=1)Ee[le].l(Qe);Qe.forEach(f),Ve.forEach(f),H=T(Oe),D=d(Oe,"BUTTON",{class:!0,"data-svelte-h":!0}),j(D)!=="svelte-1u0ox72"&&(D.innerHTML=L),Oe.forEach(f),Se.forEach(f),F=T(ve),Z=d(ve,"DIV",{class:!0});var Ge=w(Z);W=d(Ge,"DIV",{class:!0});var pe=w(W);Q=d(pe,"DIV",{class:!0,"data-svelte-h":!0}),j(Q)!=="svelte-17gcyvk"&&(Q.textContent=G),K=T(pe),N=d(pe,"BUTTON",{class:!0,type:!0});var he=w(N);Y=ke(he,X),he.forEach(f),pe.forEach(f),Ge.forEach(f),ee=T(ve),ge&&ge.l(ve),ve.forEach(f),Ae.forEach(f),$=T(oe),ne=d(oe,"HR",{class:!0}),this.h()},h(){o(t,"class","text-sm font-medium"),o(h,"class","mb-2 text-sm font-medium"),o(_,"class","w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),o(_,"placeholder","Enter model tag (e.g. mistral:7b)"),o(v,"class","flex-1 mr-2"),o(y,"class","px-2.5 bg-gray-100 hover:bg-gray-200 text-gray-800 dark:bg-gray-850 dark:hover:bg-gray-800 dark:text-gray-100 rounded-lg transition"),y.disabled=s[18],o(p,"class","flex w-full"),o(U,"class","mb-2 text-sm font-medium"),o(z,"class","w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),o(z,"placeholder","Select a model"),s[26]===void 0&&mt(()=>s[40].call(z)),o(M,"class","flex-1 mr-2"),o(D,"class","px-2.5 bg-gray-100 hover:bg-gray-200 text-gray-800 dark:bg-gray-850 dark:hover:bg-gray-800 dark:text-gray-100 rounded-lg transition"),o(V,"class","flex w-full"),o(Q,"class","text-sm font-medium"),o(N,"class","text-xs font-medium text-gray-500"),o(N,"type","button"),o(W,"class","flex justify-between items-center text-xs"),o(Z,"class","pt-1"),o(n,"class","space-y-2"),o(e,"class","space-y-2 pr-1.5"),o(ne,"class","dark:border-gray-700 my-2")},m(oe,Ae){B(oe,e,Ae),a(e,t),a(e,r),ae&&ae.m(e,null),a(e,i),a(e,n),a(n,c),a(c,h),a(c,g),a(c,p),a(p,v),a(v,_),re(_,s[19]),a(p,b),a(p,y),we.m(y,null),a(c,x),a(c,C),a(c,k),Te&&Te.m(c,null),a(n,A),a(n,P),a(P,U),a(P,S),a(P,V),a(V,M),a(M,z),Le&&Le.m(z,null),a(z,q);for(let ve=0;ve<Ee.length;ve+=1)Ee[ve]&&Ee[ve].m(z,null);lt(z,s[26],!0),a(V,H),a(V,D),a(n,F),a(n,Z),a(Z,W),a(W,Q),a(W,K),a(W,N),a(N,Y),a(n,ee),ge&&ge.m(n,null),B(oe,$,Ae),B(oe,ne,Ae),te=!0,ue||(fe=[J(_,"input",s[37]),J(y,"click",s[38]),J(z,"change",s[40]),J(D,"click",s[41]),J(N,"click",s[42])],ue=!0)},p(oe,Ae){if(oe[11].length>0?ae?(ae.p(oe,Ae),Ae[0]&2048&&Ue(ae,1)):(ae=Bl(oe),ae.c(),Ue(ae,1),ae.m(e,i)):ae&&(Nt(),Re(ae,1,1,()=>{ae=null}),Pt()),Ae[0]&524288&&_.value!==oe[19]&&re(_,oe[19]),Be!==(Be=be(oe))&&(we.d(1),we=Be(oe),we&&(we.c(),we.m(y,null))),(!te||Ae[0]&262144)&&(y.disabled=oe[18]),Ae[0]&131072&&(O=Object.keys(oe[17]).length>0),O?Te?Te.p(oe,Ae):(Te=Ul(oe),Te.c(),Te.m(c,null)):Te&&(Te.d(1),Te=null),oe[26]?Le&&(Le.d(1),Le=null):Le||(Le=zl(),Le.c(),Le.m(z,q)),Ae[0]&134221824){He=ze(oe[27].filter(oe[39]));let ve;for(ve=0;ve<He.length;ve+=1){const de=Al(oe,He,ve);Ee[ve]?Ee[ve].p(de,Ae):(Ee[ve]=Rl(de),Ee[ve].c(),Ee[ve].m(z,null))}for(;ve<Ee.length;ve+=1)Ee[ve].d(1);Ee.length=He.length}Ae[0]&201330688&&lt(z,oe[26]),(!te||Ae[0]&32768)&&X!==(X=oe[15]?"Hide":"Show")&&je(Y,X),oe[15]?ge?ge.p(oe,Ae):(ge=Zl(oe),ge.c(),ge.m(n,null)):ge&&(ge.d(1),ge=null)},i(oe){te||(Ue(ae),te=!0)},o(oe){Re(ae),te=!1},d(oe){oe&&(f(e),f($),f(ne)),ae&&ae.d(),we.d(),Te&&Te.d(),Le&&Le.d(),rt(Ee,oe),ge&&ge.d(),ue=!1,qe(fe)}}}function Bl(s){let e,t,l,r,i,n,c,h,m,g,p,v,_=ze(s[11]),b=[];for(let x=0;x<_.length;x+=1)b[x]=Nl(Ol(s,_,x));c=new cl({props:{content:"Update All Models",placement:"top",$$slots:{default:[zn]},$$scope:{ctx:s}}});let y=s[13]&&Pl(s);return{c(){e=u("div"),t=u("div"),l=u("select");for(let x=0;x<b.length;x+=1)b[x].c();r=E(),i=u("div"),n=u("div"),Xe(c.$$.fragment),h=E(),y&&y.c(),m=st(),this.h()},l(x){e=d(x,"DIV",{class:!0});var C=w(e);t=d(C,"DIV",{class:!0});var I=w(t);l=d(I,"SELECT",{class:!0,placeholder:!0});var k=w(l);for(let P=0;P<b.length;P+=1)b[P].l(k);k.forEach(f),I.forEach(f),r=T(C),i=d(C,"DIV",{});var O=w(i);n=d(O,"DIV",{class:!0});var A=w(n);$e(c.$$.fragment,A),A.forEach(f),O.forEach(f),C.forEach(f),h=T(x),y&&y.l(x),m=st(),this.h()},h(){o(l,"class","w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),o(l,"placeholder","Select an Ollama instance"),s[12]===void 0&&mt(()=>s[35].call(l)),o(t,"class","flex-1 pb-1"),o(n,"class","flex w-full justify-end"),o(e,"class","flex gap-2")},m(x,C){B(x,e,C),a(e,t),a(t,l);for(let I=0;I<b.length;I+=1)b[I]&&b[I].m(l,null);lt(l,s[12],!0),a(e,r),a(e,i),a(i,n),et(c,n,null),B(x,h,C),y&&y.m(x,C),B(x,m,C),g=!0,p||(v=J(l,"change",s[35]),p=!0)},p(x,C){if(C[0]&2048){_=ze(x[11]);let k;for(k=0;k<_.length;k+=1){const O=Ol(x,_,k);b[k]?b[k].p(O,C):(b[k]=Nl(O),b[k].c(),b[k].m(l,null))}for(;k<b.length;k+=1)b[k].d(1);b.length=_.length}C[0]&4096&&lt(l,x[12]);const I={};C[2]&65536&&(I.$$scope={dirty:C,ctx:x}),c.$set(I),x[13]?y?y.p(x,C):(y=Pl(x),y.c(),y.m(m.parentNode,m)):y&&(y.d(1),y=null)},i(x){g||(Ue(c.$$.fragment,x),g=!0)},o(x){Re(c.$$.fragment,x),g=!1},d(x){x&&(f(e),f(h),f(m)),rt(b,x),tt(c),y&&y.d(x),p=!1,v()}}}function Nl(s){let e,t=s[75]+"",l;return{c(){e=u("option"),l=xe(t),this.h()},l(r){e=d(r,"OPTION",{class:!0});var i=w(e);l=ke(i,t),i.forEach(f),this.h()},h(){e.__value=s[77],re(e,e.__value),o(e,"class","bg-gray-100 dark:bg-gray-700")},m(r,i){B(r,e,i),a(e,l)},p(r,i){i[0]&2048&&t!==(t=r[75]+"")&&je(l,t)},d(r){r&&f(e)}}}function zn(s){let e,t='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path d="M7 1a.75.75 0 0 1 .75.75V6h-1.5V1.75A.75.75 0 0 1 7 1ZM6.25 6v2.94L5.03 7.72a.75.75 0 0 0-1.06 1.06l2.5 2.5a.75.75 0 0 0 1.06 0l2.5-2.5a.75.75 0 1 0-1.06-1.06L7.75 8.94V6H10a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h2.25Z"></path><path d="M4.268 14A2 2 0 0 0 6 15h6a2 2 0 0 0 2-2v-3a2 2 0 0 0-1-1.732V11a3 3 0 0 1-3 3H4.268Z"></path></svg>',l,r;return{c(){e=u("button"),e.innerHTML=t,this.h()},l(i){e=d(i,"BUTTON",{class:!0,"data-svelte-h":!0}),j(e)!=="svelte-vfv02l"&&(e.innerHTML=t),this.h()},h(){o(e,"class","p-2.5 flex gap-2 items-center bg-gray-100 hover:bg-gray-200 text-gray-800 dark:bg-gray-850 dark:hover:bg-gray-800 dark:text-gray-100 rounded-lg transition")},m(i,n){B(i,e,n),l||(r=J(e,"click",s[36]),l=!0)},p:Pe,d(i){i&&f(e),l=!1,r()}}}function Pl(s){let e,t,l,r=s[14]?`(${s[14]}%)`:"",i;return{c(){e=xe('Updating "'),t=xe(s[13]),l=xe('" '),i=xe(r)},l(n){e=ke(n,'Updating "'),t=ke(n,s[13]),l=ke(n,'" '),i=ke(n,r)},m(n,c){B(n,e,c),B(n,t,c),B(n,l,c),B(n,i,c)},p(n,c){c[0]&8192&&je(t,n[13]),c[0]&16384&&r!==(r=n[14]?`(${n[14]}%)`:"")&&je(i,r)},d(n){n&&(f(e),f(t),f(l),f(i))}}}function Rn(s){let e,t,l;return{c(){e=We("svg"),t=We("path"),l=We("path"),this.h()},l(r){e=Je(r,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var i=w(e);t=Je(i,"path",{d:!0}),w(t).forEach(f),l=Je(i,"path",{d:!0}),w(l).forEach(f),i.forEach(f),this.h()},h(){o(t,"d","M8.75 2.75a.75.75 0 0 0-1.5 0v5.69L5.03 6.22a.75.75 0 0 0-1.06 1.06l3.5 3.5a.75.75 0 0 0 1.06 0l3.5-3.5a.75.75 0 0 0-1.06-1.06L8.75 8.44V2.75Z"),o(l,"d","M3.5 9.75a.75.75 0 0 0-1.5 0v1.5A2.75 2.75 0 0 0 4.75 14h6.5A2.75 2.75 0 0 0 14 11.25v-1.5a.75.75 0 0 0-1.5 0v1.5c0 .69-.56 1.25-1.25 1.25h-6.5c-.69 0-1.25-.56-1.25-1.25v-1.5Z"),o(e,"xmlns","http://www.w3.org/2000/svg"),o(e,"viewBox","0 0 16 16"),o(e,"fill","currentColor"),o(e,"class","w-4 h-4")},m(r,i){B(r,e,i),a(e,t),a(e,l)},d(r){r&&f(e)}}}function Zn(s){let e,t=`<svg class="w-4 h-4" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><style>.spinner_ajPY {
													transform-origin: center;
													animation: spinner_AtaB 0.75s infinite linear;
												}
												@keyframes spinner_AtaB {
													100% {
														transform: rotate(360deg);
													}
												}
											</style><path d="M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z" opacity=".25"></path><path d="M10.14,1.16a11,11,0,0,0-9,8.92A1.59,1.59,0,0,0,2.46,12,1.52,1.52,0,0,0,4.11,10.7a8,8,0,0,1,6.66-6.61A1.42,1.42,0,0,0,12,2.69h0A1.57,1.57,0,0,0,10.14,1.16Z" class="spinner_ajPY"></path></svg>`;return{c(){e=u("div"),e.innerHTML=t,this.h()},l(l){e=d(l,"DIV",{class:!0,"data-svelte-h":!0}),j(e)!=="svelte-1lfba08"&&(e.innerHTML=t),this.h()},h(){o(e,"class","self-center")},m(l,r){B(l,e,r)},d(l){l&&f(e)}}}function Ul(s){let e,t=ze(Object.keys(s[17])),l=[];for(let r=0;r<t.length;r+=1)l[r]=jl(Sl(s,t,r));return{c(){for(let r=0;r<l.length;r+=1)l[r].c();e=st()},l(r){for(let i=0;i<l.length;i+=1)l[i].l(r);e=st()},m(r,i){for(let n=0;n<l.length;n+=1)l[n]&&l[n].m(r,i);B(r,e,i)},p(r,i){if(i[0]&131072){t=ze(Object.keys(r[17]));let n;for(n=0;n<t.length;n+=1){const c=Sl(r,t,n);l[n]?l[n].p(c,i):(l[n]=jl(c),l[n].c(),l[n].m(e.parentNode,e))}for(;n<l.length;n+=1)l[n].d(1);l.length=t.length}},d(r){r&&f(e),rt(l,r)}}}function jl(s){let e,t,l=s[68]+"",r,i,n,c,h=(s[17][s[68]].pullProgress??0)+"",m,g,p,v,_=s[17][s[68]].digest+"",b,y;return{c(){e=u("div"),t=u("div"),r=xe(l),i=E(),n=u("div"),c=u("div"),m=xe(h),g=xe("%"),p=E(),v=u("div"),b=xe(_),y=E(),this.h()},l(x){e=d(x,"DIV",{class:!0});var C=w(e);t=d(C,"DIV",{class:!0});var I=w(t);r=ke(I,l),I.forEach(f),i=T(C),n=d(C,"DIV",{class:!0});var k=w(n);c=d(k,"DIV",{class:!0,style:!0});var O=w(c);m=ke(O,h),g=ke(O,"%"),O.forEach(f),p=T(k),v=d(k,"DIV",{class:!0,style:!0});var A=w(v);b=ke(A,_),A.forEach(f),k.forEach(f),y=T(C),C.forEach(f),this.h()},h(){o(t,"class","font-medium mb-1"),o(c,"class","dark:bg-gray-600 bg-gray-500 text-xs font-medium text-gray-100 text-center p-0.5 leading-none rounded-full"),Fe(c,"width",Math.max(15,s[17][s[68]].pullProgress??0)+"%"),o(v,"class","mt-1 text-xs dark:text-gray-500"),Fe(v,"font-size","0.5rem"),o(n,"class",""),o(e,"class","flex flex-col")},m(x,C){B(x,e,C),a(e,t),a(t,r),a(e,i),a(e,n),a(n,c),a(c,m),a(c,g),a(n,p),a(n,v),a(v,b),a(e,y)},p(x,C){C[0]&131072&&l!==(l=x[68]+"")&&je(r,l),C[0]&131072&&h!==(h=(x[17][x[68]].pullProgress??0)+"")&&je(m,h),C[0]&131072&&Fe(c,"width",Math.max(15,x[17][x[68]].pullProgress??0)+"%"),C[0]&131072&&_!==(_=x[17][x[68]].digest+"")&&je(b,_)},d(x){x&&f(e)}}}function zl(s){let e,t="Select a model";return{c(){e=u("option"),e.textContent=t,this.h()},l(l){e=d(l,"OPTION",{"data-svelte-h":!0}),j(e)!=="svelte-1ay6ljx"&&(e.textContent=t),this.h()},h(){e.__value="",re(e,e.__value),e.disabled=!0,e.selected=!0},m(l,r){B(l,e,r)},d(l){l&&f(e)}}}function Rl(s){let e,t=s[68].name+" ("+(s[68].size/1073741824).toFixed(1)+" GB)",l,r;return{c(){e=u("option"),l=xe(t),this.h()},l(i){e=d(i,"OPTION",{class:!0});var n=w(e);l=ke(n,t),n.forEach(f),this.h()},h(){e.__value=r=s[68].name,re(e,e.__value),o(e,"class","bg-gray-100 dark:bg-gray-700")},m(i,n){B(i,e,n),a(e,l)},p(i,n){n[0]&134221824&&t!==(t=i[68].name+" ("+(i[68].size/1024**3).toFixed(1)+" GB)")&&je(l,t),n[0]&134221824&&r!==(r=i[68].name)&&(e.__value=r,re(e,e.__value))},d(i){i&&f(e)}}}function Zl(s){let e,t,l,r="Upload a GGUF model",i,n,c,h,m,g,p,v,_,b='To access the GGUF models available for downloading, <a class="text-gray-500 dark:text-gray-300 font-medium underline" href="https://huggingface.co/models?search=gguf" target="_blank">click here.</a>',y,x,C;function I(M,z){return M[20]==="file"?Gn:qn}let k=I(s),O=k(s);function A(M,z){return M[20]==="file"?Wn:Fn}let P=A(s),U=P(s),R=(s[20]==="file"&&s[21]&&s[21].length>0||s[20]==="url"&&s[22]!=="")&&ql(s),S=(s[20]==="file"&&s[21]&&s[21].length>0||s[20]==="url"&&s[22]!=="")&&Gl(s),V=s[25]!==null&&Fl(s);return{c(){e=u("form"),t=u("div"),l=u("div"),l.textContent=r,i=E(),n=u("button"),O.c(),c=E(),h=u("div"),m=u("div"),U.c(),g=E(),R&&R.c(),p=E(),S&&S.c(),v=E(),_=u("div"),_.innerHTML=b,y=E(),V&&V.c(),this.h()},l(M){e=d(M,"FORM",{});var z=w(e);t=d(z,"DIV",{class:!0});var q=w(t);l=d(q,"DIV",{class:!0,"data-svelte-h":!0}),j(l)!=="svelte-rqd4vq"&&(l.textContent=r),i=T(q),n=d(q,"BUTTON",{class:!0,type:!0});var H=w(n);O.l(H),H.forEach(f),q.forEach(f),c=T(z),h=d(z,"DIV",{class:!0});var D=w(h);m=d(D,"DIV",{class:!0});var L=w(m);U.l(L),L.forEach(f),g=T(D),R&&R.l(D),D.forEach(f),p=T(z),S&&S.l(z),v=T(z),_=d(z,"DIV",{class:!0,"data-svelte-h":!0}),j(_)!=="svelte-qmcvsw"&&(_.innerHTML=b),y=T(z),V&&V.l(z),z.forEach(f),this.h()},h(){o(l,"class","text-sm font-medium"),o(n,"class","p-1 px-3 text-xs flex rounded transition"),o(n,"type","button"),o(t,"class","mb-2 flex w-full justify-between"),o(m,"class","flex flex-col w-full"),o(h,"class","flex w-full mb-1.5"),o(_,"class","mt-1 text-xs text-gray-400 dark:text-gray-500")},m(M,z){B(M,e,z),a(e,t),a(t,l),a(t,i),a(t,n),O.m(n,null),a(e,c),a(e,h),a(h,m),U.m(m,null),a(h,g),R&&R.m(h,null),a(e,p),S&&S.m(e,null),a(e,v),a(e,_),a(e,y),V&&V.m(e,null),x||(C=[J(n,"click",s[43]),J(e,"submit",At(s[50]))],x=!0)},p(M,z){k!==(k=I(M))&&(O.d(1),O=k(M),O&&(O.c(),O.m(n,null))),P===(P=A(M))&&U?U.p(M,z):(U.d(1),U=P(M),U&&(U.c(),U.m(m,null))),M[20]==="file"&&M[21]&&M[21].length>0||M[20]==="url"&&M[22]!==""?R?R.p(M,z):(R=ql(M),R.c(),R.m(h,null)):R&&(R.d(1),R=null),M[20]==="file"&&M[21]&&M[21].length>0||M[20]==="url"&&M[22]!==""?S?S.p(M,z):(S=Gl(M),S.c(),S.m(e,v)):S&&(S.d(1),S=null),M[25]!==null?V?V.p(M,z):(V=Fl(M),V.c(),V.m(e,null)):V&&(V.d(1),V=null)},d(M){M&&f(e),O.d(),U.d(),R&&R.d(),S&&S.d(),V&&V.d(),x=!1,qe(C)}}}function qn(s){let e,t="URL Mode";return{c(){e=u("span"),e.textContent=t,this.h()},l(l){e=d(l,"SPAN",{class:!0,"data-svelte-h":!0}),j(e)!=="svelte-1uzmer3"&&(e.textContent=t),this.h()},h(){o(e,"class","ml-2 self-center")},m(l,r){B(l,e,r)},d(l){l&&f(e)}}}function Gn(s){let e,t="File Mode";return{c(){e=u("span"),e.textContent=t,this.h()},l(l){e=d(l,"SPAN",{class:!0,"data-svelte-h":!0}),j(e)!=="svelte-9j1d9a"&&(e.textContent=t),this.h()},h(){o(e,"class","ml-2 self-center")},m(l,r){B(l,e,r)},d(l){l&&f(e)}}}function Fn(s){let e,t,l,r,i,n;return{c(){e=u("div"),t=u("input"),this.h()},l(c){e=d(c,"DIV",{class:!0});var h=w(e);t=d(h,"INPUT",{class:!0,type:!0,placeholder:!0}),h.forEach(f),this.h()},h(){o(t,"class",l="w-full rounded-lg text-left py-2 px-4 dark:text-gray-300 dark:bg-gray-850 outline-none "+(s[22]!==""?"mr-2":"")),o(t,"type","url"),t.required=!0,o(t,"placeholder","Type Hugging Face Resolve (Download) URL"),o(e,"class",r="flex-1 "+(s[22]!==""?"mr-2":""))},m(c,h){B(c,e,h),a(e,t),re(t,s[22]),i||(n=J(t,"input",s[48]),i=!0)},p(c,h){h[0]&4194304&&l!==(l="w-full rounded-lg text-left py-2 px-4 dark:text-gray-300 dark:bg-gray-850 outline-none "+(c[22]!==""?"mr-2":""))&&o(t,"class",l),h[0]&4194304&&t.value!==c[22]&&re(t,c[22]),h[0]&4194304&&r!==(r="flex-1 "+(c[22]!==""?"mr-2":""))&&o(e,"class",r)},d(c){c&&f(e),i=!1,n()}}}function Wn(s){let e,t,l,r,i,n,c;function h(p,v){return p[21]&&p[21].length>0?Kn:Jn}let m=h(s),g=m(s);return{c(){e=u("div"),t=u("input"),l=E(),r=u("button"),g.c(),this.h()},l(p){e=d(p,"DIV",{class:!0});var v=w(e);t=d(v,"INPUT",{id:!0,type:!0,accept:!0}),l=T(v),r=d(v,"BUTTON",{type:!0,class:!0});var _=w(r);g.l(_),_.forEach(f),v.forEach(f),this.h()},h(){o(t,"id","model-upload-input"),o(t,"type","file"),o(t,"accept",".gguf,.safetensors"),t.required=!0,t.hidden=!0,o(r,"type","button"),o(r,"class","w-full rounded-lg text-left py-2 px-4 dark:text-gray-300 dark:bg-gray-850"),o(e,"class",i="flex-1 "+(s[21]&&s[21].length>0?"mr-2":""))},m(p,v){B(p,e,v),a(e,t),s[44](t),a(e,l),a(e,r),g.m(r,null),n||(c=[J(t,"change",s[45]),J(t,"change",s[46]),J(r,"click",s[47])],n=!0)},p(p,v){m===(m=h(p))&&g?g.p(p,v):(g.d(1),g=m(p),g&&(g.c(),g.m(r,null))),v[0]&2097152&&i!==(i="flex-1 "+(p[21]&&p[21].length>0?"mr-2":""))&&o(e,"class",i)},d(p){p&&f(e),s[44](null),g.d(),n=!1,qe(c)}}}function Jn(s){let e;return{c(){e=xe("Click here to select")},l(t){e=ke(t,"Click here to select")},m(t,l){B(t,e,l)},p:Pe,d(t){t&&f(e)}}}function Kn(s){let e=s[21][0].name+"",t;return{c(){t=xe(e)},l(l){t=ke(l,e)},m(l,r){B(l,t,r)},p(l,r){r[0]&2097152&&e!==(e=l[21][0].name+"")&&je(t,e)},d(l){l&&f(t)}}}function ql(s){let e;function t(i,n){return i[18]?Qn:Yn}let l=t(s),r=l(s);return{c(){e=u("button"),r.c(),this.h()},l(i){e=d(i,"BUTTON",{class:!0,type:!0});var n=w(e);r.l(n),n.forEach(f),this.h()},h(){o(e,"class","px-3 text-gray-100 bg-emerald-600 hover:bg-emerald-700 disabled:bg-gray-700 disabled:cursor-not-allowed rounded transition"),o(e,"type","submit"),e.disabled=s[18]},m(i,n){B(i,e,n),r.m(e,null)},p(i,n){l!==(l=t(i))&&(r.d(1),r=l(i),r&&(r.c(),r.m(e,null))),n[0]&262144&&(e.disabled=i[18])},d(i){i&&f(e),r.d()}}}function Yn(s){let e,t,l;return{c(){e=We("svg"),t=We("path"),l=We("path"),this.h()},l(r){e=Je(r,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var i=w(e);t=Je(i,"path",{d:!0}),w(t).forEach(f),l=Je(i,"path",{d:!0}),w(l).forEach(f),i.forEach(f),this.h()},h(){o(t,"d","M7.25 10.25a.75.75 0 0 0 1.5 0V4.56l2.22 2.22a.75.75 0 1 0 1.06-1.06l-3.5-3.5a.75.75 0 0 0-1.06 0l-3.5 3.5a.75.75 0 0 0 1.06 1.06l2.22-2.22v5.69Z"),o(l,"d","M3.5 9.75a.75.75 0 0 0-1.5 0v1.5A2.75 2.75 0 0 0 4.75 14h6.5A2.75 2.75 0 0 0 14 11.25v-1.5a.75.75 0 0 0-1.5 0v1.5c0 .69-.56 1.25-1.25 1.25h-6.5c-.69 0-1.25-.56-1.25-1.25v-1.5Z"),o(e,"xmlns","http://www.w3.org/2000/svg"),o(e,"viewBox","0 0 16 16"),o(e,"fill","currentColor"),o(e,"class","w-4 h-4")},m(r,i){B(r,e,i),a(e,t),a(e,l)},d(r){r&&f(e)}}}function Qn(s){let e,t=`<svg class="w-4 h-4" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><style>.spinner_ajPY {
															transform-origin: center;
															animation: spinner_AtaB 0.75s infinite linear;
														}
														@keyframes spinner_AtaB {
															100% {
																transform: rotate(360deg);
															}
														}
													</style><path d="M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z" opacity=".25"></path><path d="M10.14,1.16a11,11,0,0,0-9,8.92A1.59,1.59,0,0,0,2.46,12,1.52,1.52,0,0,0,4.11,10.7a8,8,0,0,1,6.66-6.61A1.42,1.42,0,0,0,12,2.69h0A1.57,1.57,0,0,0,10.14,1.16Z" class="spinner_ajPY"></path></svg>`;return{c(){e=u("div"),e.innerHTML=t,this.h()},l(l){e=d(l,"DIV",{class:!0,"data-svelte-h":!0}),j(e)!=="svelte-23bxbk"&&(e.innerHTML=t),this.h()},h(){o(e,"class","self-center")},m(l,r){B(l,e,r)},d(l){l&&f(e)}}}function Gl(s){let e,t,l,r="Modelfile Content",i,n,c,h;return{c(){e=u("div"),t=u("div"),l=u("div"),l.textContent=r,i=E(),n=u("textarea"),this.h()},l(m){e=d(m,"DIV",{});var g=w(e);t=d(g,"DIV",{});var p=w(t);l=d(p,"DIV",{class:!0,"data-svelte-h":!0}),j(l)!=="svelte-18egiyi"&&(l.textContent=r),i=T(p),n=d(p,"TEXTAREA",{class:!0,rows:!0}),w(n).forEach(f),p.forEach(f),g.forEach(f),this.h()},h(){o(l,"class","my-2.5 text-sm font-medium"),o(n,"class","w-full rounded py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-800 outline-none resize-none"),o(n,"rows","6")},m(m,g){B(m,e,g),a(e,t),a(t,l),a(t,i),a(t,n),re(n,s[23]),c||(h=J(n,"input",s[49]),c=!0)},p(m,g){g[0]&8388608&&re(n,m[23])},d(m){m&&f(e),c=!1,h()}}}function Fl(s){let e,t,l="Upload Progress",r,i,n,c=(s[25]??0)+"",h,m,g,p,v;return{c(){e=u("div"),t=u("div"),t.textContent=l,r=E(),i=u("div"),n=u("div"),h=xe(c),m=xe("%"),g=E(),p=u("div"),v=xe(s[24]),this.h()},l(_){e=d(_,"DIV",{class:!0});var b=w(e);t=d(b,"DIV",{class:!0,"data-svelte-h":!0}),j(t)!=="svelte-mf9p1m"&&(t.textContent=l),r=T(b),i=d(b,"DIV",{class:!0});var y=w(i);n=d(y,"DIV",{class:!0,style:!0});var x=w(n);h=ke(x,c),m=ke(x,"%"),x.forEach(f),y.forEach(f),g=T(b),p=d(b,"DIV",{class:!0,style:!0});var C=w(p);v=ke(C,s[24]),C.forEach(f),b.forEach(f),this.h()},h(){o(t,"class","mb-2 text-xs"),o(n,"class","dark:bg-gray-600 bg-gray-500 text-xs font-medium text-gray-100 text-center p-0.5 leading-none rounded-full"),Fe(n,"width",Math.max(15,s[25]??0)+"%"),o(i,"class","w-full rounded-full dark:bg-gray-800"),o(p,"class","mt-1 text-xs dark:text-gray-500"),Fe(p,"font-size","0.5rem"),o(e,"class","mt-2")},m(_,b){B(_,e,b),a(e,t),a(e,r),a(e,i),a(i,n),a(n,h),a(n,m),a(e,g),a(e,p),a(p,v)},p(_,b){b[0]&33554432&&c!==(c=(_[25]??0)+"")&&je(h,c),b[0]&33554432&&Fe(n,"width",Math.max(15,_[25]??0)+"%"),b[0]&16777216&&je(v,_[24])},d(_){_&&f(e)}}}function Wl(s){let e,t,l,r="Add a model",i,n,c=s[2]?"Hide Additional Params":"Show Additional Params",h,m,g,p,v,_,b,y,x='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path d="M8.75 3.75a.75.75 0 0 0-1.5 0v3.5h-3.5a.75.75 0 0 0 0 1.5h3.5v3.5a.75.75 0 0 0 1.5 0v-3.5h3.5a.75.75 0 0 0 0-1.5h-3.5v-3.5Z"></path></svg>',C,I,k,O=`Not sure what to add?
							<a class="text-gray-300 font-medium underline" href="https://litellm.vercel.app/docs/proxy/configs#quick-start" target="_blank">Click here for help.</a>`,A,P,U,R="Delete a model",S,V,M,z,q,H,D,L='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M5 3.25V4H2.75a.75.75 0 0 0 0 1.5h.3l.815 8.15A1.5 1.5 0 0 0 5.357 15h5.285a1.5 1.5 0 0 0 1.493-1.35l.815-8.15h.3a.75.75 0 0 0 0-1.5H11v-.75A2.25 2.25 0 0 0 8.75 1h-1.5A2.25 2.25 0 0 0 5 3.25Zm2.25-.75a.75.75 0 0 0-.75.75V4h3v-.75a.75.75 0 0 0-.75-.75h-1.5ZM6.05 6a.75.75 0 0 1 .787.713l.275 5.5a.75.75 0 0 1-1.498.075l-.275-5.5A.75.75 0 0 1 6.05 6Zm3.9 0a.75.75 0 0 1 .712.787l-.275 5.5a.75.75 0 0 1-1.498-.075l.275-5.5a.75.75 0 0 1 .786-.711Z" clip-rule="evenodd"></path></svg>',F,Z,W=s[2]&&Jl(s),Q=!s[10]&&Kl(),G=ze(s[4]),K=[];for(let N=0;N<G.length;N+=1)K[N]=Yl(Ll(s,G,N));return{c(){e=u("div"),t=u("div"),l=u("div"),l.textContent=r,i=E(),n=u("button"),h=xe(c),m=E(),g=u("div"),p=u("div"),v=u("div"),_=u("input"),b=E(),y=u("button"),y.innerHTML=x,C=E(),W&&W.c(),I=E(),k=u("div"),k.innerHTML=O,A=E(),P=u("div"),U=u("div"),U.textContent=R,S=E(),V=u("div"),M=u("div"),z=u("select"),Q&&Q.c(),q=st();for(let N=0;N<K.length;N+=1)K[N].c();H=E(),D=u("button"),D.innerHTML=L,this.h()},l(N){e=d(N,"DIV",{});var X=w(e);t=d(X,"DIV",{class:!0});var Y=w(t);l=d(Y,"DIV",{class:!0,"data-svelte-h":!0}),j(l)!=="svelte-e2dfvv"&&(l.textContent=r),i=T(Y),n=d(Y,"BUTTON",{class:!0,type:!0});var ee=w(n);h=ke(ee,c),ee.forEach(f),Y.forEach(f),X.forEach(f),m=T(N),g=d(N,"DIV",{class:!0});var $=w(g);p=d($,"DIV",{class:!0});var ne=w(p);v=d(ne,"DIV",{class:!0});var te=w(v);_=d(te,"INPUT",{class:!0,placeholder:!0,autocomplete:!0}),te.forEach(f),b=T(ne),y=d(ne,"BUTTON",{class:!0,"data-svelte-h":!0}),j(y)!=="svelte-11z5303"&&(y.innerHTML=x),ne.forEach(f),C=T($),W&&W.l($),$.forEach(f),I=T(N),k=d(N,"DIV",{class:!0,"data-svelte-h":!0}),j(k)!=="svelte-9qwejz"&&(k.innerHTML=O),A=T(N),P=d(N,"DIV",{});var ue=w(P);U=d(ue,"DIV",{class:!0,"data-svelte-h":!0}),j(U)!=="svelte-vavmom"&&(U.textContent=R),S=T(ue),V=d(ue,"DIV",{class:!0});var fe=w(V);M=d(fe,"DIV",{class:!0});var ae=w(M);z=d(ae,"SELECT",{class:!0,placeholder:!0});var be=w(z);Q&&Q.l(be),q=st();for(let Be=0;Be<K.length;Be+=1)K[Be].l(be);be.forEach(f),ae.forEach(f),H=T(fe),D=d(fe,"BUTTON",{class:!0,"data-svelte-h":!0}),j(D)!=="svelte-irplzb"&&(D.innerHTML=L),fe.forEach(f),ue.forEach(f),this.h()},h(){o(l,"class","text-sm font-medium"),o(n,"class","text-xs font-medium text-gray-500"),o(n,"type","button"),o(t,"class","flex justify-between items-center text-xs"),o(_,"class","w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),o(_,"placeholder","Enter LiteLLM Model (litellm_params.model)"),o(_,"autocomplete","off"),o(v,"class","flex-1 mr-2"),o(y,"class","px-2.5 bg-gray-100 hover:bg-gray-200 text-gray-800 dark:bg-gray-850 dark:hover:bg-gray-800 dark:text-gray-100 rounded-lg transition"),o(p,"class","flex w-full mb-1.5"),o(g,"class","my-2 space-y-2"),o(k,"class","mb-2 text-xs text-gray-400 dark:text-gray-500"),o(U,"class","mb-2.5 text-sm font-medium"),o(z,"class","w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),o(z,"placeholder","Select a model"),s[10]===void 0&&mt(()=>s[60].call(z)),o(M,"class","flex-1 mr-2"),o(D,"class","px-2.5 bg-gray-100 hover:bg-gray-200 text-gray-800 dark:bg-gray-850 dark:hover:bg-gray-800 dark:text-gray-100 rounded-lg transition"),o(V,"class","flex w-full")},m(N,X){B(N,e,X),a(e,t),a(t,l),a(t,i),a(t,n),a(n,h),B(N,m,X),B(N,g,X),a(g,p),a(p,v),a(v,_),re(_,s[0]),a(p,b),a(p,y),a(g,C),W&&W.m(g,null),B(N,I,X),B(N,k,X),B(N,A,X),B(N,P,X),a(P,U),a(P,S),a(P,V),a(V,M),a(M,z),Q&&Q.m(z,null),a(z,q);for(let Y=0;Y<K.length;Y+=1)K[Y]&&K[Y].m(z,null);lt(z,s[10],!0),a(V,H),a(V,D),F||(Z=[J(n,"click",s[52]),J(_,"input",s[53]),J(y,"click",s[54]),J(z,"change",s[60]),J(D,"click",s[61])],F=!0)},p(N,X){if(X[0]&4&&c!==(c=N[2]?"Hide Additional Params":"Show Additional Params")&&je(h,c),X[0]&1&&_.value!==N[0]&&re(_,N[0]),N[2]?W?W.p(N,X):(W=Jl(N),W.c(),W.m(g,null)):W&&(W.d(1),W=null),N[10]?Q&&(Q.d(1),Q=null):Q||(Q=Kl(),Q.c(),Q.m(z,q)),X[0]&16){G=ze(N[4]);let Y;for(Y=0;Y<G.length;Y+=1){const ee=Ll(N,G,Y);K[Y]?K[Y].p(ee,X):(K[Y]=Yl(ee),K[Y].c(),K[Y].m(z,null))}for(;Y<K.length;Y+=1)K[Y].d(1);K.length=G.length}X[0]&1040&&lt(z,N[10])},d(N){N&&(f(e),f(m),f(g),f(I),f(k),f(A),f(P)),W&&W.d(),Q&&Q.d(),rt(K,N),F=!1,qe(Z)}}}function Jl(s){let e,t,l="Model Name",r,i,n,c,h,m,g,p="API Base URL",v,_,b,y,x,C,I,k="API Key",O,A,P,U,R,S,V,M="API RPM",z,q,H,D,L,F,Z,W="Max Tokens",Q,G,K,N,X,Y;return{c(){e=u("div"),t=u("div"),t.textContent=l,r=E(),i=u("div"),n=u("div"),c=u("input"),h=E(),m=u("div"),g=u("div"),g.textContent=p,v=E(),_=u("div"),b=u("div"),y=u("input"),x=E(),C=u("div"),I=u("div"),I.textContent=k,O=E(),A=u("div"),P=u("div"),U=u("input"),R=E(),S=u("div"),V=u("div"),V.textContent=M,z=E(),q=u("div"),H=u("div"),D=u("input"),L=E(),F=u("div"),Z=u("div"),Z.textContent=W,Q=E(),G=u("div"),K=u("div"),N=u("input"),this.h()},l(ee){e=d(ee,"DIV",{});var $=w(e);t=d($,"DIV",{class:!0,"data-svelte-h":!0}),j(t)!=="svelte-6ir36y"&&(t.textContent=l),r=T($),i=d($,"DIV",{class:!0});var ne=w(i);n=d(ne,"DIV",{class:!0});var te=w(n);c=d(te,"INPUT",{class:!0,placeholder:!0,autocomplete:!0}),te.forEach(f),ne.forEach(f),$.forEach(f),h=T(ee),m=d(ee,"DIV",{});var ue=w(m);g=d(ue,"DIV",{class:!0,"data-svelte-h":!0}),j(g)!=="svelte-1kyw6ri"&&(g.textContent=p),v=T(ue),_=d(ue,"DIV",{class:!0});var fe=w(_);b=d(fe,"DIV",{class:!0});var ae=w(b);y=d(ae,"INPUT",{class:!0,placeholder:!0,autocomplete:!0}),ae.forEach(f),fe.forEach(f),ue.forEach(f),x=T(ee),C=d(ee,"DIV",{});var be=w(C);I=d(be,"DIV",{class:!0,"data-svelte-h":!0}),j(I)!=="svelte-mms6ub"&&(I.textContent=k),O=T(be),A=d(be,"DIV",{class:!0});var Be=w(A);P=d(Be,"DIV",{class:!0});var we=w(P);U=d(we,"INPUT",{class:!0,placeholder:!0,autocomplete:!0}),we.forEach(f),Be.forEach(f),be.forEach(f),R=T(ee),S=d(ee,"DIV",{});var Te=w(S);V=d(Te,"DIV",{class:!0,"data-svelte-h":!0}),j(V)!=="svelte-1f69sq3"&&(V.textContent=M),z=T(Te),q=d(Te,"DIV",{class:!0});var Le=w(q);H=d(Le,"DIV",{class:!0});var He=w(H);D=d(He,"INPUT",{class:!0,placeholder:!0,autocomplete:!0}),He.forEach(f),Le.forEach(f),Te.forEach(f),L=T(ee),F=d(ee,"DIV",{});var Ee=w(F);Z=d(Ee,"DIV",{class:!0,"data-svelte-h":!0}),j(Z)!=="svelte-h6gi62"&&(Z.textContent=W),Q=T(Ee),G=d(Ee,"DIV",{class:!0});var ge=w(G);K=d(ge,"DIV",{class:!0});var oe=w(K);N=d(oe,"INPUT",{class:!0,placeholder:!0,type:!0,min:!0,autocomplete:!0}),oe.forEach(f),ge.forEach(f),Ee.forEach(f),this.h()},h(){o(t,"class","mb-1.5 text-sm font-medium"),o(c,"class","w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),o(c,"placeholder","Enter Model Name (model_name)"),o(c,"autocomplete","off"),o(n,"class","flex-1"),o(i,"class","flex w-full"),o(g,"class","mb-1.5 text-sm font-medium"),o(y,"class","w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),o(y,"placeholder","Enter LiteLLM API Base URL (litellm_params.api_base)"),o(y,"autocomplete","off"),o(b,"class","flex-1"),o(_,"class","flex w-full"),o(I,"class","mb-1.5 text-sm font-medium"),o(U,"class","w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),o(U,"placeholder","Enter LiteLLM API Key (litellm_params.api_key)"),o(U,"autocomplete","off"),o(P,"class","flex-1"),o(A,"class","flex w-full"),o(V,"class","mb-1.5 text-sm font-medium"),o(D,"class","w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),o(D,"placeholder","Enter LiteLLM API RPM (litellm_params.rpm)"),o(D,"autocomplete","off"),o(H,"class","flex-1"),o(q,"class","flex w-full"),o(Z,"class","mb-1.5 text-sm font-medium"),o(N,"class","w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),o(N,"placeholder","Enter Max Tokens (litellm_params.max_tokens)"),o(N,"type","number"),o(N,"min","1"),o(N,"autocomplete","off"),o(K,"class","flex-1"),o(G,"class","flex w-full")},m(ee,$){B(ee,e,$),a(e,t),a(e,r),a(e,i),a(i,n),a(n,c),re(c,s[5]),B(ee,h,$),B(ee,m,$),a(m,g),a(m,v),a(m,_),a(_,b),a(b,y),re(y,s[6]),B(ee,x,$),B(ee,C,$),a(C,I),a(C,O),a(C,A),a(A,P),a(P,U),re(U,s[7]),B(ee,R,$),B(ee,S,$),a(S,V),a(S,z),a(S,q),a(q,H),a(H,D),re(D,s[8]),B(ee,L,$),B(ee,F,$),a(F,Z),a(F,Q),a(F,G),a(G,K),a(K,N),re(N,s[9]),X||(Y=[J(c,"input",s[55]),J(y,"input",s[56]),J(U,"input",s[57]),J(D,"input",s[58]),J(N,"input",s[59])],X=!0)},p(ee,$){$[0]&32&&c.value!==ee[5]&&re(c,ee[5]),$[0]&64&&y.value!==ee[6]&&re(y,ee[6]),$[0]&128&&U.value!==ee[7]&&re(U,ee[7]),$[0]&256&&D.value!==ee[8]&&re(D,ee[8]),$[0]&512&&Ws(N.value)!==ee[9]&&re(N,ee[9])},d(ee){ee&&(f(e),f(h),f(m),f(x),f(C),f(R),f(S),f(L),f(F)),X=!1,qe(Y)}}}function Kl(s){let e,t="Select a model";return{c(){e=u("option"),e.textContent=t,this.h()},l(l){e=d(l,"OPTION",{"data-svelte-h":!0}),j(e)!=="svelte-1ay6ljx"&&(e.textContent=t),this.h()},h(){e.__value="",re(e,e.__value),e.disabled=!0,e.selected=!0},m(l,r){B(l,e,r)},d(l){l&&f(e)}}}function Yl(s){let e,t=s[68].model_name+"",l,r;return{c(){e=u("option"),l=xe(t),this.h()},l(i){e=d(i,"OPTION",{class:!0});var n=w(e);l=ke(n,t),n.forEach(f),this.h()},h(){e.__value=r=s[68].model_info.id,re(e,e.__value),o(e,"class","bg-gray-100 dark:bg-gray-700")},m(i,n){B(i,e,n),a(e,l)},p(i,n){n[0]&16&&t!==(t=i[68].model_name+"")&&je(l,t),n[0]&16&&r!==(r=i[68].model_info.id)&&(e.__value=r,re(e,e.__value))},d(i){i&&f(e)}}}function Xn(s){let e,t,l,r,i,n,c,h,m,g="Manage LiteLLM Models",p,v,_=s[1]?"Hide":"Show",b,y,x,C,I,k=s[16]&&Hl(s),O=s[1]&&Wl(s);return{c(){e=u("div"),t=u("div"),k&&k.c(),l=E(),r=u("div"),i=u("div"),n=u("div"),c=u("div"),h=u("div"),m=u("div"),m.textContent=g,p=E(),v=u("button"),b=xe(_),y=E(),O&&O.c(),this.h()},l(A){e=d(A,"DIV",{class:!0});var P=w(e);t=d(P,"DIV",{class:!0});var U=w(t);k&&k.l(U),l=T(U),r=d(U,"DIV",{class:!0});var R=w(r);i=d(R,"DIV",{class:!0});var S=w(i);n=d(S,"DIV",{});var V=w(n);c=d(V,"DIV",{class:!0});var M=w(c);h=d(M,"DIV",{class:!0});var z=w(h);m=d(z,"DIV",{class:!0,"data-svelte-h":!0}),j(m)!=="svelte-1uczrsy"&&(m.textContent=g),p=T(z),v=d(z,"BUTTON",{class:!0,type:!0});var q=w(v);b=ke(q,_),q.forEach(f),z.forEach(f),M.forEach(f),y=T(V),O&&O.l(V),V.forEach(f),S.forEach(f),R.forEach(f),U.forEach(f),P.forEach(f),this.h()},h(){o(m,"class","text-sm font-medium"),o(v,"class","text-xs font-medium text-gray-500"),o(v,"type","button"),o(h,"class","flex justify-between items-center text-xs"),o(c,"class","mb-2"),o(i,"class","mt-2 space-y-3 pr-1.5"),o(r,"class","space-y-3"),o(t,"class","space-y-3 pr-1.5 overflow-y-scroll h-[23rem]"),o(e,"class","flex flex-col h-full justify-between text-sm")},m(A,P){B(A,e,P),a(e,t),k&&k.m(t,null),a(t,l),a(t,r),a(r,i),a(i,n),a(n,c),a(c,h),a(h,m),a(h,p),a(h,v),a(v,b),a(n,y),O&&O.m(n,null),x=!0,C||(I=J(v,"click",s[51]),C=!0)},p(A,P){A[16]?k?(k.p(A,P),P[0]&65536&&Ue(k,1)):(k=Hl(A),k.c(),Ue(k,1),k.m(t,l)):k&&(Nt(),Re(k,1,1,()=>{k=null}),Pt()),(!x||P[0]&2)&&_!==(_=A[1]?"Hide":"Show")&&je(b,_),A[1]?O?O.p(A,P):(O=Wl(A),O.c(),O.m(n,null)):O&&(O.d(1),O=null)},i(A){x||(Ue(k),x=!0)},o(A){Re(k),x=!1},d(A){A&&f(e),k&&k.d(),O&&O.d(),C=!1,I()}}}const $n=3;function ea(s,e,t){let l,r,i;Ye(s,wt,le=>t(64,l=le)),Ye(s,il,le=>t(65,r=le)),Ye(s,vt,le=>t(27,i=le));let{getModels:n}=e,c=!1,h=!1,m,g=[],p="",v="",_="",b="",y="",x="",C="",I=[],k=null,O=null,A=null,P=!1,U="";const R=jn((le,ce)=>Y({modelName:le.modelName,callback:ce}),$n);let S={},V=!1,M="",z="",q=null,H="file",D="",L="",F=`TEMPLATE """{{ .System }}
USER: {{ .Prompt }}
ASSISTANT: """
PARAMETER num_ctx 4096
PARAMETER stop "</s>"
PARAMETER stop "USER:"
PARAMETER stop "ASSISTANT:"`,Z="",W=null,Q="";const G=async()=>{for(const le of i.filter(ce=>ce.size!=null&&(k===null?!0:((ce==null?void 0:ce.urls)??[]).includes(k)))){console.log(le),t(13,O=le.id);const ce=await gl(localStorage.token,le.id,k).catch(ie=>(Me.error(ie),null));if(ce){const ie=ce.body.pipeThrough(new TextDecoderStream).pipeThrough(zt(`
`)).getReader();for(;;)try{const{value:_e,done:se}=await ie.read();if(se)break;let Ie=_e.split(`
`);for(const Ze of Ie)if(Ze!==""){let De=JSON.parse(Ze);if(console.log(De),De.error)throw De.error;if(De.detail)throw De.detail;De.status&&(De.digest?(t(14,A=0),De.completed?t(14,A=Math.round(De.completed/De.total*1e3)/10):t(14,A=100)):Me.success(De.status))}}catch(_e){console.log(_e)}}}t(13,O=null),t(14,A=null)},K=async()=>{const le=M.trim();if(S[le]){Me.error(`Model '${le}' is already in queue for downloading.`);return}if(Object.keys(S).length===3){Me.error("Maximum of 3 models can be downloaded simultaneously. Please try again later.");return}t(18,V=!0),R.push({modelName:le},async ce=>{const{modelName:ie}=ce;delete S[ie],console.log(ce),ce.success?(Me.success(`Model '${ie}' has been successfully downloaded.`),new Notification(r,{body:`Model '${ie}' has been successfully downloaded.`,icon:`${Xs}/static/favicon.png`}),vt.set(await n())):Me.error(ce.error)}),t(19,M=""),t(18,V=!1)},N=async()=>{t(18,V=!0),t(25,W=0);let le=!1,ce=null,ie="";if(H==="file"){const _e=D[0],se=new FormData;se.append("file",_e),ce=await fetch(`${_l}/utils/upload`,{method:"POST",headers:{...l&&{Authorization:`Bearer ${localStorage.token}`}},body:se}).catch(Ie=>(console.log(Ie),null))}else ce=await fetch(`${_l}/utils/download?url=${L}`,{method:"GET",headers:{...l&&{Authorization:`Bearer ${localStorage.token}`}}}).catch(_e=>(console.log(_e),null));if(ce&&ce.ok){const _e=ce.body.pipeThrough(new TextDecoderStream).pipeThrough(zt(`
`)).getReader();for(;;){const{value:se,done:Ie}=await _e.read();if(Ie)break;try{let Ze=se.split(`
`);for(const De of Ze)if(De!==""){let Ne=JSON.parse(De.replace(/^data: /,""));if(Ne.progress&&t(25,W=Ne.progress),Ne.error)throw Ne.error;Ne.done&&(t(24,Z=Ne.blob),ie=Ne.name,le=!0)}}catch(Ze){console.log(Ze)}}}if(le){const _e=await fr(localStorage.token,`${ie}:latest`,`FROM @${Z}
${F}`);if(_e&&_e.ok){const se=_e.body.pipeThrough(new TextDecoderStream).pipeThrough(zt(`
`)).getReader();for(;;){const{value:Ie,done:Ze}=await se.read();if(Ze)break;try{let De=Ie.split(`
`);for(const Ne of De)if(Ne!==""){console.log(Ne);let Ke=JSON.parse(Ne);if(console.log(Ke),Ke.error)throw Ke.error;if(Ke.detail)throw Ke.detail;Ke.status&&(!Ke.digest&&!Ke.status.includes("writing")&&!Ke.status.includes("sha256")?Me.success(Ke.status):Ke.digest&&(z=Ke.digest,Ke.completed?q=Math.round(Ke.completed/Ke.total*1e3)/10:q=100))}}catch(De){console.log(De),Me.error(De)}}}}t(22,L=""),t(21,D=""),t(18,V=!1),t(25,W=null),vt.set(await n())},X=async()=>{await hr(localStorage.token,Q,k).catch(ce=>{Me.error(ce)})&&Me.success(`Deleted ${Q}`),t(26,Q=""),vt.set(await n())},Y=async le=>{const ce=await gl(localStorage.token,le.modelName,k).catch(ie=>(le.callback({success:!1,error:ie,modelName:le.modelName}),null));if(ce){const ie=ce.body.pipeThrough(new TextDecoderStream).pipeThrough(zt(`
`)).getReader();for(;;)try{const{value:_e,done:se}=await ie.read();if(se)break;let Ie=_e.split(`
`);for(const Ze of Ie)if(Ze!==""){let De=JSON.parse(Ze);if(De.error)throw De.error;if(De.detail)throw De.detail;if(De.status)if(De.digest){let Ne=0;De.completed?Ne=Math.round(De.completed/De.total*1e3)/10:Ne=100,t(17,S[le.modelName]={pullProgress:Ne,digest:De.digest},S)}else Me.success(De.status)}}catch(_e){console.log(_e),typeof _e!="string"&&(_e=_e.message),le.callback({success:!1,error:_e,modelName:le.modelName})}le.callback({success:!0,modelName:le.modelName})}},ee=async()=>{if(g.find(le=>le.model_name===v))Me.error(`Model ${v} already exists.`);else{const le=await mn(localStorage.token,{name:v,model:p,api_base:_,api_key:b,rpm:y,max_tokens:x}).catch(ce=>(Me.error(ce),null));le&&le.message&&Me.success(le.message)}t(5,v=""),t(0,p=""),t(6,_=""),t(7,b=""),t(8,y=""),t(9,x=""),t(4,g=await Qt(localStorage.token)),vt.set(await n())},$=async()=>{const le=await gn(localStorage.token,C).catch(ce=>(Me.error(ce),null));le&&le.message&&Me.success(le.message),t(10,C=""),t(4,g=await Qt(localStorage.token)),vt.set(await n())};dt(async()=>{t(11,I=await Ks(localStorage.token).catch(le=>(Me.error(le),[]))),I.length>0&&t(12,k=0),t(16,U=await ol(localStorage.token).catch(le=>!1)),t(4,g=await Qt(localStorage.token))});function ne(){k=gt(this),t(12,k)}const te=()=>{G()};function ue(){M=this.value,t(19,M)}const fe=()=>{K()},ae=le=>le.size!=null&&(k===null?!0:((le==null?void 0:le.urls)??[]).includes(k));function be(){Q=gt(this),t(26,Q),t(12,k)}const Be=()=>{X()},we=()=>{t(15,P=!P)},Te=()=>{H==="file"?t(20,H="url"):t(20,H="file")};function Le(le){pt[le?"unshift":"push"](()=>{m=le,t(3,m)})}function He(){D=this.files,t(21,D)}const Ee=()=>{console.log(D)},ge=()=>{m.click()};function oe(){L=this.value,t(22,L)}function Ae(){F=this.value,t(23,F)}const ve=()=>{N()},de=()=>{t(1,c=!c)},Ce=()=>{t(2,h=!h)};function me(){p=this.value,t(0,p)}const ye=()=>{ee()};function Se(){v=this.value,t(5,v),t(0,p)}function Oe(){_=this.value,t(6,_)}function Ve(){b=this.value,t(7,b)}function Qe(){y=this.value,t(8,y)}function Ge(){x=Ws(this.value),t(9,x)}function pe(){C=gt(this),t(10,C),t(4,g)}const he=()=>{$()};return s.$$set=le=>{"getModels"in le&&t(34,n=le.getModels)},s.$$.update=()=>{s.$$.dirty[0]&1&&t(5,v=p)},[p,c,h,m,g,v,_,b,y,x,C,I,k,O,A,P,U,S,V,M,H,D,L,F,Z,W,Q,i,G,K,N,X,ee,$,n,ne,te,ue,fe,ae,be,Be,we,Te,Le,He,Ee,ge,oe,Ae,ve,de,Ce,me,ye,Se,Oe,Ve,Qe,Ge,pe,he]}class ta extends ot{constructor(e){super(),it(this,e,ea,Xn,at,{getModels:34},null,[-1,-1,-1])}}function la(s){let e,t;return{c(){e=We("svg"),t=We("path"),this.h()},l(l){e=Je(l,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var r=w(e);t=Je(r,"path",{d:!0}),w(t).forEach(f),r.forEach(f),this.h()},h(){o(t,"d","M10 2a.75.75 0 01.75.75v1.5a.75.75 0 01-1.5 0v-1.5A.75.75 0 0110 2zM10 15a.75.75 0 01.75.75v1.5a.75.75 0 01-1.5 0v-1.5A.75.75 0 0110 15zM10 7a3 3 0 100 6 3 3 0 000-6zM15.657 5.404a.75.75 0 10-1.06-1.06l-1.061 1.06a.75.75 0 001.06 1.06l1.06-1.06zM6.464 14.596a.75.75 0 10-1.06-1.06l-1.06 1.06a.75.75 0 001.06 1.06l1.06-1.06zM18 10a.75.75 0 01-.75.75h-1.5a.75.75 0 010-1.5h1.5A.75.75 0 0118 10zM5 10a.75.75 0 01-.75.75h-1.5a.75.75 0 010-1.5h1.5A.75.75 0 015 10zM14.596 15.657a.75.75 0 001.06-1.06l-1.06-1.061a.75.75 0 10-1.06 1.06l1.06 1.06zM5.404 6.464a.75.75 0 001.06-1.06l-1.06-1.06a.75.75 0 10-1.061 1.06l1.06 1.06z"),o(e,"xmlns","http://www.w3.org/2000/svg"),o(e,"viewBox","0 0 20 20"),o(e,"fill","currentColor"),o(e,"class","w-4 h-4 self-center")},m(l,r){B(l,e,r),a(e,t)},d(l){l&&f(e)}}}function sa(s){let e,t;return{c(){e=We("svg"),t=We("path"),this.h()},l(l){e=Je(l,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var r=w(e);t=Je(r,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),w(t).forEach(f),r.forEach(f),this.h()},h(){o(t,"fill-rule","evenodd"),o(t,"d","M7.455 2.004a.75.75 0 01.26.77 7 7 0 009.958 7.967.75.75 0 011.067.853A8.5 8.5 0 116.647 1.921a.75.75 0 01.808.083z"),o(t,"clip-rule","evenodd"),o(e,"xmlns","http://www.w3.org/2000/svg"),o(e,"viewBox","0 0 20 20"),o(e,"fill","currentColor"),o(e,"class","w-4 h-4")},m(l,r){B(l,e,r),a(e,t)},d(l){l&&f(e)}}}function ra(s){let e,t="Off";return{c(){e=u("span"),e.textContent=t,this.h()},l(l){e=d(l,"SPAN",{class:!0,"data-svelte-h":!0}),j(e)!=="svelte-1u2ztdm"&&(e.textContent=t),this.h()},h(){o(e,"class","ml-2 self-center")},m(l,r){B(l,e,r)},d(l){l&&f(e)}}}function na(s){let e,t="On";return{c(){e=u("span"),e.textContent=t,this.h()},l(l){e=d(l,"SPAN",{class:!0,"data-svelte-h":!0}),j(e)!=="svelte-14y7chk"&&(e.textContent=t),this.h()},h(){o(e,"class","ml-2 self-center")},m(l,r){B(l,e,r)},d(l){l&&f(e)}}}function Ql(s){let e,t,l,r,i,n,c,h,m="Keep Alive",g,p,v,_,b,y,x,C="Request Mode",I,k,O,A,P;function U(L){s[18](L)}let R={};s[7]!==void 0&&(R.options=s[7]),e=new ln({props:R}),pt.push(()=>Dt(e,"options",U));function S(L,F){return L[6]===null?oa:aa}let V=S(s),M=V(s),z=s[6]!==null&&Xl(s);function q(L,F){if(L[5]==="")return ca;if(L[5]==="json")return ia}let H=q(s),D=H&&H(s);return{c(){Xe(e.$$.fragment),l=E(),r=u("hr"),i=E(),n=u("div"),c=u("div"),h=u("div"),h.textContent=m,g=E(),p=u("button"),M.c(),v=E(),z&&z.c(),_=E(),b=u("div"),y=u("div"),x=u("div"),x.textContent=C,I=E(),k=u("button"),D&&D.c(),this.h()},l(L){$e(e.$$.fragment,L),l=T(L),r=d(L,"HR",{class:!0}),i=T(L),n=d(L,"DIV",{class:!0});var F=w(n);c=d(F,"DIV",{class:!0});var Z=w(c);h=d(Z,"DIV",{class:!0,"data-svelte-h":!0}),j(h)!=="svelte-420e4z"&&(h.textContent=m),g=T(Z),p=d(Z,"BUTTON",{class:!0,type:!0});var W=w(p);M.l(W),W.forEach(f),Z.forEach(f),v=T(F),z&&z.l(F),F.forEach(f),_=T(L),b=d(L,"DIV",{});var Q=w(b);y=d(Q,"DIV",{class:!0});var G=w(y);x=d(G,"DIV",{class:!0,"data-svelte-h":!0}),j(x)!=="svelte-v46k3y"&&(x.textContent=C),I=T(G),k=d(G,"BUTTON",{class:!0});var K=w(k);D&&D.l(K),K.forEach(f),G.forEach(f),Q.forEach(f),this.h()},h(){o(r,"class","dark:border-gray-700"),o(h,"class","self-center text-xs font-medium"),o(p,"class","p-1 px-3 text-xs flex rounded transition"),o(p,"type","button"),o(c,"class","flex w-full justify-between"),o(n,"class","py-1 w-full justify-between"),o(x,"class","self-center text-sm font-medium"),o(k,"class","p-1 px-3 text-xs flex rounded transition"),o(y,"class","py-1 flex w-full justify-between")},m(L,F){et(e,L,F),B(L,l,F),B(L,r,F),B(L,i,F),B(L,n,F),a(n,c),a(c,h),a(c,g),a(c,p),M.m(p,null),a(n,v),z&&z.m(n,null),B(L,_,F),B(L,b,F),a(b,y),a(y,x),a(y,I),a(y,k),D&&D.m(k,null),O=!0,A||(P=[J(p,"click",s[19]),J(k,"click",s[21])],A=!0)},p(L,F){const Z={};!t&&F&128&&(t=!0,Z.options=L[7],Tt(()=>t=!1)),e.$set(Z),V!==(V=S(L))&&(M.d(1),M=V(L),M&&(M.c(),M.m(p,null))),L[6]!==null?z?z.p(L,F):(z=Xl(L),z.c(),z.m(n,null)):z&&(z.d(1),z=null),H!==(H=q(L))&&(D&&D.d(1),D=H&&H(L),D&&(D.c(),D.m(k,null)))},i(L){O||(Ue(e.$$.fragment,L),O=!0)},o(L){Re(e.$$.fragment,L),O=!1},d(L){L&&(f(l),f(r),f(i),f(n),f(_),f(b)),tt(e,L),M.d(),z&&z.d(),D&&D.d(),A=!1,qe(P)}}}function aa(s){let e,t="Custom";return{c(){e=u("span"),e.textContent=t,this.h()},l(l){e=d(l,"SPAN",{class:!0,"data-svelte-h":!0}),j(e)!=="svelte-3v6m8g"&&(e.textContent=t),this.h()},h(){o(e,"class","ml-2 self-center")},m(l,r){B(l,e,r)},d(l){l&&f(e)}}}function oa(s){let e,t="Default";return{c(){e=u("span"),e.textContent=t,this.h()},l(l){e=d(l,"SPAN",{class:!0,"data-svelte-h":!0}),j(e)!=="svelte-h5d9m4"&&(e.textContent=t),this.h()},h(){o(e,"class","ml-2 self-center")},m(l,r){B(l,e,r)},d(l){l&&f(e)}}}function Xl(s){let e,t,l,r;return{c(){e=u("div"),t=u("input"),this.h()},l(i){e=d(i,"DIV",{class:!0});var n=w(e);t=d(n,"INPUT",{class:!0,type:!0,placeholder:!0}),n.forEach(f),this.h()},h(){o(t,"class","w-full rounded py-1.5 px-4 text-sm dark:text-gray-300 dark:bg-gray-800 outline-none border border-gray-100 dark:border-gray-600"),o(t,"type","text"),o(t,"placeholder",'e.g.) "30s","10m". Valid time units are "s", "m", "h".'),o(e,"class","flex mt-1 space-x-2")},m(i,n){B(i,e,n),a(e,t),re(t,s[6]),l||(r=J(t,"input",s[20]),l=!0)},p(i,n){n&64&&t.value!==i[6]&&re(t,i[6])},d(i){i&&f(e),l=!1,r()}}}function ia(s){let e,t="JSON";return{c(){e=u("span"),e.textContent=t,this.h()},l(l){e=d(l,"SPAN",{class:!0,"data-svelte-h":!0}),j(e)!=="svelte-1ixofgt"&&(e.textContent=t),this.h()},h(){o(e,"class","ml-2 self-center")},m(l,r){B(l,e,r)},d(l){l&&f(e)}}}function ca(s){let e,t="Default";return{c(){e=u("span"),e.textContent=t,this.h()},l(l){e=d(l,"SPAN",{class:!0,"data-svelte-h":!0}),j(e)!=="svelte-h5d9m4"&&(e.textContent=t),this.h()},h(){o(e,"class","ml-2 self-center")},m(l,r){B(l,e,r)},d(l){l&&f(e)}}}function ua(s){let e,t,l,r,i="WebUI Settings",n,c,h,m="Theme",g,p,v,_,b,y,x="Dark",C,I="Light",k,O="Ros Pine",A,P="Ros Pine Dawn",U,R,S,V,M="Notification",z,q,H,D,L,F,Z,W="System Prompt",Q,G,K,N,X,Y,ee="Advanced Parameters",$,ne,te=s[4]?"Hide":"Show",ue,fe,ae,be,Be,we="Save",Te,Le,He;function Ee(me,ye){if(me[1]==="dark")return sa;if(me[1]==="light")return la}let ge=Ee(s),oe=ge&&ge(s);function Ae(me,ye){return me[2]===!0?na:ra}let ve=Ae(s),de=ve(s),Ce=s[4]&&Ql(s);return{c(){e=u("div"),t=u("div"),l=u("div"),r=u("div"),r.textContent=i,n=E(),c=u("div"),h=u("div"),h.textContent=m,g=E(),p=u("div"),v=u("div"),oe&&oe.c(),_=E(),b=u("select"),y=u("option"),y.textContent=x,C=u("option"),C.textContent=I,k=u("option"),k.textContent=O,A=u("option"),A.textContent=P,U=E(),R=u("div"),S=u("div"),V=u("div"),V.textContent=M,z=E(),q=u("button"),de.c(),H=E(),D=u("hr"),L=E(),F=u("div"),Z=u("div"),Z.textContent=W,Q=E(),G=u("textarea"),K=E(),N=u("div"),X=u("div"),Y=u("div"),Y.textContent=ee,$=E(),ne=u("button"),ue=xe(te),fe=E(),Ce&&Ce.c(),ae=E(),be=u("div"),Be=u("button"),Be.textContent=we,this.h()},l(me){e=d(me,"DIV",{class:!0});var ye=w(e);t=d(ye,"DIV",{class:!0});var Se=w(t);l=d(Se,"DIV",{class:!0});var Oe=w(l);r=d(Oe,"DIV",{class:!0,"data-svelte-h":!0}),j(r)!=="svelte-1x4ibzu"&&(r.textContent=i),n=T(Oe),c=d(Oe,"DIV",{class:!0});var Ve=w(c);h=d(Ve,"DIV",{class:!0,"data-svelte-h":!0}),j(h)!=="svelte-1vyl4qe"&&(h.textContent=m),g=T(Ve),p=d(Ve,"DIV",{class:!0});var Qe=w(p);v=d(Qe,"DIV",{class:!0});var Ge=w(v);oe&&oe.l(Ge),Ge.forEach(f),_=T(Qe),b=d(Qe,"SELECT",{class:!0,placeholder:!0});var pe=w(b);y=d(pe,"OPTION",{"data-svelte-h":!0}),j(y)!=="svelte-6c4gk6"&&(y.textContent=x),C=d(pe,"OPTION",{"data-svelte-h":!0}),j(C)!=="svelte-yop7ea"&&(C.textContent=I),k=d(pe,"OPTION",{"data-svelte-h":!0}),j(k)!=="svelte-az6w6j"&&(k.textContent=O),A=d(pe,"OPTION",{"data-svelte-h":!0}),j(A)!=="svelte-1f8eygo"&&(A.textContent=P),pe.forEach(f),Qe.forEach(f),Ve.forEach(f),U=T(Oe),R=d(Oe,"DIV",{});var he=w(R);S=d(he,"DIV",{class:!0});var le=w(S);V=d(le,"DIV",{class:!0,"data-svelte-h":!0}),j(V)!=="svelte-1kkiof0"&&(V.textContent=M),z=T(le),q=d(le,"BUTTON",{class:!0,type:!0});var ce=w(q);de.l(ce),ce.forEach(f),le.forEach(f),he.forEach(f),Oe.forEach(f),H=T(Se),D=d(Se,"HR",{class:!0}),L=T(Se),F=d(Se,"DIV",{});var ie=w(F);Z=d(ie,"DIV",{class:!0,"data-svelte-h":!0}),j(Z)!=="svelte-1bi1vel"&&(Z.textContent=W),Q=T(ie),G=d(ie,"TEXTAREA",{class:!0,rows:!0}),w(G).forEach(f),ie.forEach(f),K=T(Se),N=d(Se,"DIV",{class:!0});var _e=w(N);X=d(_e,"DIV",{class:!0});var se=w(X);Y=d(se,"DIV",{class:!0,"data-svelte-h":!0}),j(Y)!=="svelte-x6p2ws"&&(Y.textContent=ee),$=T(se),ne=d(se,"BUTTON",{class:!0,type:!0});var Ie=w(ne);ue=ke(Ie,te),Ie.forEach(f),se.forEach(f),fe=T(_e),Ce&&Ce.l(_e),_e.forEach(f),Se.forEach(f),ae=T(ye),be=d(ye,"DIV",{class:!0});var Ze=w(be);Be=d(Ze,"BUTTON",{class:!0,"data-svelte-h":!0}),j(Be)!=="svelte-1ntakj3"&&(Be.textContent=we),Ze.forEach(f),ye.forEach(f),this.h()},h(){o(r,"class","mb-1 text-sm font-medium"),o(h,"class","self-center text-xs font-medium"),o(v,"class","absolute right-16"),y.__value="dark",re(y,y.__value),C.__value="light",re(C,C.__value),k.__value="rose-pine dark",re(k,k.__value),A.__value="rose-pine-dawn light",re(A,A.__value),o(b,"class","w-fit pr-8 rounded py-2 px-2 text-xs bg-transparent outline-none text-right"),o(b,"placeholder","Select a theme"),s[1]===void 0&&mt(()=>s[13].call(b)),o(p,"class","flex items-center relative"),o(c,"class","py-0.5 flex w-full justify-between"),o(V,"class","self-center text-xs font-medium"),o(q,"class","p-1 px-3 text-xs flex rounded transition"),o(q,"type","button"),o(S,"class","py-0.5 flex w-full justify-between"),o(l,"class",""),o(D,"class","dark:border-gray-700 my-3"),o(Z,"class","my-2.5 text-sm font-medium"),o(G,"class","w-full rounded-lg p-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none resize-none"),o(G,"rows","4"),o(Y,"class","font-medium"),o(ne,"class","text-xs font-medium text-gray-500"),o(ne,"type","button"),o(X,"class","flex justify-between items-center text-sm"),o(N,"class","mt-2 space-y-3 pr-1.5"),o(t,"class","pr-1.5 overflow-y-scroll max-h-[20.5rem]"),o(Be,"class","px-4 py-2 bg-emerald-700 hover:bg-emerald-800 text-gray-100 transition rounded-lg"),o(be,"class","flex justify-end pt-3 text-sm font-medium"),o(e,"class","flex flex-col h-full justify-between text-sm")},m(me,ye){B(me,e,ye),a(e,t),a(t,l),a(l,r),a(l,n),a(l,c),a(c,h),a(c,g),a(c,p),a(p,v),oe&&oe.m(v,null),a(p,_),a(p,b),a(b,y),a(b,C),a(b,k),a(b,A),lt(b,s[1],!0),a(l,U),a(l,R),a(R,S),a(S,V),a(S,z),a(S,q),de.m(q,null),a(t,H),a(t,D),a(t,L),a(t,F),a(F,Z),a(F,Q),a(F,G),re(G,s[3]),a(t,K),a(t,N),a(N,X),a(X,Y),a(X,$),a(X,ne),a(ne,ue),a(N,fe),Ce&&Ce.m(N,null),a(e,ae),a(e,be),a(be,Be),Te=!0,Le||(He=[J(b,"change",s[13]),J(b,"change",s[14]),J(q,"click",s[15]),J(G,"input",s[16]),J(ne,"click",s[17]),J(Be,"click",s[22])],Le=!0)},p(me,[ye]){ge!==(ge=Ee(me))&&(oe&&oe.d(1),oe=ge&&ge(me),oe&&(oe.c(),oe.m(v,null))),ye&2&&lt(b,me[1]),ve!==(ve=Ae(me))&&(de.d(1),de=ve(me),de&&(de.c(),de.m(q,null))),ye&8&&re(G,me[3]),(!Te||ye&16)&&te!==(te=me[4]?"Hide":"Show")&&je(ue,te),me[4]?Ce?(Ce.p(me,ye),ye&16&&Ue(Ce,1)):(Ce=Ql(me),Ce.c(),Ue(Ce,1),Ce.m(N,null)):Ce&&(Nt(),Re(Ce,1,1,()=>{Ce=null}),Pt())},i(me){Te||(Ue(Ce),Te=!0)},o(me){Re(Ce),Te=!1},d(me){me&&f(e),oe&&oe.d(),de.d(),Ce&&Ce.d(),Le=!1,qe(He)}}}function da(s,e,t){const l=Bt();let{saveSettings:r}=e,{getModels:i}=e,n=["dark","light","rose-pine dark","rose-pine-dawn light"],c="dark",h=!1,m="You are a helpful assistant.",g=!1;const p=async()=>{await Notification.requestPermission()==="granted"?(t(2,h=!h),r({notificationEnabled:h})):Me.error("Response notifications cannot be activated as the website permissions have been denied. Please visit your browser settings to grant the necessary access.")};let v="",_=null,b={seed:0,temperature:"",repeat_penalty:"",repeat_last_n:"",mirostat:"",mirostat_eta:"",mirostat_tau:"",top_k:"",top_p:"",stop:"",tfs_z:"",num_ctx:"",num_predict:""};const y=async()=>{v===""?t(5,v="json"):t(5,v=""),r({requestFormat:v!==""?v:void 0})};dt(async()=>{var M;let V=JSON.parse(localStorage.getItem("settings")??"{}");t(1,c=localStorage.theme??"dark"),t(2,h=V.notificationEnabled??!1),t(3,m=V.system??""),t(5,v=V.requestFormat??""),t(6,_=V.keepAlive??null),t(7,b.seed=V.seed??0,b),t(7,b.temperature=V.temperature??"",b),t(7,b.repeat_penalty=V.repeat_penalty??"",b),t(7,b.top_k=V.top_k??"",b),t(7,b.top_p=V.top_p??"",b),t(7,b.num_ctx=V.num_ctx??"",b),t(7,b={...b,...V.options}),t(7,b.stop=(((M=V==null?void 0:V.options)==null?void 0:M.stop)??[]).join(","),b)});function x(){c=gt(this),t(1,c)}const C=V=>{localStorage.theme=c,n.filter(M=>M!==c).forEach(M=>{M.split(" ").forEach(z=>{document.documentElement.classList.remove(z)})}),c.split(" ").forEach(M=>{document.documentElement.classList.add(M)}),console.log(c)},I=()=>{p()};function k(){m=this.value,t(3,m)}const O=()=>{t(4,g=!g)};function A(V){b=V,t(7,b)}const P=()=>{t(6,_=_===null?"5m":null)};function U(){_=this.value,t(6,_)}const R=()=>{y()},S=()=>{r({system:m!==""?m:void 0,options:{seed:(b.seed!==0?b.seed:void 0)??void 0,stop:b.stop!==""?b.stop.split(",").filter(V=>V):void 0,temperature:b.temperature!==""?b.temperature:void 0,repeat_penalty:b.repeat_penalty!==""?b.repeat_penalty:void 0,repeat_last_n:b.repeat_last_n!==""?b.repeat_last_n:void 0,mirostat:b.mirostat!==""?b.mirostat:void 0,mirostat_eta:b.mirostat_eta!==""?b.mirostat_eta:void 0,mirostat_tau:b.mirostat_tau!==""?b.mirostat_tau:void 0,top_k:b.top_k!==""?b.top_k:void 0,top_p:b.top_p!==""?b.top_p:void 0,tfs_z:b.tfs_z!==""?b.tfs_z:void 0,num_ctx:b.num_ctx!==""?b.num_ctx:void 0,num_predict:b.num_predict!==""?b.num_predict:void 0},keepAlive:_?isNaN(_)?_:parseInt(_):void 0}),l("save")};return s.$$set=V=>{"saveSettings"in V&&t(0,r=V.saveSettings),"getModels"in V&&t(12,i=V.getModels)},[r,c,h,m,g,v,_,b,l,n,p,y,i,x,C,I,k,O,A,P,U,R,S]}class fa extends ot{constructor(e){super(),it(this,e,da,ua,at,{saveSettings:0,getModels:12})}}function $l(s,e,t){const l=s.slice();return l[29]=e[t],l[30]=e,l[31]=t,l}function es(s,e,t){const l=s.slice();return l[32]=e[t],l}function ha(s){let e,t="Off";return{c(){e=u("span"),e.textContent=t,this.h()},l(l){e=d(l,"SPAN",{class:!0,"data-svelte-h":!0}),j(e)!=="svelte-1u2ztdm"&&(e.textContent=t),this.h()},h(){o(e,"class","ml-2 self-center")},m(l,r){B(l,e,r)},d(l){l&&f(e)}}}function va(s){let e,t="On";return{c(){e=u("span"),e.textContent=t,this.h()},l(l){e=d(l,"SPAN",{class:!0,"data-svelte-h":!0}),j(e)!=="svelte-14y7chk"&&(e.textContent=t),this.h()},h(){o(e,"class","ml-2 self-center")},m(l,r){B(l,e,r)},d(l){l&&f(e)}}}function pa(s){let e,t="Off";return{c(){e=u("span"),e.textContent=t,this.h()},l(l){e=d(l,"SPAN",{class:!0,"data-svelte-h":!0}),j(e)!=="svelte-1u2ztdm"&&(e.textContent=t),this.h()},h(){o(e,"class","ml-2 self-center")},m(l,r){B(l,e,r)},d(l){l&&f(e)}}}function ma(s){let e,t="On";return{c(){e=u("span"),e.textContent=t,this.h()},l(l){e=d(l,"SPAN",{class:!0,"data-svelte-h":!0}),j(e)!=="svelte-14y7chk"&&(e.textContent=t),this.h()},h(){o(e,"class","ml-2 self-center")},m(l,r){B(l,e,r)},d(l){l&&f(e)}}}function ga(s){let e,t="Off";return{c(){e=u("span"),e.textContent=t,this.h()},l(l){e=d(l,"SPAN",{class:!0,"data-svelte-h":!0}),j(e)!=="svelte-1u2ztdm"&&(e.textContent=t),this.h()},h(){o(e,"class","ml-2 self-center")},m(l,r){B(l,e,r)},d(l){l&&f(e)}}}function _a(s){let e,t="On";return{c(){e=u("span"),e.textContent=t,this.h()},l(l){e=d(l,"SPAN",{class:!0,"data-svelte-h":!0}),j(e)!=="svelte-14y7chk"&&(e.textContent=t),this.h()},h(){o(e,"class","ml-2 self-center")},m(l,r){B(l,e,r)},d(l){l&&f(e)}}}function ba(s){let e,t="Off";return{c(){e=u("span"),e.textContent=t,this.h()},l(l){e=d(l,"SPAN",{class:!0,"data-svelte-h":!0}),j(e)!=="svelte-1u2ztdm"&&(e.textContent=t),this.h()},h(){o(e,"class","ml-2 self-center")},m(l,r){B(l,e,r)},d(l){l&&f(e)}}}function wa(s){let e,t="On";return{c(){e=u("span"),e.textContent=t,this.h()},l(l){e=d(l,"SPAN",{class:!0,"data-svelte-h":!0}),j(e)!=="svelte-14y7chk"&&(e.textContent=t),this.h()},h(){o(e,"class","ml-2 self-center")},m(l,r){B(l,e,r)},d(l){l&&f(e)}}}function ts(s){let e,t=s[32].name+" ("+(s[32].size/1073741824).toFixed(1)+" GB)",l,r,i;return{c(){e=u("option"),l=xe(t),r=E(),this.h()},l(n){e=d(n,"OPTION",{class:!0});var c=w(e);l=ke(c,t),r=T(c),c.forEach(f),this.h()},h(){e.__value=i=s[32].name,re(e,e.__value),o(e,"class","bg-gray-100 dark:bg-gray-700")},m(n,c){B(n,e,c),a(e,l),a(e,r)},p(n,c){c[0]&256&&t!==(t=n[32].name+" ("+(n[32].size/1024**3).toFixed(1)+" GB)")&&je(l,t),c[0]&256&&i!==(i=n[32].name)&&(e.__value=i,re(e,e.__value))},d(n){n&&f(e)}}}function ls(s){let e,t=s[32].size!=null&&ts(s);return{c(){t&&t.c(),e=st()},l(l){t&&t.l(l),e=st()},m(l,r){t&&t.m(l,r),B(l,e,r)},p(l,r){l[32].size!=null?t?t.p(l,r):(t=ts(l),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},d(l){l&&f(e),t&&t.d(l)}}}function ss(s){let e,t,l,r,i,n="Default Prompt Suggestions",c,h,m='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path d="M10.75 4.75a.75.75 0 00-1.5 0v4.5h-4.5a.75.75 0 000 1.5h4.5v4.5a.75.75 0 001.5 0v-4.5h4.5a.75.75 0 000-1.5h-4.5v-4.5z"></path></svg>',g,p,v,_,b,y=ze(s[5]),x=[];for(let I=0;I<y.length;I+=1)x[I]=rs($l(s,y,I));let C=s[5].length>0&&ns();return{c(){e=u("hr"),t=E(),l=u("div"),r=u("div"),i=u("div"),i.textContent=n,c=E(),h=u("button"),h.innerHTML=m,g=E(),p=u("div");for(let I=0;I<x.length;I+=1)x[I].c();v=E(),C&&C.c(),this.h()},l(I){e=d(I,"HR",{class:!0}),t=T(I),l=d(I,"DIV",{class:!0});var k=w(l);r=d(k,"DIV",{class:!0});var O=w(r);i=d(O,"DIV",{class:!0,"data-svelte-h":!0}),j(i)!=="svelte-15m99z4"&&(i.textContent=n),c=T(O),h=d(O,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),j(h)!=="svelte-192kpg7"&&(h.innerHTML=m),O.forEach(f),g=T(k),p=d(k,"DIV",{class:!0});var A=w(p);for(let P=0;P<x.length;P+=1)x[P].l(A);A.forEach(f),v=T(k),C&&C.l(k),k.forEach(f),this.h()},h(){o(e,"class","dark:border-gray-700"),o(i,"class","self-center text-sm font-semibold"),o(h,"class","p-1 px-3 text-xs flex rounded transition"),o(h,"type","button"),o(r,"class","flex w-full justify-between mb-2"),o(p,"class","flex flex-col space-y-1"),o(l,"class","space-y-3 pr-1.5 overflow-y-scroll max-h-80")},m(I,k){B(I,e,k),B(I,t,k),B(I,l,k),a(l,r),a(r,i),a(r,c),a(r,h),a(l,g),a(l,p);for(let O=0;O<x.length;O+=1)x[O]&&x[O].m(p,null);a(l,v),C&&C.m(l,null),_||(b=J(h,"click",s[22]),_=!0)},p(I,k){if(k[0]&32){y=ze(I[5]);let O;for(O=0;O<y.length;O+=1){const A=$l(I,y,O);x[O]?x[O].p(A,k):(x[O]=rs(A),x[O].c(),x[O].m(p,null))}for(;O<x.length;O+=1)x[O].d(1);x.length=y.length}I[5].length>0?C||(C=ns(),C.c(),C.m(l,null)):C&&(C.d(1),C=null)},d(I){I&&(f(e),f(t),f(l)),rt(x,I),C&&C.d(),_=!1,b()}}}function rs(s){let e,t,l,r,i,n,c,h,m,g,p='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"></path></svg>',v,_,b;function y(){s[23].call(r,s[30],s[31])}function x(){s[24].call(n,s[30],s[31])}function C(){s[25].call(h,s[30],s[31])}function I(){return s[26](s[31])}return{c(){e=u("div"),t=u("div"),l=u("div"),r=u("input"),i=E(),n=u("input"),c=E(),h=u("input"),m=E(),g=u("button"),g.innerHTML=p,v=E(),this.h()},l(k){e=d(k,"DIV",{class:!0});var O=w(e);t=d(O,"DIV",{class:!0});var A=w(t);l=d(A,"DIV",{class:!0});var P=w(l);r=d(P,"INPUT",{class:!0,placeholder:!0}),i=T(P),n=d(P,"INPUT",{class:!0,placeholder:!0}),P.forEach(f),c=T(A),h=d(A,"INPUT",{class:!0,placeholder:!0}),A.forEach(f),m=T(O),g=d(O,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),j(g)!=="svelte-1lkxdu6"&&(g.innerHTML=p),v=T(O),O.forEach(f),this.h()},h(){o(r,"class","px-3 py-1.5 text-xs w-full bg-transparent outline-none border-r dark:border-gray-600"),o(r,"placeholder","Title (e.g. Tell me a fun fact)"),o(n,"class","px-3 py-1.5 text-xs w-full bg-transparent outline-none border-r dark:border-gray-600"),o(n,"placeholder","Subtitle (e.g. about the Roman Empire)"),o(l,"class","flex border-b dark:border-gray-600 w-full"),o(h,"class","px-3 py-1.5 text-xs w-full bg-transparent outline-none border-r dark:border-gray-600"),o(h,"placeholder","Prompt (e.g. Tell me a fun fact about the Roman Empire)"),o(t,"class","flex flex-col flex-1"),o(g,"class","px-2"),o(g,"type","button"),o(e,"class","flex border dark:border-gray-600 rounded-lg")},m(k,O){B(k,e,O),a(e,t),a(t,l),a(l,r),re(r,s[29].title[0]),a(l,i),a(l,n),re(n,s[29].title[1]),a(t,c),a(t,h),re(h,s[29].content),a(e,m),a(e,g),a(e,v),_||(b=[J(r,"input",y),J(n,"input",x),J(h,"input",C),J(g,"click",I)],_=!0)},p(k,O){s=k,O[0]&32&&r.value!==s[29].title[0]&&re(r,s[29].title[0]),O[0]&32&&n.value!==s[29].title[1]&&re(n,s[29].title[1]),O[0]&32&&h.value!==s[29].content&&re(h,s[29].content)},d(k){k&&f(e),_=!1,qe(b)}}}function ns(s){let e,t="Adjusting these settings will apply changes universally to all users.";return{c(){e=u("div"),e.textContent=t,this.h()},l(l){e=d(l,"DIV",{class:!0,"data-svelte-h":!0}),j(e)!=="svelte-klrx3z"&&(e.textContent=t),this.h()},h(){o(e,"class","text-xs text-left w-full mt-2")},m(l,r){B(l,e,r)},d(l){l&&f(e)}}}function ya(s){let e,t,l,r,i="WebUI Add-ons",n,c,h,m,g="Title Auto-Generation",p,v,_,b,y,x,C="Response AutoCopy to Clipboard",I,k,O,A,P,U,R="Full Screen Mode",S,V,M,z,q,H,D='Display the username instead of "You" in the Chat',L,F,Z,W,Q,G,K,N="Set Title Auto-Generation Model",X,Y,ee,$,ne,te="Current Model",ue,fe,ae,be="Title Generation Prompt",Be,we,Te,Le,He,Ee='<button class="px-4 py-2 bg-emerald-700 hover:bg-emerald-800 text-gray-100 transition rounded-lg" type="submit">Save</button>',ge,oe;function Ae(ie,_e){return ie[0]===!0?va:ha}let ve=Ae(s),de=ve(s);function Ce(ie,_e){return ie[1]===!0?ma:pa}let me=Ce(s),ye=me(s);function Se(ie,_e){return ie[3]===!0?_a:ga}let Oe=Se(s),Ve=Oe(s);function Qe(ie,_e){return ie[6]===!0?wa:ba}let Ge=Qe(s),pe=Ge(s),he=ze(s[8]),le=[];for(let ie=0;ie<he.length;ie+=1)le[ie]=ls(es(s,he,ie));let ce=s[7].role==="admin"&&ss(s);return{c(){e=u("form"),t=u("div"),l=u("div"),r=u("div"),r.textContent=i,n=E(),c=u("div"),h=u("div"),m=u("div"),m.textContent=g,p=E(),v=u("button"),de.c(),_=E(),b=u("div"),y=u("div"),x=u("div"),x.textContent=C,I=E(),k=u("button"),ye.c(),O=E(),A=u("div"),P=u("div"),U=u("div"),U.textContent=R,S=E(),V=u("button"),Ve.c(),M=E(),z=u("div"),q=u("div"),H=u("div"),H.textContent=D,L=E(),F=u("button"),pe.c(),Z=E(),W=u("hr"),Q=E(),G=u("div"),K=u("div"),K.textContent=N,X=E(),Y=u("div"),ee=u("div"),$=u("select"),ne=u("option"),ne.textContent=te;for(let ie=0;ie<le.length;ie+=1)le[ie].c();ue=E(),fe=u("div"),ae=u("div"),ae.textContent=be,Be=E(),we=u("textarea"),Te=E(),ce&&ce.c(),Le=E(),He=u("div"),He.innerHTML=Ee,this.h()},l(ie){e=d(ie,"FORM",{class:!0});var _e=w(e);t=d(_e,"DIV",{class:!0});var se=w(t);l=d(se,"DIV",{});var Ie=w(l);r=d(Ie,"DIV",{class:!0,"data-svelte-h":!0}),j(r)!=="svelte-1ei8vob"&&(r.textContent=i),n=T(Ie),c=d(Ie,"DIV",{});var Ze=w(c);h=d(Ze,"DIV",{class:!0});var De=w(h);m=d(De,"DIV",{class:!0,"data-svelte-h":!0}),j(m)!=="svelte-vxy2t7"&&(m.textContent=g),p=T(De),v=d(De,"BUTTON",{class:!0,type:!0});var Ne=w(v);de.l(Ne),Ne.forEach(f),De.forEach(f),Ze.forEach(f),_=T(Ie),b=d(Ie,"DIV",{});var Ke=w(b);y=d(Ke,"DIV",{class:!0});var nt=w(y);x=d(nt,"DIV",{class:!0,"data-svelte-h":!0}),j(x)!=="svelte-15p4et1"&&(x.textContent=C),I=T(nt),k=d(nt,"BUTTON",{class:!0,type:!0});var ft=w(k);ye.l(ft),ft.forEach(f),nt.forEach(f),Ke.forEach(f),O=T(Ie),A=d(Ie,"DIV",{});var _t=w(A);P=d(_t,"DIV",{class:!0});var ut=w(P);U=d(ut,"DIV",{class:!0,"data-svelte-h":!0}),j(U)!=="svelte-eh80kt"&&(U.textContent=R),S=T(ut),V=d(ut,"BUTTON",{class:!0,type:!0});var ht=w(V);Ve.l(ht),ht.forEach(f),ut.forEach(f),_t.forEach(f),M=T(Ie),z=d(Ie,"DIV",{});var Ct=w(z);q=d(Ct,"DIV",{class:!0});var Ut=w(q);H=d(Ut,"DIV",{class:!0,"data-svelte-h":!0}),j(H)!=="svelte-hq3tpb"&&(H.textContent=D),L=T(Ut),F=d(Ut,"BUTTON",{class:!0,type:!0});var hl=w(F);pe.l(hl),hl.forEach(f),Ut.forEach(f),Ct.forEach(f),Ie.forEach(f),Z=T(se),W=d(se,"HR",{class:!0}),Q=T(se),G=d(se,"DIV",{});var Vt=w(G);K=d(Vt,"DIV",{class:!0,"data-svelte-h":!0}),j(K)!=="svelte-6mvwtw"&&(K.textContent=N),X=T(Vt),Y=d(Vt,"DIV",{class:!0});var vl=w(Y);ee=d(vl,"DIV",{class:!0});var pl=w(ee);$=d(pl,"SELECT",{class:!0,placeholder:!0});var Gt=w($);ne=d(Gt,"OPTION",{"data-svelte-h":!0}),j(ne)!=="svelte-14zk1i5"&&(ne.textContent=te);for(let Ft=0;Ft<le.length;Ft+=1)le[Ft].l(Gt);Gt.forEach(f),pl.forEach(f),vl.forEach(f),ue=T(Vt),fe=d(Vt,"DIV",{class:!0});var jt=w(fe);ae=d(jt,"DIV",{class:!0,"data-svelte-h":!0}),j(ae)!=="svelte-1lfupt"&&(ae.textContent=be),Be=T(jt),we=d(jt,"TEXTAREA",{class:!0,rows:!0}),w(we).forEach(f),jt.forEach(f),Vt.forEach(f),Te=T(se),ce&&ce.l(se),se.forEach(f),Le=T(_e),He=d(_e,"DIV",{class:!0,"data-svelte-h":!0}),j(He)!=="svelte-4r259g"&&(He.innerHTML=Ee),_e.forEach(f),this.h()},h(){o(r,"class","mb-1 text-sm font-medium"),o(m,"class","self-center text-xs font-medium"),o(v,"class","p-1 px-3 text-xs flex rounded transition"),o(v,"type","button"),o(h,"class","py-0.5 flex w-full justify-between"),o(x,"class","self-center text-xs font-medium"),o(k,"class","p-1 px-3 text-xs flex rounded transition"),o(k,"type","button"),o(y,"class","py-0.5 flex w-full justify-between"),o(U,"class","self-center text-xs font-medium"),o(V,"class","p-1 px-3 text-xs flex rounded transition"),o(V,"type","button"),o(P,"class","py-0.5 flex w-full justify-between"),o(H,"class","self-center text-xs font-medium"),o(F,"class","p-1 px-3 text-xs flex rounded transition"),o(F,"type","button"),o(q,"class","py-0.5 flex w-full justify-between"),o(W,"class","dark:border-gray-700"),o(K,"class","mb-2.5 text-sm font-medium"),ne.__value="",re(ne,ne.__value),ne.selected=!0,o($,"class","w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),o($,"placeholder","Select a model"),s[2]===void 0&&mt(()=>s[20].call($)),o(ee,"class","flex-1 mr-2"),o(Y,"class","flex w-full"),o(ae,"class","mb-2.5 text-sm font-medium"),o(we,"class","w-full rounded-lg p-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none resize-none"),o(we,"rows","3"),o(fe,"class","mt-3 mr-2"),o(t,"class","space-y-3 pr-1.5 overflow-y-scroll h-80"),o(He,"class","flex justify-end pt-3 text-sm font-medium"),o(e,"class","flex flex-col h-full justify-between space-y-3 text-sm")},m(ie,_e){B(ie,e,_e),a(e,t),a(t,l),a(l,r),a(l,n),a(l,c),a(c,h),a(h,m),a(h,p),a(h,v),de.m(v,null),a(l,_),a(l,b),a(b,y),a(y,x),a(y,I),a(y,k),ye.m(k,null),a(l,O),a(l,A),a(A,P),a(P,U),a(P,S),a(P,V),Ve.m(V,null),a(l,M),a(l,z),a(z,q),a(q,H),a(q,L),a(q,F),pe.m(F,null),a(t,Z),a(t,W),a(t,Q),a(t,G),a(G,K),a(G,X),a(G,Y),a(Y,ee),a(ee,$),a($,ne);for(let se=0;se<le.length;se+=1)le[se]&&le[se].m($,null);lt($,s[2],!0),a(G,ue),a(G,fe),a(fe,ae),a(fe,Be),a(fe,we),re(we,s[4]),a(t,Te),ce&&ce.m(t,null),a(e,Le),a(e,He),ge||(oe=[J(v,"click",s[16]),J(k,"click",s[17]),J(V,"click",s[18]),J(F,"click",s[19]),J($,"change",s[20]),J(we,"input",s[21]),J(e,"submit",At(s[27]))],ge=!0)},p(ie,_e){if(ve!==(ve=Ae(ie))&&(de.d(1),de=ve(ie),de&&(de.c(),de.m(v,null))),me!==(me=Ce(ie))&&(ye.d(1),ye=me(ie),ye&&(ye.c(),ye.m(k,null))),Oe!==(Oe=Se(ie))&&(Ve.d(1),Ve=Oe(ie),Ve&&(Ve.c(),Ve.m(V,null))),Ge!==(Ge=Qe(ie))&&(pe.d(1),pe=Ge(ie),pe&&(pe.c(),pe.m(F,null))),_e[0]&256){he=ze(ie[8]);let se;for(se=0;se<he.length;se+=1){const Ie=es(ie,he,se);le[se]?le[se].p(Ie,_e):(le[se]=ls(Ie),le[se].c(),le[se].m($,null))}for(;se<le.length;se+=1)le[se].d(1);le.length=he.length}_e[0]&260&&lt($,ie[2]),_e[0]&16&&re(we,ie[4]),ie[7].role==="admin"?ce?ce.p(ie,_e):(ce=ss(ie),ce.c(),ce.m(t,null)):ce&&(ce.d(1),ce=null)},i:Pe,o:Pe,d(ie){ie&&f(e),de.d(),ye.d(),Ve.d(),pe.d(),rt(le,ie),ce&&ce.d(),ge=!1,qe(oe)}}}function xa(s,e,t){let l,r,i;Ye(s,Ot,L=>t(28,l=L)),Ye(s,wt,L=>t(7,r=L)),Ye(s,vt,L=>t(8,i=L));const n=Bt();let{saveSettings:c}=e,h=!0,m=!1,g="",p=!1,v="",_=[],b=!1;const y=async()=>{t(3,p=!p),c({fullScreenMode:p})},x=async()=>{t(6,b=!b),c({showUsername:b})},C=async()=>{t(0,h=!h),c({titleAutoGenerate:h})},I=async()=>{const L=await navigator.clipboard.readText().then(()=>"granted").catch(()=>"");console.log(L),L==="granted"?(t(1,m=!m),c({responseAutoCopy:m})):Me.error("Clipboard write permission denied. Please check your browser settings to grant the necessary access.")},k=async()=>{r.role==="admin"&&(t(5,_=await Ir(localStorage.token,_)),await Ot.set(await er())),c({titleAutoGenerateModel:g!==""?g:void 0,titleGenerationPrompt:v||void 0})};dt(async()=>{r.role==="admin"&&t(5,_=l==null?void 0:l.default_prompt_suggestions);let L=JSON.parse(localStorage.getItem("settings")??"{}");t(0,h=L.titleAutoGenerate??!0),t(1,m=L.responseAutoCopy??!1),t(6,b=L.showUsername??!1),t(3,p=L.fullScreenMode??!1),t(2,g=L.titleAutoGenerateModel??""),t(4,v=L.titleGenerationPrompt??"Create a concise, 3-5 word phrase as a header for the following query, strictly adhering to the 3-5 word limit and avoiding the use of the word 'title': {{prompt}}")});const O=()=>{C()},A=()=>{I()},P=()=>{y()},U=()=>{x()};function R(){g=gt(this),t(2,g)}function S(){v=this.value,t(4,v)}const V=()=>{(_.length===0||_.at(-1).content!=="")&&t(5,_=[..._,{content:"",title:["",""]}])};function M(L,F){L[F].title[0]=this.value,t(5,_)}function z(L,F){L[F].title[1]=this.value,t(5,_)}function q(L,F){L[F].content=this.value,t(5,_)}const H=L=>{_.splice(L,1),t(5,_)},D=()=>{k(),n("save")};return s.$$set=L=>{"saveSettings"in L&&t(15,c=L.saveSettings)},[h,m,g,p,v,_,b,r,i,n,y,x,C,I,k,c,O,A,P,U,R,S,V,M,z,q,H,D]}class ka extends ot{constructor(e){super(),it(this,e,xa,ya,at,{saveSettings:15},null,[-1,-1])}}function as(s,e,t){const l=s.slice();return l[26]=e[t],l}function os(s,e,t){const l=s.slice();return l[26]=e[t],l}function Ca(s){let e,t="Off";return{c(){e=u("span"),e.textContent=t,this.h()},l(l){e=d(l,"SPAN",{class:!0,"data-svelte-h":!0}),j(e)!=="svelte-1u2ztdm"&&(e.textContent=t),this.h()},h(){o(e,"class","ml-2 self-center")},m(l,r){B(l,e,r)},d(l){l&&f(e)}}}function Ia(s){let e,t="On";return{c(){e=u("span"),e.textContent=t,this.h()},l(l){e=d(l,"SPAN",{class:!0,"data-svelte-h":!0}),j(e)!=="svelte-14y7chk"&&(e.textContent=t),this.h()},h(){o(e,"class","ml-2 self-center")},m(l,r){B(l,e,r)},d(l){l&&f(e)}}}function Ea(s){let e,t="Off";return{c(){e=u("span"),e.textContent=t,this.h()},l(l){e=d(l,"SPAN",{class:!0,"data-svelte-h":!0}),j(e)!=="svelte-1u2ztdm"&&(e.textContent=t),this.h()},h(){o(e,"class","ml-2 self-center")},m(l,r){B(l,e,r)},d(l){l&&f(e)}}}function Ta(s){let e,t="On";return{c(){e=u("span"),e.textContent=t,this.h()},l(l){e=d(l,"SPAN",{class:!0,"data-svelte-h":!0}),j(e)!=="svelte-14y7chk"&&(e.textContent=t),this.h()},h(){o(e,"class","ml-2 self-center")},m(l,r){B(l,e,r)},d(l){l&&f(e)}}}function Da(s){let e,t="Off";return{c(){e=u("span"),e.textContent=t,this.h()},l(l){e=d(l,"SPAN",{class:!0,"data-svelte-h":!0}),j(e)!=="svelte-1u2ztdm"&&(e.textContent=t),this.h()},h(){o(e,"class","ml-2 self-center")},m(l,r){B(l,e,r)},d(l){l&&f(e)}}}function Va(s){let e,t="On";return{c(){e=u("span"),e.textContent=t,this.h()},l(l){e=d(l,"SPAN",{class:!0,"data-svelte-h":!0}),j(e)!=="svelte-14y7chk"&&(e.textContent=t),this.h()},h(){o(e,"class","ml-2 self-center")},m(l,r){B(l,e,r)},d(l){l&&f(e)}}}function Ma(s){let e,t,l="Set Voice",r,i,n,c,h,m,g=ze(s[6]),p=[];for(let v=0;v<g.length;v+=1)p[v]=is(as(s,g,v));return{c(){e=u("div"),t=u("div"),t.textContent=l,r=E(),i=u("div"),n=u("div"),c=u("select");for(let v=0;v<p.length;v+=1)p[v].c();this.h()},l(v){e=d(v,"DIV",{});var _=w(e);t=d(_,"DIV",{class:!0,"data-svelte-h":!0}),j(t)!=="svelte-1saas11"&&(t.textContent=l),r=T(_),i=d(_,"DIV",{class:!0});var b=w(i);n=d(b,"DIV",{class:!0});var y=w(n);c=d(y,"SELECT",{class:!0,placeholder:!0});var x=w(c);for(let C=0;C<p.length;C+=1)p[C].l(x);x.forEach(f),y.forEach(f),b.forEach(f),_.forEach(f),this.h()},h(){o(t,"class","mb-2.5 text-sm font-medium"),o(c,"class","w-full rounded py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-800 outline-none"),o(c,"placeholder","Select a voice"),s[7]===void 0&&mt(()=>s[22].call(c)),o(n,"class","flex-1"),o(i,"class","flex w-full")},m(v,_){B(v,e,_),a(e,t),a(e,r),a(e,i),a(i,n),a(n,c);for(let b=0;b<p.length;b+=1)p[b]&&p[b].m(c,null);lt(c,s[7],!0),h||(m=J(c,"change",s[22]),h=!0)},p(v,_){if(_&64){g=ze(v[6]);let b;for(b=0;b<g.length;b+=1){const y=as(v,g,b);p[b]?p[b].p(y,_):(p[b]=is(y),p[b].c(),p[b].m(c,null))}for(;b<p.length;b+=1)p[b].d(1);p.length=g.length}_&192&&lt(c,v[7])},d(v){v&&f(e),rt(p,v),h=!1,m()}}}function La(s){let e,t,l="Set Voice",r,i,n,c,h,m="Default",g,p,v=ze(s[6].filter(us)),_=[];for(let b=0;b<v.length;b+=1)_[b]=cs(os(s,v,b));return{c(){e=u("div"),t=u("div"),t.textContent=l,r=E(),i=u("div"),n=u("div"),c=u("select"),h=u("option"),h.textContent=m;for(let b=0;b<_.length;b+=1)_[b].c();this.h()},l(b){e=d(b,"DIV",{});var y=w(e);t=d(y,"DIV",{class:!0,"data-svelte-h":!0}),j(t)!=="svelte-1saas11"&&(t.textContent=l),r=T(y),i=d(y,"DIV",{class:!0});var x=w(i);n=d(x,"DIV",{class:!0});var C=w(n);c=d(C,"SELECT",{class:!0,placeholder:!0});var I=w(c);h=d(I,"OPTION",{"data-svelte-h":!0}),j(h)!=="svelte-19tv5vy"&&(h.textContent=m);for(let k=0;k<_.length;k+=1)_[k].l(I);I.forEach(f),C.forEach(f),x.forEach(f),y.forEach(f),this.h()},h(){o(t,"class","mb-2.5 text-sm font-medium"),h.__value="",re(h,h.__value),h.selected=!0,o(c,"class","w-full rounded py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-800 outline-none"),o(c,"placeholder","Select a voice"),s[7]===void 0&&mt(()=>s[21].call(c)),o(n,"class","flex-1"),o(i,"class","flex w-full")},m(b,y){B(b,e,y),a(e,t),a(e,r),a(e,i),a(i,n),a(n,c),a(c,h);for(let x=0;x<_.length;x+=1)_[x]&&_[x].m(c,null);lt(c,s[7],!0),g||(p=J(c,"change",s[21]),g=!0)},p(b,y){if(y&64){v=ze(b[6].filter(us));let x;for(x=0;x<v.length;x+=1){const C=os(b,v,x);_[x]?_[x].p(C,y):(_[x]=cs(C),_[x].c(),_[x].m(c,null))}for(;x<_.length;x+=1)_[x].d(1);_.length=v.length}y&192&&lt(c,b[7])},d(b){b&&f(e),rt(_,b),g=!1,p()}}}function is(s){let e,t=s[26].name+"",l,r;return{c(){e=u("option"),l=xe(t),this.h()},l(i){e=d(i,"OPTION",{class:!0});var n=w(e);l=ke(n,t),n.forEach(f),this.h()},h(){e.__value=r=s[26].name,re(e,e.__value),o(e,"class","bg-gray-100 dark:bg-gray-700")},m(i,n){B(i,e,n),a(e,l)},p(i,n){n&64&&t!==(t=i[26].name+"")&&je(l,t),n&64&&r!==(r=i[26].name)&&(e.__value=r,re(e,e.__value))},d(i){i&&f(e)}}}function cs(s){let e,t=s[26].name+"",l,r;return{c(){e=u("option"),l=xe(t),this.h()},l(i){e=d(i,"OPTION",{class:!0});var n=w(e);l=ke(n,t),n.forEach(f),this.h()},h(){e.__value=r=s[26].name,re(e,e.__value),o(e,"class","bg-gray-100 dark:bg-gray-700")},m(i,n){B(i,e,n),a(e,l)},p(i,n){n&64&&t!==(t=i[26].name+"")&&je(l,t),n&64&&r!==(r=i[26].name)&&(e.__value=r,re(e,e.__value))},d(i){i&&f(e)}}}function Aa(s){let e,t,l,r,i="STT Settings",n,c,h,m="Speech-to-Text Engine",g,p,v,_,b="Default (Web API)",y,x="Open AI",C,I,k,O="Conversation Mode",A,P,U,R,S,V="Auto-send input after 3 sec.",M,z,q,H,D,L="TTS Settings",F,Z,W,Q="Text-to-Speech Engine",G,K,N,X,Y="Default (Web API)",ee,$="Open AI",ne,te,ue,fe="Auto-playback response",ae,be,Be,we,Te,Le,He,Ee='<button class="px-4 py-2 bg-emerald-700 hover:bg-emerald-800 text-gray-100 transition rounded-lg" type="submit">Save</button>',ge,oe;function Ae(he,le){return he[2]===!0?Ia:Ca}let ve=Ae(s),de=ve(s);function Ce(he,le){return he[3]===!0?Ta:Ea}let me=Ce(s),ye=me(s);function Se(he,le){return he[4]===!0?Va:Da}let Oe=Se(s),Ve=Oe(s);function Qe(he,le){if(he[5]==="")return La;if(he[5]==="openai")return Ma}let Ge=Qe(s),pe=Ge&&Ge(s);return{c(){e=u("form"),t=u("div"),l=u("div"),r=u("div"),r.textContent=i,n=E(),c=u("div"),h=u("div"),h.textContent=m,g=E(),p=u("div"),v=u("select"),_=u("option"),_.textContent=b,y=u("option"),y.textContent=x,C=E(),I=u("div"),k=u("div"),k.textContent=O,A=E(),P=u("button"),de.c(),U=E(),R=u("div"),S=u("div"),S.textContent=V,M=E(),z=u("button"),ye.c(),q=E(),H=u("div"),D=u("div"),D.textContent=L,F=E(),Z=u("div"),W=u("div"),W.textContent=Q,G=E(),K=u("div"),N=u("select"),X=u("option"),X.textContent=Y,ee=u("option"),ee.textContent=$,ne=E(),te=u("div"),ue=u("div"),ue.textContent=fe,ae=E(),be=u("button"),Ve.c(),Be=E(),we=u("hr"),Te=E(),pe&&pe.c(),Le=E(),He=u("div"),He.innerHTML=Ee,this.h()},l(he){e=d(he,"FORM",{class:!0});var le=w(e);t=d(le,"DIV",{class:!0});var ce=w(t);l=d(ce,"DIV",{});var ie=w(l);r=d(ie,"DIV",{class:!0,"data-svelte-h":!0}),j(r)!=="svelte-diomsv"&&(r.textContent=i),n=T(ie),c=d(ie,"DIV",{class:!0});var _e=w(c);h=d(_e,"DIV",{class:!0,"data-svelte-h":!0}),j(h)!=="svelte-1grxly3"&&(h.textContent=m),g=T(_e),p=d(_e,"DIV",{class:!0});var se=w(p);v=d(se,"SELECT",{class:!0,placeholder:!0});var Ie=w(v);_=d(Ie,"OPTION",{"data-svelte-h":!0}),j(_)!=="svelte-58m1fs"&&(_.textContent=b),y=d(Ie,"OPTION",{"data-svelte-h":!0}),j(y)!=="svelte-12xvqcc"&&(y.textContent=x),Ie.forEach(f),se.forEach(f),_e.forEach(f),C=T(ie),I=d(ie,"DIV",{class:!0});var Ze=w(I);k=d(Ze,"DIV",{class:!0,"data-svelte-h":!0}),j(k)!=="svelte-149a4jz"&&(k.textContent=O),A=T(Ze),P=d(Ze,"BUTTON",{class:!0,type:!0});var De=w(P);de.l(De),De.forEach(f),Ze.forEach(f),U=T(ie),R=d(ie,"DIV",{class:!0});var Ne=w(R);S=d(Ne,"DIV",{class:!0,"data-svelte-h":!0}),j(S)!=="svelte-1s78n2z"&&(S.textContent=V),M=T(Ne),z=d(Ne,"BUTTON",{class:!0,type:!0});var Ke=w(z);ye.l(Ke),Ke.forEach(f),Ne.forEach(f),ie.forEach(f),q=T(ce),H=d(ce,"DIV",{});var nt=w(H);D=d(nt,"DIV",{class:!0,"data-svelte-h":!0}),j(D)!=="svelte-1hgogbz"&&(D.textContent=L),F=T(nt),Z=d(nt,"DIV",{class:!0});var ft=w(Z);W=d(ft,"DIV",{class:!0,"data-svelte-h":!0}),j(W)!=="svelte-1c62htf"&&(W.textContent=Q),G=T(ft),K=d(ft,"DIV",{class:!0});var _t=w(K);N=d(_t,"SELECT",{class:!0,placeholder:!0});var ut=w(N);X=d(ut,"OPTION",{"data-svelte-h":!0}),j(X)!=="svelte-58m1fs"&&(X.textContent=Y),ee=d(ut,"OPTION",{"data-svelte-h":!0}),j(ee)!=="svelte-12xvqcc"&&(ee.textContent=$),ut.forEach(f),_t.forEach(f),ft.forEach(f),ne=T(nt),te=d(nt,"DIV",{class:!0});var ht=w(te);ue=d(ht,"DIV",{class:!0,"data-svelte-h":!0}),j(ue)!=="svelte-lkaxwt"&&(ue.textContent=fe),ae=T(ht),be=d(ht,"BUTTON",{class:!0,type:!0});var Ct=w(be);Ve.l(Ct),Ct.forEach(f),ht.forEach(f),nt.forEach(f),Be=T(ce),we=d(ce,"HR",{class:!0}),Te=T(ce),pe&&pe.l(ce),ce.forEach(f),Le=T(le),He=d(le,"DIV",{class:!0,"data-svelte-h":!0}),j(He)!=="svelte-4r259g"&&(He.innerHTML=Ee),le.forEach(f),this.h()},h(){o(r,"class","mb-1 text-sm font-medium"),o(h,"class","self-center text-xs font-medium"),_.__value="",re(_,_.__value),y.__value="openai",re(y,y.__value),o(v,"class","w-fit pr-8 rounded px-2 p-1 text-xs bg-transparent outline-none text-right"),o(v,"placeholder","Select a mode"),s[1]===void 0&&mt(()=>s[14].call(v)),o(p,"class","flex items-center relative"),o(c,"class","py-0.5 flex w-full justify-between"),o(k,"class","self-center text-xs font-medium"),o(P,"class","p-1 px-3 text-xs flex rounded transition"),o(P,"type","button"),o(I,"class","py-0.5 flex w-full justify-between"),o(S,"class","self-center text-xs font-medium"),o(z,"class","p-1 px-3 text-xs flex rounded transition"),o(z,"type","button"),o(R,"class","py-0.5 flex w-full justify-between"),o(D,"class","mb-1 text-sm font-medium"),o(W,"class","self-center text-xs font-medium"),X.__value="",re(X,X.__value),ee.__value="openai",re(ee,ee.__value),o(N,"class","w-fit pr-8 rounded px-2 p-1 text-xs bg-transparent outline-none text-right"),o(N,"placeholder","Select a mode"),s[5]===void 0&&mt(()=>s[18].call(N)),o(K,"class","flex items-center relative"),o(Z,"class","py-0.5 flex w-full justify-between"),o(ue,"class","self-center text-xs font-medium"),o(be,"class","p-1 px-3 text-xs flex rounded transition"),o(be,"type","button"),o(te,"class","py-0.5 flex w-full justify-between"),o(we,"class","dark:border-gray-700"),o(t,"class","space-y-3 pr-1.5 overflow-y-scroll max-h-80"),o(He,"class","flex justify-end pt-3 text-sm font-medium"),o(e,"class","flex flex-col h-full justify-between space-y-3 text-sm")},m(he,le){B(he,e,le),a(e,t),a(t,l),a(l,r),a(l,n),a(l,c),a(c,h),a(c,g),a(c,p),a(p,v),a(v,_),a(v,y),lt(v,s[1],!0),a(l,C),a(l,I),a(I,k),a(I,A),a(I,P),de.m(P,null),a(l,U),a(l,R),a(R,S),a(R,M),a(R,z),ye.m(z,null),a(t,q),a(t,H),a(H,D),a(H,F),a(H,Z),a(Z,W),a(Z,G),a(Z,K),a(K,N),a(N,X),a(N,ee),lt(N,s[5],!0),a(H,ne),a(H,te),a(te,ue),a(te,ae),a(te,be),Ve.m(be,null),a(t,Be),a(t,we),a(t,Te),pe&&pe.m(t,null),a(e,Le),a(e,He),ge||(oe=[J(v,"change",s[14]),J(v,"change",s[15]),J(P,"click",s[16]),J(z,"click",s[17]),J(N,"change",s[18]),J(N,"change",s[19]),J(be,"click",s[20]),J(e,"submit",At(s[23]))],ge=!0)},p(he,[le]){le&2&&lt(v,he[1]),ve!==(ve=Ae(he))&&(de.d(1),de=ve(he),de&&(de.c(),de.m(P,null))),me!==(me=Ce(he))&&(ye.d(1),ye=me(he),ye&&(ye.c(),ye.m(z,null))),le&32&&lt(N,he[5]),Oe!==(Oe=Se(he))&&(Ve.d(1),Ve=Oe(he),Ve&&(Ve.c(),Ve.m(be,null))),Ge===(Ge=Qe(he))&&pe?pe.p(he,le):(pe&&pe.d(1),pe=Ge&&Ge(he),pe&&(pe.c(),pe.m(t,null)))},i:Pe,o:Pe,d(he){he&&f(e),de.d(),ye.d(),Ve.d(),pe&&pe.d(),ge=!1,qe(oe)}}}const us=s=>s.localService===!0;function Sa(s,e,t){const l=Bt();let{saveSettings:r}=e,i="",n=!1,c=!1,h=!1,m="",g=[],p="";const v=()=>{t(6,g=[{name:"alloy"},{name:"echo"},{name:"fable"},{name:"onyx"},{name:"nova"},{name:"shimmer"}])},_=()=>{const M=setInterval(async()=>{t(6,g=await speechSynthesis.getVoices()),g.length>0&&clearInterval(M)},100)},b=async()=>{t(2,n=!n),n&&(t(4,h=!0),t(3,c=!0)),r({conversationMode:n,responseAutoPlayback:h,speechAutoSend:c})},y=async()=>{t(4,h=!h),r({responseAutoPlayback:h})},x=async()=>{t(3,c=!c),r({speechAutoSend:c})};dt(async()=>{var z,q,H;let M=JSON.parse(localStorage.getItem("settings")??"{}");t(2,n=M.conversationMode??!1),t(3,c=M.speechAutoSend??!1),t(4,h=M.responseAutoPlayback??!1),t(1,i=((z=M==null?void 0:M.audio)==null?void 0:z.STTEngine)??""),t(5,m=((q=M==null?void 0:M.audio)==null?void 0:q.TTSEngine)??""),t(7,p=((H=M==null?void 0:M.audio)==null?void 0:H.speaker)??""),m==="openai"?v():_()});function C(){i=gt(this),t(1,i)}const I=M=>{M.target.value!==""&&navigator.mediaDevices.getUserMedia({audio:!0}).catch(function(z){Me.error(`Permission denied when accessing microphone: ${z}`),t(1,i="")})},k=()=>{b()},O=()=>{x()};function A(){m=gt(this),t(5,m)}const P=M=>{M.target.value==="openai"?(v(),t(7,p="alloy")):(_(),t(7,p=""))},U=()=>{y()};function R(){p=gt(this),t(7,p),t(6,g)}function S(){p=gt(this),t(7,p),t(6,g)}const V=()=>{r({audio:{STTEngine:i!==""?i:void 0,TTSEngine:m!==""?m:void 0,speaker:p!==""?p:void 0}}),l("save")};return s.$$set=M=>{"saveSettings"in M&&t(0,r=M.saveSettings)},[r,i,n,c,h,m,g,p,l,v,_,b,y,x,C,I,k,O,A,P,U,R,S,V]}class Oa extends ot{constructor(e){super(),it(this,e,Sa,Aa,at,{saveSettings:0})}}function Ha(s){let e,t,l,r,i,n="Off";return{c(){e=We("svg"),t=We("path"),l=We("path"),r=E(),i=u("span"),i.textContent=n,this.h()},l(c){e=Je(c,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var h=w(e);t=Je(h,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),w(t).forEach(f),l=Je(h,"path",{d:!0}),w(l).forEach(f),h.forEach(f),r=T(c),i=d(c,"SPAN",{class:!0,"data-svelte-h":!0}),j(i)!=="svelte-1u2ztdm"&&(i.textContent=n),this.h()},h(){o(t,"fill-rule","evenodd"),o(t,"d","M3.28 2.22a.75.75 0 0 0-1.06 1.06l10.5 10.5a.75.75 0 1 0 1.06-1.06l-1.322-1.323a7.012 7.012 0 0 0 2.16-3.11.87.87 0 0 0 0-.567A7.003 7.003 0 0 0 4.82 3.76l-1.54-1.54Zm3.196 3.195 1.135 1.136A1.502 1.502 0 0 1 9.45 8.389l1.136 1.135a3 3 0 0 0-4.109-4.109Z"),o(t,"clip-rule","evenodd"),o(l,"d","m7.812 10.994 1.816 1.816A7.003 7.003 0 0 1 1.38 8.28a.87.87 0 0 1 0-.566 6.985 6.985 0 0 1 1.113-2.039l2.513 2.513a3 3 0 0 0 2.806 2.806Z"),o(e,"xmlns","http://www.w3.org/2000/svg"),o(e,"viewBox","0 0 16 16"),o(e,"fill","currentColor"),o(e,"class","w-4 h-4"),o(i,"class","ml-2 self-center")},m(c,h){B(c,e,h),a(e,t),a(e,l),B(c,r,h),B(c,i,h)},d(c){c&&(f(e),f(r),f(i))}}}function Ba(s){let e,t,l,r,i,n="On";return{c(){e=We("svg"),t=We("path"),l=We("path"),r=E(),i=u("span"),i.textContent=n,this.h()},l(c){e=Je(c,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var h=w(e);t=Je(h,"path",{d:!0}),w(t).forEach(f),l=Je(h,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),w(l).forEach(f),h.forEach(f),r=T(c),i=d(c,"SPAN",{class:!0,"data-svelte-h":!0}),j(i)!=="svelte-1abjn3m"&&(i.textContent=n),this.h()},h(){o(t,"d","M8 9.5a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Z"),o(l,"fill-rule","evenodd"),o(l,"d","M1.38 8.28a.87.87 0 0 1 0-.566 7.003 7.003 0 0 1 13.238.006.87.87 0 0 1 0 .566A7.003 7.003 0 0 1 1.379 8.28ZM11 8a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"),o(l,"clip-rule","evenodd"),o(e,"xmlns","http://www.w3.org/2000/svg"),o(e,"viewBox","0 0 16 16"),o(e,"fill","currentColor"),o(e,"class","w-4 h-4"),o(i,"class","ml-2 self-center")},m(c,h){B(c,e,h),a(e,t),a(e,l),B(c,r,h),B(c,i,h)},d(c){c&&(f(e),f(r),f(i))}}}function Na(s){let e,t='<div class="self-center mr-3"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M4 2a1.5 1.5 0 0 0-1.5 1.5v9A1.5 1.5 0 0 0 4 14h8a1.5 1.5 0 0 0 1.5-1.5V6.621a1.5 1.5 0 0 0-.44-1.06L9.94 2.439A1.5 1.5 0 0 0 8.878 2H4Zm7 7a.75.75 0 0 1-.75.75h-4.5a.75.75 0 0 1 0-1.5h4.5A.75.75 0 0 1 11 9Z" clip-rule="evenodd"></path></svg></div> <div class="self-center text-sm font-medium">Delete Chats</div>',l,r;return{c(){e=u("button"),e.innerHTML=t,this.h()},l(i){e=d(i,"BUTTON",{class:!0,"data-svelte-h":!0}),j(e)!=="svelte-ki3yy5"&&(e.innerHTML=t),this.h()},h(){o(e,"class","flex rounded-md py-2 px-3.5 w-full hover:bg-gray-200 dark:hover:bg-gray-800 transition")},m(i,n){B(i,e,n),l||(r=J(e,"click",s[17]),l=!0)},p:Pe,d(i){i&&f(e),l=!1,r()}}}function Pa(s){let e,t,l='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path d="M2 3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3Z"></path><path fill-rule="evenodd" d="M13 6H3v6a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V6ZM5.72 7.47a.75.75 0 0 1 1.06 0L8 8.69l1.22-1.22a.75.75 0 1 1 1.06 1.06L9.06 9.75l1.22 1.22a.75.75 0 1 1-1.06 1.06L8 10.81l-1.22 1.22a.75.75 0 0 1-1.06-1.06l1.22-1.22-1.22-1.22a.75.75 0 0 1 0-1.06Z" clip-rule="evenodd"></path></svg> <span>Are you sure?</span>',r,i,n,c='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M16.704 4.153a.75.75 0 01.143 1.052l-8 10.5a.75.75 0 01-1.127.075l-4.5-4.5a.75.75 0 011.06-1.06l3.894 3.893 7.48-9.817a.75.75 0 011.05-.143z" clip-rule="evenodd"></path></svg>',h,m,g='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"></path></svg>',p,v;return{c(){e=u("div"),t=u("div"),t.innerHTML=l,r=E(),i=u("div"),n=u("button"),n.innerHTML=c,h=E(),m=u("button"),m.innerHTML=g,this.h()},l(_){e=d(_,"DIV",{class:!0});var b=w(e);t=d(b,"DIV",{class:!0,"data-svelte-h":!0}),j(t)!=="svelte-1l0gtox"&&(t.innerHTML=l),r=T(b),i=d(b,"DIV",{class:!0});var y=w(i);n=d(y,"BUTTON",{class:!0,"data-svelte-h":!0}),j(n)!=="svelte-1yl80nf"&&(n.innerHTML=c),h=T(y),m=d(y,"BUTTON",{class:!0,"data-svelte-h":!0}),j(m)!=="svelte-7i2l1r"&&(m.innerHTML=g),y.forEach(f),b.forEach(f),this.h()},h(){o(t,"class","flex items-center space-x-3"),o(n,"class","hover:text-white transition"),o(m,"class","hover:text-white transition"),o(i,"class","flex space-x-1.5 items-center"),o(e,"class","flex justify-between rounded-md items-center py-2 px-3.5 w-full transition")},m(_,b){B(_,e,b),a(e,t),a(e,r),a(e,i),a(i,n),a(i,h),a(i,m),p||(v=[J(n,"click",s[15]),J(m,"click",s[16])],p=!0)},p:Pe,d(_){_&&f(e),p=!1,qe(v)}}}function ds(s){let e,t,l,r='<div class="self-center mr-3"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path d="M2 3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3Z"></path><path fill-rule="evenodd" d="M13 6H3v6a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V6ZM8.75 7.75a.75.75 0 0 0-1.5 0v2.69L6.03 9.22a.75.75 0 0 0-1.06 1.06l2.5 2.5a.75.75 0 0 0 1.06 0l2.5-2.5a.75.75 0 1 0-1.06-1.06l-1.22 1.22V7.75Z" clip-rule="evenodd"></path></svg></div> <div class="self-center text-sm font-medium">Export All Chats (All Users)</div>',i,n,c,h,m='<div class="self-center mr-3"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M3.5 2A1.5 1.5 0 0 0 2 3.5v9A1.5 1.5 0 0 0 3.5 14h9a1.5 1.5 0 0 0 1.5-1.5v-7A1.5 1.5 0 0 0 12.5 4H9.621a1.5 1.5 0 0 1-1.06-.44L7.439 2.44A1.5 1.5 0 0 0 6.38 2H3.5Zm6.75 7.75a.75.75 0 0 0 0-1.5h-4.5a.75.75 0 0 0 0 1.5h4.5Z" clip-rule="evenodd"></path></svg></div> <div class="self-center text-sm font-medium">Reset Vector Storage</div>',g,p;return{c(){e=u("hr"),t=E(),l=u("button"),l.innerHTML=r,i=E(),n=u("hr"),c=E(),h=u("button"),h.innerHTML=m,this.h()},l(v){e=d(v,"HR",{class:!0}),t=T(v),l=d(v,"BUTTON",{class:!0,"data-svelte-h":!0}),j(l)!=="svelte-1qd63nu"&&(l.innerHTML=r),i=T(v),n=d(v,"HR",{class:!0}),c=T(v),h=d(v,"BUTTON",{class:!0,"data-svelte-h":!0}),j(h)!=="svelte-1v9vp97"&&(h.innerHTML=m),this.h()},h(){o(e,"class","dark:border-gray-700"),o(l,"class","flex rounded-md py-2 px-3.5 w-full hover:bg-gray-200 dark:hover:bg-gray-800 transition"),o(n,"class","dark:border-gray-700"),o(h,"class","flex rounded-md py-2 px-3.5 w-full hover:bg-gray-200 dark:hover:bg-gray-800 transition")},m(v,_){B(v,e,_),B(v,t,_),B(v,l,_),B(v,i,_),B(v,n,_),B(v,c,_),B(v,h,_),g||(p=[J(l,"click",s[18]),J(h,"click",s[19])],g=!0)},p:Pe,d(v){v&&(f(e),f(t),f(l),f(i),f(n),f(c),f(h)),g=!1,qe(p)}}}function Ua(s){var Q;let e,t,l,r,i,n="Chat History",c,h,m,g,p="This setting does not sync across browsers or devices.",v,_,b,y,x,C,I,k='<div class="self-center mr-3"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M4 2a1.5 1.5 0 0 0-1.5 1.5v9A1.5 1.5 0 0 0 4 14h8a1.5 1.5 0 0 0 1.5-1.5V6.621a1.5 1.5 0 0 0-.44-1.06L9.94 2.439A1.5 1.5 0 0 0 8.878 2H4Zm4 9.5a.75.75 0 0 1-.75-.75V8.06l-.72.72a.75.75 0 0 1-1.06-1.06l2-2a.75.75 0 0 1 1.06 0l2 2a.75.75 0 1 1-1.06 1.06l-.72-.72v2.69a.75.75 0 0 1-.75.75Z" clip-rule="evenodd"></path></svg></div> <div class="self-center text-sm font-medium">Import Chats</div>',O,A,P='<div class="self-center mr-3"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M4 2a1.5 1.5 0 0 0-1.5 1.5v9A1.5 1.5 0 0 0 4 14h8a1.5 1.5 0 0 0 1.5-1.5V6.621a1.5 1.5 0 0 0-.44-1.06L9.94 2.439A1.5 1.5 0 0 0 8.878 2H4Zm4 3.5a.75.75 0 0 1 .75.75v2.69l.72-.72a.75.75 0 1 1 1.06 1.06l-2 2a.75.75 0 0 1-1.06 0l-2-2a.75.75 0 0 1 1.06-1.06l.72.72V6.25A.75.75 0 0 1 8 5.5Z" clip-rule="evenodd"></path></svg></div> <div class="self-center text-sm font-medium">Export Chats</div>',U,R,S,V,M,z;function q(G,K){return G[1]===!0?Ba:Ha}let H=q(s),D=H(s);function L(G,K){return G[2]?Pa:Na}let F=L(s),Z=F(s),W=((Q=s[4])==null?void 0:Q.role)==="admin"&&ds(s);return{c(){e=u("div"),t=u("div"),l=u("div"),r=u("div"),i=u("div"),i.textContent=n,c=E(),h=u("button"),D.c(),m=E(),g=u("div"),g.textContent=p,v=E(),_=u("hr"),b=E(),y=u("div"),x=u("input"),C=E(),I=u("button"),I.innerHTML=k,O=E(),A=u("button"),A.innerHTML=P,U=E(),R=u("hr"),S=E(),Z.c(),V=E(),W&&W.c(),this.h()},l(G){e=d(G,"DIV",{class:!0});var K=w(e);t=d(K,"DIV",{class:!0});var N=w(t);l=d(N,"DIV",{class:!0});var X=w(l);r=d(X,"DIV",{class:!0});var Y=w(r);i=d(Y,"DIV",{class:!0,"data-svelte-h":!0}),j(i)!=="svelte-o25mcc"&&(i.textContent=n),c=T(Y),h=d(Y,"BUTTON",{class:!0,type:!0});var ee=w(h);D.l(ee),ee.forEach(f),Y.forEach(f),m=T(X),g=d(X,"DIV",{class:!0,"data-svelte-h":!0}),j(g)!=="svelte-gmdy2e"&&(g.textContent=p),X.forEach(f),v=T(N),_=d(N,"HR",{class:!0}),b=T(N),y=d(N,"DIV",{class:!0});var $=w(y);x=d($,"INPUT",{id:!0,type:!0,accept:!0}),C=T($),I=d($,"BUTTON",{class:!0,"data-svelte-h":!0}),j(I)!=="svelte-9mcypd"&&(I.innerHTML=k),O=T($),A=d($,"BUTTON",{class:!0,"data-svelte-h":!0}),j(A)!=="svelte-ki8nm3"&&(A.innerHTML=P),$.forEach(f),U=T(N),R=d(N,"HR",{class:!0}),S=T(N),Z.l(N),V=T(N),W&&W.l(N),N.forEach(f),K.forEach(f),this.h()},h(){o(i,"class","self-center text-sm font-medium"),o(h,"class","p-1 px-3 text-xs flex rounded transition"),o(h,"type","button"),o(r,"class","flex w-full justify-between"),o(g,"class","text-xs text-left w-full font-medium mt-0.5"),o(l,"class","flex flex-col justify-between rounded-md items-center py-2 px-3.5 w-full transition"),o(_,"class","dark:border-gray-700"),o(x,"id","chat-import-input"),o(x,"type","file"),o(x,"accept",".json"),x.hidden=!0,o(I,"class","flex rounded-md py-2 px-3.5 w-full hover:bg-gray-200 dark:hover:bg-gray-800 transition"),o(A,"class","flex rounded-md py-2 px-3.5 w-full hover:bg-gray-200 dark:hover:bg-gray-800 transition"),o(y,"class","flex flex-col"),o(R,"class","dark:border-gray-700"),o(t,"class","space-y-2"),o(e,"class","flex flex-col h-full justify-between space-y-3 text-sm")},m(G,K){B(G,e,K),a(e,t),a(t,l),a(l,r),a(r,i),a(r,c),a(r,h),D.m(h,null),a(l,m),a(l,g),a(t,v),a(t,_),a(t,b),a(t,y),a(y,x),s[11](x),a(y,C),a(y,I),a(y,O),a(y,A),a(t,U),a(t,R),a(t,S),Z.m(t,null),a(t,V),W&&W.m(t,null),M||(z=[J(h,"click",s[10]),J(x,"change",s[12]),J(I,"click",s[13]),J(A,"click",s[14])],M=!0)},p(G,[K]){var N;H!==(H=q(G))&&(D.d(1),D=H(G),D&&(D.c(),D.m(h,null))),F===(F=L(G))&&Z?Z.p(G,K):(Z.d(1),Z=F(G),Z&&(Z.c(),Z.m(t,V))),((N=G[4])==null?void 0:N.role)==="admin"?W?W.p(G,K):(W=ds(G),W.c(),W.m(t,null)):W&&(W.d(1),W=null)},i:Pe,o:Pe,d(G){G&&f(e),D.d(),s[11](null),Z.d(),W&&W.d(),M=!1,qe(z)}}}function ja(s,e,t){let l;Ye(s,wt,S=>t(4,l=S));const{saveAs:r}=Js;let{saveSettings:i}=e,n=!0,c,h=!1,m;const g=async S=>{for(const V of S)console.log(V),V.chat?await wl(localStorage.token,V.chat):await wl(localStorage.token,V);await yt.set(await It(localStorage.token))},p=async()=>{let S=new Blob([JSON.stringify(await Er(localStorage.token))],{type:"application/json"});r(S,`chat-export-${Date.now()}.json`)},v=async()=>{let S=new Blob([JSON.stringify(await Tr(localStorage.token))],{type:"application/json"});r(S,`all-chats-export-${Date.now()}.json`)},_=async()=>{await Et("/"),await Dr(localStorage.token).catch(S=>{Me.error(S)}),await yt.set(await It(localStorage.token))},b=async()=>{t(1,n=!n),console.log(n),n===!1&&await Et("/"),i({saveChatHistory:n})};dt(async()=>{let S=JSON.parse(localStorage.getItem("settings")??"{}");t(1,n=S.saveChatHistory??!0)});const y=()=>{b()};function x(S){pt[S?"unshift":"push"](()=>{m=S,t(3,m)})}function C(){c=this.files,t(0,c)}const I=()=>{m.click()},k=()=>{p()},O=()=>{_(),t(2,h=!1)},A=()=>{t(2,h=!1)},P=()=>{t(2,h=!0)},U=()=>{v()},R=()=>{sn(localStorage.token).catch(V=>(Me.error(V),null))&&Me.success("Success")};return s.$$set=S=>{"saveSettings"in S&&t(9,i=S.saveSettings)},s.$$.update=()=>{if(s.$$.dirty&1&&c){console.log(c);let S=new FileReader;S.onload=V=>{let M=JSON.parse(V.target.result);if(console.log(M),Fr(M)=="openai")try{M=Wr(M)}catch(z){console.log("Unable to import chats:",z)}g(M)},c.length>0&&S.readAsText(c[0])}},[c,n,h,m,l,p,v,_,b,i,y,x,C,I,k,O,A,P,U,R]}class za extends ot{constructor(e){super(),it(this,e,ja,Ua,at,{saveSettings:9})}}function fs(s,e,t){const l=s.slice();return l[19]=e[t],l[20]=e,l[21]=t,l}function hs(s,e,t){const l=s.slice();return l[19]=e[t],l[22]=e,l[21]=t,l}function vs(s){let e,t=ze(s[2]),l=[];for(let r=0;r<t.length;r+=1)l[r]=ps(hs(s,t,r));return{c(){e=u("div");for(let r=0;r<l.length;r+=1)l[r].c();this.h()},l(r){e=d(r,"DIV",{class:!0});var i=w(e);for(let n=0;n<l.length;n+=1)l[n].l(i);i.forEach(f),this.h()},h(){o(e,"class","flex flex-col gap-1")},m(r,i){B(r,e,i);for(let n=0;n<l.length;n+=1)l[n]&&l[n].m(e,null)},p(r,i){if(i&6){t=ze(r[2]);let n;for(n=0;n<t.length;n+=1){const c=hs(r,t,n);l[n]?l[n].p(c,i):(l[n]=ps(c),l[n].c(),l[n].m(e,null))}for(;n<l.length;n+=1)l[n].d(1);l.length=t.length}},d(r){r&&f(e),rt(l,r)}}}function Ra(s){let e,t='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path d="M3.75 7.25a.75.75 0 0 0 0 1.5h8.5a.75.75 0 0 0 0-1.5h-8.5Z"></path></svg>',l,r;function i(){return s[12](s[21])}return{c(){e=u("button"),e.innerHTML=t,this.h()},l(n){e=d(n,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),j(e)!=="svelte-q4z88n"&&(e.innerHTML=t),this.h()},h(){o(e,"class","px-1"),o(e,"type","button")},m(n,c){B(n,e,c),l||(r=J(e,"click",i),l=!0)},p(n,c){s=n},d(n){n&&f(e),l=!1,r()}}}function Za(s){let e,t='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path d="M8.75 3.75a.75.75 0 0 0-1.5 0v3.5h-3.5a.75.75 0 0 0 0 1.5h3.5v3.5a.75.75 0 0 0 1.5 0v-3.5h3.5a.75.75 0 0 0 0-1.5h-3.5v-3.5Z"></path></svg>',l,r;return{c(){e=u("button"),e.innerHTML=t,this.h()},l(i){e=d(i,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),j(e)!=="svelte-1k98qnf"&&(e.innerHTML=t),this.h()},h(){o(e,"class","px-1"),o(e,"type","button")},m(i,n){B(i,e,n),l||(r=J(e,"click",s[11]),l=!0)},p:Pe,d(i){i&&f(e),l=!1,r()}}}function ps(s){let e,t,l,r,i,n,c,h,m,g,p,v,_,b=s[19]+"",y,x,C,I,k;function O(){s[9].call(l,s[22],s[21])}function A(){s[10].call(n,s[21])}function P(S,V){return S[21]===0?Za:Ra}let R=P(s)(s);return{c(){e=u("div"),t=u("div"),l=u("input"),r=E(),i=u("div"),n=u("input"),c=E(),h=u("div"),R.c(),m=E(),g=u("div"),p=xe("WebUI will make requests to "),v=u("span"),_=xe("'"),y=xe(b),x=xe("/models'"),C=E(),this.h()},l(S){e=d(S,"DIV",{class:!0});var V=w(e);t=d(V,"DIV",{class:!0});var M=w(t);l=d(M,"INPUT",{class:!0,placeholder:!0,autocomplete:!0}),M.forEach(f),r=T(V),i=d(V,"DIV",{class:!0});var z=w(i);n=d(z,"INPUT",{class:!0,placeholder:!0,autocomplete:!0}),z.forEach(f),c=T(V),h=d(V,"DIV",{class:!0});var q=w(h);R.l(q),q.forEach(f),V.forEach(f),m=T(S),g=d(S,"DIV",{class:!0});var H=w(g);p=ke(H,"WebUI will make requests to "),v=d(H,"SPAN",{class:!0});var D=w(v);_=ke(D,"'"),y=ke(D,b),x=ke(D,"/models'"),D.forEach(f),C=T(H),H.forEach(f),this.h()},h(){o(l,"class","w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),o(l,"placeholder","API Base URL"),o(l,"autocomplete","off"),o(t,"class","flex-1"),o(n,"class","w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),o(n,"placeholder","API Key"),o(n,"autocomplete","off"),o(i,"class","flex-1"),o(h,"class","self-center flex items-center"),o(e,"class","flex w-full gap-2"),o(v,"class","text-gray-200"),o(g,"class","mb-1 text-xs text-gray-400 dark:text-gray-500")},m(S,V){B(S,e,V),a(e,t),a(t,l),re(l,s[19]),a(e,r),a(e,i),a(i,n),re(n,s[1][s[21]]),a(e,c),a(e,h),R.m(h,null),B(S,m,V),B(S,g,V),a(g,p),a(g,v),a(v,_),a(v,y),a(v,x),a(g,C),I||(k=[J(l,"input",O),J(n,"input",A)],I=!0)},p(S,V){s=S,V&4&&l.value!==s[19]&&re(l,s[19]),V&2&&n.value!==s[1][s[21]]&&re(n,s[1][s[21]]),R.p(s,V),V&4&&b!==(b=s[19]+"")&&je(y,b)},d(S){S&&(f(e),f(m),f(g)),R.d(),I=!1,qe(k)}}}function qa(s){let e,t='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path d="M3.75 7.25a.75.75 0 0 0 0 1.5h8.5a.75.75 0 0 0 0-1.5h-8.5Z"></path></svg>',l,r;function i(){return s[15](s[21])}return{c(){e=u("button"),e.innerHTML=t,this.h()},l(n){e=d(n,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),j(e)!=="svelte-tjuou5"&&(e.innerHTML=t),this.h()},h(){o(e,"class","px-1"),o(e,"type","button")},m(n,c){B(n,e,c),l||(r=J(e,"click",i),l=!0)},p(n,c){s=n},d(n){n&&f(e),l=!1,r()}}}function Ga(s){let e,t='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path d="M8.75 3.75a.75.75 0 0 0-1.5 0v3.5h-3.5a.75.75 0 0 0 0 1.5h3.5v3.5a.75.75 0 0 0 1.5 0v-3.5h3.5a.75.75 0 0 0 0-1.5h-3.5v-3.5Z"></path></svg>',l,r;return{c(){e=u("button"),e.innerHTML=t,this.h()},l(i){e=d(i,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),j(e)!=="svelte-1bpufq2"&&(e.innerHTML=t),this.h()},h(){o(e,"class","px-1"),o(e,"type","button")},m(i,n){B(i,e,n),l||(r=J(e,"click",s[14]),l=!0)},p:Pe,d(i){i&&f(e),l=!1,r()}}}function ms(s){let e,t,l,r,i,n,c;function h(){s[13].call(t,s[20],s[21])}function m(v,_){return v[21]===0?Ga:qa}let p=m(s)(s);return{c(){e=u("div"),t=u("input"),l=E(),r=u("div"),p.c(),i=E(),this.h()},l(v){e=d(v,"DIV",{class:!0});var _=w(e);t=d(_,"INPUT",{class:!0,placeholder:!0}),l=T(_),r=d(_,"DIV",{class:!0});var b=w(r);p.l(b),b.forEach(f),i=T(_),_.forEach(f),this.h()},h(){o(t,"class","w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),o(t,"placeholder","Enter URL (e.g. http://localhost:11434)"),o(r,"class","self-center flex items-center"),o(e,"class","flex gap-1.5")},m(v,_){B(v,e,_),a(e,t),re(t,s[19]),a(e,l),a(e,r),p.m(r,null),a(e,i),n||(c=J(t,"input",h),n=!0)},p(v,_){s=v,_&1&&t.value!==s[19]&&re(t,s[19]),p.p(s,_)},d(v){v&&f(e),p.d(),n=!1,c()}}}function Fa(s){let e,t,l,r,i,n,c="OpenAI API",h,m,g=s[3]?"Hide":"Show",p,v,_,b,y,x,C,I="Ollama Base URL",k,O,A,P,U,R,S='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M15.312 11.424a5.5 5.5 0 01-9.201 2.466l-.312-.311h2.433a.75.75 0 000-1.5H3.989a.75.75 0 00-.75.75v4.242a.75.75 0 001.5 0v-2.43l.31.31a7 7 0 0011.712-3.138.75.75 0 00-1.449-.39zm1.23-3.723a.75.75 0 00.219-.53V2.929a.75.75 0 00-1.5 0V5.36l-.31-.31A7 7 0 003.239 8.188a.75.75 0 101.448.389A5.5 5.5 0 0113.89 6.11l.311.31h-2.432a.75.75 0 000 1.5h4.243a.75.75 0 00.53-.219z" clip-rule="evenodd"></path></svg>',V,M,z=`Trouble accessing ChatPilot?
				<a class="text-gray-300 font-medium" href="https://github.com/shibing624/ChatPilot/issues" target="_blank">Click here for help.</a>`,q,H,D='<button class="px-4 py-2 bg-emerald-700 hover:bg-emerald-800 text-gray-100 transition rounded-lg" type="submit">Save</button>',L,F,Z=s[3]&&vs(s),W=ze(s[0]),Q=[];for(let G=0;G<W.length;G+=1)Q[G]=ms(fs(s,W,G));return{c(){e=u("form"),t=u("div"),l=u("div"),r=u("div"),i=u("div"),n=u("div"),n.textContent=c,h=E(),m=u("button"),p=xe(g),v=E(),Z&&Z.c(),_=E(),b=u("hr"),y=E(),x=u("div"),C=u("div"),C.textContent=I,k=E(),O=u("div"),A=u("div");for(let G=0;G<Q.length;G+=1)Q[G].c();P=E(),U=u("div"),R=u("button"),R.innerHTML=S,V=E(),M=u("div"),M.innerHTML=z,q=E(),H=u("div"),H.innerHTML=D,this.h()},l(G){e=d(G,"FORM",{class:!0});var K=w(e);t=d(K,"DIV",{class:!0});var N=w(t);l=d(N,"DIV",{class:!0});var X=w(l);r=d(X,"DIV",{class:!0});var Y=w(r);i=d(Y,"DIV",{class:!0});var ee=w(i);n=d(ee,"DIV",{class:!0,"data-svelte-h":!0}),j(n)!=="svelte-1uilz16"&&(n.textContent=c),h=T(ee),m=d(ee,"BUTTON",{class:!0,type:!0});var $=w(m);p=ke($,g),$.forEach(f),ee.forEach(f),v=T(Y),Z&&Z.l(Y),Y.forEach(f),X.forEach(f),_=T(N),b=d(N,"HR",{class:!0}),y=T(N),x=d(N,"DIV",{});var ne=w(x);C=d(ne,"DIV",{class:!0,"data-svelte-h":!0}),j(C)!=="svelte-1qw0ud1"&&(C.textContent=I),k=T(ne),O=d(ne,"DIV",{class:!0});var te=w(O);A=d(te,"DIV",{class:!0});var ue=w(A);for(let ae=0;ae<Q.length;ae+=1)Q[ae].l(ue);ue.forEach(f),P=T(te),U=d(te,"DIV",{class:!0});var fe=w(U);R=d(fe,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),j(R)!=="svelte-1rngu5f"&&(R.innerHTML=S),fe.forEach(f),te.forEach(f),V=T(ne),M=d(ne,"DIV",{class:!0,"data-svelte-h":!0}),j(M)!=="svelte-1jab03"&&(M.innerHTML=z),ne.forEach(f),N.forEach(f),q=T(K),H=d(K,"DIV",{class:!0,"data-svelte-h":!0}),j(H)!=="svelte-56vqyw"&&(H.innerHTML=D),K.forEach(f),this.h()},h(){o(n,"class","font-medium"),o(m,"class","text-xs font-medium text-gray-500"),o(m,"type","button"),o(i,"class","flex justify-between items-center text-sm"),o(r,"class","mt-2 space-y-2 pr-1.5"),o(l,"class","space-y-3"),o(b,"class","dark:border-gray-700"),o(C,"class","mb-2.5 text-sm font-medium"),o(A,"class","flex-1 flex flex-col gap-2"),o(R,"class","p-2.5 bg-gray-200 hover:bg-gray-300 dark:bg-gray-850 dark:hover:bg-gray-800 rounded-lg transition"),o(R,"type","button"),o(U,"class",""),o(O,"class","flex w-full gap-1.5"),o(M,"class","mt-2 text-xs text-gray-400 dark:text-gray-500"),o(t,"class","pr-1.5 overflow-y-scroll max-h-[20.5rem] space-y-3"),o(H,"class","flex justify-end pt-3 text-sm font-medium"),o(e,"class","flex flex-col h-full justify-between text-sm")},m(G,K){B(G,e,K),a(e,t),a(t,l),a(l,r),a(r,i),a(i,n),a(i,h),a(i,m),a(m,p),a(r,v),Z&&Z.m(r,null),a(t,_),a(t,b),a(t,y),a(t,x),a(x,C),a(x,k),a(x,O),a(O,A);for(let N=0;N<Q.length;N+=1)Q[N]&&Q[N].m(A,null);a(O,P),a(O,U),a(U,R),a(x,V),a(x,M),a(e,q),a(e,H),L||(F=[J(m,"click",s[8]),J(R,"click",s[16]),J(e,"submit",At(s[17]))],L=!0)},p(G,[K]){if(K&8&&g!==(g=G[3]?"Hide":"Show")&&je(p,g),G[3]?Z?Z.p(G,K):(Z=vs(G),Z.c(),Z.m(r,null)):Z&&(Z.d(1),Z=null),K&1){W=ze(G[0]);let N;for(N=0;N<W.length;N+=1){const X=fs(G,W,N);Q[N]?Q[N].p(X,K):(Q[N]=ms(X),Q[N].c(),Q[N].m(A,null))}for(;N<Q.length;N+=1)Q[N].d(1);Q.length=W.length}},i:Pe,o:Pe,d(G){G&&f(e),Z&&Z.d(),rt(Q,G),L=!1,qe(F)}}}function Wa(s,e,t){let l;Ye(s,wt,P=>t(18,l=P));const r=Bt();let{getModels:i}=e,n=[""],c=[""],h=[""],m=!1;const g=async()=>{t(2,h=await br(localStorage.token,h)),t(1,c=await wr(localStorage.token,c)),await vt.set(await i())},p=async()=>{t(0,n=await vr(localStorage.token,n)),await ol(localStorage.token).catch(U=>(Me.error(U),null))&&(Me.success("Server connection verified"),await vt.set(await i()))};dt(async()=>{l.role==="admin"&&(t(0,n=await Ks(localStorage.token)),t(2,h=await gr(localStorage.token)),t(1,c=await _r(localStorage.token)))});const v=()=>{t(3,m=!m)};function _(P,U){P[U]=this.value,t(2,h)}function b(P){c[P]=this.value,t(1,c)}const y=()=>{t(2,h=[...h,""]),t(1,c=[...c,""])},x=P=>{t(2,h=h.filter((U,R)=>P!==R)),t(1,c=c.filter((U,R)=>P!==R))};function C(P,U){P[U]=this.value,t(0,n)}const I=()=>{t(0,n=[...n,""])},k=P=>{t(0,n=n.filter((U,R)=>P!==R))},O=()=>{p()},A=()=>{g(),r("save")};return s.$$set=P=>{"getModels"in P&&t(7,i=P.getModels)},[n,c,h,m,r,g,p,i,v,_,b,y,x,C,I,k,O,A]}class Ja extends ot{constructor(e){super(),it(this,e,Wa,Fa,at,{getModels:7})}}function gs(s,e,t){const l=s.slice();return l[24]=e[t],l}function Ka(s){let e,t="Off";return{c(){e=u("span"),e.textContent=t,this.h()},l(l){e=d(l,"SPAN",{class:!0,"data-svelte-h":!0}),j(e)!=="svelte-1u2ztdm"&&(e.textContent=t),this.h()},h(){o(e,"class","ml-2 self-center")},m(l,r){B(l,e,r)},d(l){l&&f(e)}}}function Ya(s){let e,t="On";return{c(){e=u("span"),e.textContent=t,this.h()},l(l){e=d(l,"SPAN",{class:!0,"data-svelte-h":!0}),j(e)!=="svelte-14y7chk"&&(e.textContent=t),this.h()},h(){o(e,"class","ml-2 self-center")},m(l,r){B(l,e,r)},d(l){l&&f(e)}}}function Qa(s){let e,t="Using default OpenAI API Key";return{c(){e=u("div"),e.textContent=t,this.h()},l(l){e=d(l,"DIV",{class:!0,"data-svelte-h":!0}),j(e)!=="svelte-1uycpxf"&&(e.textContent=t),this.h()},h(){o(e,"class","mb-2.5 text-sm font-medium")},m(l,r){B(l,e,r)},p:Pe,d(l){l&&f(e)}}}function Xa(s){let e,t="AUTOMATIC1111 Base URL",l,r,i,n,c,h,m='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M15.312 11.424a5.5 5.5 0 01-9.201 2.466l-.312-.311h2.433a.75.75 0 000-1.5H3.989a.75.75 0 00-.75.75v4.242a.75.75 0 001.5 0v-2.43l.31.31a7 7 0 0011.712-3.138.75.75 0 00-1.449-.39zm1.23-3.723a.75.75 0 00.219-.53V2.929a.75.75 0 00-1.5 0V5.36l-.31-.31A7 7 0 003.239 8.188a.75.75 0 101.448.389A5.5 5.5 0 0113.89 6.11l.311.31h-2.432a.75.75 0 000 1.5h4.243a.75.75 0 00.53-.219z" clip-rule="evenodd"></path></svg>',g,p,v='Include `--api` flag when running stable-diffusion-webui\n				<a class="text-gray-300 font-medium" href="https://github.com/AUTOMATIC1111/stable-diffusion-webui/discussions/3734" target="_blank">(e.g. `sh webui.sh --api`)</a>',_,b;return{c(){e=u("div"),e.textContent=t,l=E(),r=u("div"),i=u("div"),n=u("input"),c=E(),h=u("button"),h.innerHTML=m,g=E(),p=u("div"),p.innerHTML=v,this.h()},l(y){e=d(y,"DIV",{class:!0,"data-svelte-h":!0}),j(e)!=="svelte-5jr2ye"&&(e.textContent=t),l=T(y),r=d(y,"DIV",{class:!0});var x=w(r);i=d(x,"DIV",{class:!0});var C=w(i);n=d(C,"INPUT",{class:!0,placeholder:!0}),C.forEach(f),c=T(x),h=d(x,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),j(h)!=="svelte-1pszdtm"&&(h.innerHTML=m),x.forEach(f),g=T(y),p=d(y,"DIV",{class:!0,"data-svelte-h":!0}),j(p)!=="svelte-1766k05"&&(p.innerHTML=v),this.h()},h(){o(e,"class","mb-2.5 text-sm font-medium"),o(n,"class","w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),o(n,"placeholder","Enter URL (e.g. http://127.0.0.1:7860/)"),o(i,"class","flex-1 mr-2"),o(h,"class","px-3 bg-gray-200 hover:bg-gray-300 dark:bg-gray-600 dark:hover:bg-gray-700 rounded-lg transition"),o(h,"type","button"),o(r,"class","flex w-full"),o(p,"class","mt-2 text-xs text-gray-400 dark:text-gray-500")},m(y,x){B(y,e,x),B(y,l,x),B(y,r,x),a(r,i),a(i,n),re(n,s[3]),a(r,c),a(r,h),B(y,g,x),B(y,p,x),_||(b=[J(n,"input",s[16]),J(h,"click",s[17])],_=!0)},p(y,x){x&8&&n.value!==y[3]&&re(n,y[3])},d(y){y&&(f(e),f(l),f(r),f(g),f(p)),_=!1,qe(b)}}}function _s(s){let e,t,l,r,i="Set Default Model",n,c,h,m,g,p,v,_,b="Set Image Size",y,x,C,I,k,O,A,P="Set Steps",U,R,S,V,M,z,q=!s[5]&&bs(),H=ze(s[6]??[]),D=[];for(let L=0;L<H.length;L+=1)D[L]=ws(gs(s,H,L));return{c(){e=u("hr"),t=E(),l=u("div"),r=u("div"),r.textContent=i,n=E(),c=u("div"),h=u("div"),m=u("select"),q&&q.c(),g=st();for(let L=0;L<D.length;L+=1)D[L].c();p=E(),v=u("div"),_=u("div"),_.textContent=b,y=E(),x=u("div"),C=u("div"),I=u("input"),k=E(),O=u("div"),A=u("div"),A.textContent=P,U=E(),R=u("div"),S=u("div"),V=u("input"),this.h()},l(L){e=d(L,"HR",{class:!0}),t=T(L),l=d(L,"DIV",{});var F=w(l);r=d(F,"DIV",{class:!0,"data-svelte-h":!0}),j(r)!=="svelte-1an7ol3"&&(r.textContent=i),n=T(F),c=d(F,"DIV",{class:!0});var Z=w(c);h=d(Z,"DIV",{class:!0});var W=w(h);m=d(W,"SELECT",{class:!0,placeholder:!0});var Q=w(m);q&&q.l(Q),g=st();for(let $=0;$<D.length;$+=1)D[$].l(Q);Q.forEach(f),W.forEach(f),Z.forEach(f),F.forEach(f),p=T(L),v=d(L,"DIV",{});var G=w(v);_=d(G,"DIV",{class:!0,"data-svelte-h":!0}),j(_)!=="svelte-1cj1un7"&&(_.textContent=b),y=T(G),x=d(G,"DIV",{class:!0});var K=w(x);C=d(K,"DIV",{class:!0});var N=w(C);I=d(N,"INPUT",{class:!0,placeholder:!0}),N.forEach(f),K.forEach(f),G.forEach(f),k=T(L),O=d(L,"DIV",{});var X=w(O);A=d(X,"DIV",{class:!0,"data-svelte-h":!0}),j(A)!=="svelte-8mnd18"&&(A.textContent=P),U=T(X),R=d(X,"DIV",{class:!0});var Y=w(R);S=d(Y,"DIV",{class:!0});var ee=w(S);V=d(ee,"INPUT",{class:!0,placeholder:!0}),ee.forEach(f),Y.forEach(f),X.forEach(f),this.h()},h(){o(e,"class","dark:border-gray-700"),o(r,"class","mb-2.5 text-sm font-medium"),o(m,"class","w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),o(m,"placeholder","Select a model"),s[5]===void 0&&mt(()=>s[18].call(m)),o(h,"class","flex-1 mr-2"),o(c,"class","flex w-full"),o(_,"class","mb-2.5 text-sm font-medium"),o(I,"class","w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),o(I,"placeholder","Enter Image Size (e.g. 512x512)"),o(C,"class","flex-1 mr-2"),o(x,"class","flex w-full"),o(A,"class","mb-2.5 text-sm font-medium"),o(V,"class","w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),o(V,"placeholder","Enter Number of Steps (e.g. 50)"),o(S,"class","flex-1 mr-2"),o(R,"class","flex w-full")},m(L,F){B(L,e,F),B(L,t,F),B(L,l,F),a(l,r),a(l,n),a(l,c),a(c,h),a(h,m),q&&q.m(m,null),a(m,g);for(let Z=0;Z<D.length;Z+=1)D[Z]&&D[Z].m(m,null);lt(m,s[5],!0),B(L,p,F),B(L,v,F),a(v,_),a(v,y),a(v,x),a(x,C),a(C,I),re(I,s[7]),B(L,k,F),B(L,O,F),a(O,A),a(O,U),a(O,R),a(R,S),a(S,V),re(V,s[8]),M||(z=[J(m,"change",s[18]),J(I,"input",s[19]),J(V,"input",s[20])],M=!0)},p(L,F){if(L[5]?q&&(q.d(1),q=null):q||(q=bs(),q.c(),q.m(m,g)),F&64){H=ze(L[6]??[]);let Z;for(Z=0;Z<H.length;Z+=1){const W=gs(L,H,Z);D[Z]?D[Z].p(W,F):(D[Z]=ws(W),D[Z].c(),D[Z].m(m,null))}for(;Z<D.length;Z+=1)D[Z].d(1);D.length=H.length}F&96&&lt(m,L[5]),F&128&&I.value!==L[7]&&re(I,L[7]),F&256&&V.value!==L[8]&&re(V,L[8])},d(L){L&&(f(e),f(t),f(l),f(p),f(v),f(k),f(O)),q&&q.d(),rt(D,L),M=!1,qe(z)}}}function bs(s){let e,t="Select a model";return{c(){e=u("option"),e.textContent=t,this.h()},l(l){e=d(l,"OPTION",{"data-svelte-h":!0}),j(e)!=="svelte-1ay6ljx"&&(e.textContent=t),this.h()},h(){e.__value="",re(e,e.__value),e.disabled=!0,e.selected=!0},m(l,r){B(l,e,r)},d(l){l&&f(e)}}}function ws(s){let e,t=s[24].name+"",l,r;return{c(){e=u("option"),l=xe(t),this.h()},l(i){e=d(i,"OPTION",{class:!0});var n=w(e);l=ke(n,t),n.forEach(f),this.h()},h(){e.__value=r=s[24].id,re(e,e.__value),o(e,"class","bg-gray-100 dark:bg-gray-700")},m(i,n){B(i,e,n),a(e,l)},p(i,n){n&64&&t!==(t=i[24].name+"")&&je(l,t),n&64&&r!==(r=i[24].id)&&(e.__value=r,re(e,e.__value))},d(i){i&&f(e)}}}function ys(s){let e,t=`<svg class="w-4 h-4" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><style>.spinner_ajPY {
								transform-origin: center;
								animation: spinner_AtaB 0.75s infinite linear;
							}
							@keyframes spinner_AtaB {
								100% {
									transform: rotate(360deg);
								}
							}
						</style><path d="M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z" opacity=".25"></path><path d="M10.14,1.16a11,11,0,0,0-9,8.92A1.59,1.59,0,0,0,2.46,12,1.52,1.52,0,0,0,4.11,10.7a8,8,0,0,1,6.66-6.61A1.42,1.42,0,0,0,12,2.69h0A1.57,1.57,0,0,0,10.14,1.16Z" class="spinner_ajPY"></path></svg>`;return{c(){e=u("div"),e.innerHTML=t,this.h()},l(l){e=d(l,"DIV",{class:!0,"data-svelte-h":!0}),j(e)!=="svelte-1hiv40m"&&(e.innerHTML=t),this.h()},h(){o(e,"class","ml-2 self-center")},m(l,r){B(l,e,r)},d(l){l&&f(e)}}}function $a(s){let e,t,l,r,i="Image Settings",n,c,h,m="Image Generation Engine",g,p,v,_,b="Default (Automatic1111)",y,x="Open AI (Dall-E)",C,I,k,O,A="Image Generation (Experimental)",P,U,R,S,V,M,z,q,H,D,L,F,Z;function W($,ne){return $[2]===!0?Ya:Ka}let Q=W(s),G=Q(s);function K($,ne){if($[1]==="")return Xa;if($[1]==="openai")return Qa}let N=K(s),X=N&&N(s),Y=s[2]&&_s(s),ee=s[0]&&ys();return{c(){e=u("form"),t=u("div"),l=u("div"),r=u("div"),r.textContent=i,n=E(),c=u("div"),h=u("div"),h.textContent=m,g=E(),p=u("div"),v=u("select"),_=u("option"),_.textContent=b,y=u("option"),y.textContent=x,C=E(),I=u("div"),k=u("div"),O=u("div"),O.textContent=A,P=E(),U=u("button"),G.c(),R=E(),S=u("hr"),V=E(),X&&X.c(),M=E(),Y&&Y.c(),z=E(),q=u("div"),H=u("button"),D=xe(`Save

			`),ee&&ee.c(),this.h()},l($){e=d($,"FORM",{class:!0});var ne=w(e);t=d(ne,"DIV",{class:!0});var te=w(t);l=d(te,"DIV",{});var ue=w(l);r=d(ue,"DIV",{class:!0,"data-svelte-h":!0}),j(r)!=="svelte-clutkv"&&(r.textContent=i),n=T(ue),c=d(ue,"DIV",{class:!0});var fe=w(c);h=d(fe,"DIV",{class:!0,"data-svelte-h":!0}),j(h)!=="svelte-1jfmw1m"&&(h.textContent=m),g=T(fe),p=d(fe,"DIV",{class:!0});var ae=w(p);v=d(ae,"SELECT",{class:!0,placeholder:!0});var be=w(v);_=d(be,"OPTION",{"data-svelte-h":!0}),j(_)!=="svelte-t05krf"&&(_.textContent=b),y=d(be,"OPTION",{"data-svelte-h":!0}),j(y)!=="svelte-122p2km"&&(y.textContent=x),be.forEach(f),ae.forEach(f),fe.forEach(f),C=T(ue),I=d(ue,"DIV",{});var Be=w(I);k=d(Be,"DIV",{class:!0});var we=w(k);O=d(we,"DIV",{class:!0,"data-svelte-h":!0}),j(O)!=="svelte-1hszkoj"&&(O.textContent=A),P=T(we),U=d(we,"BUTTON",{class:!0,type:!0});var Te=w(U);G.l(Te),Te.forEach(f),we.forEach(f),Be.forEach(f),ue.forEach(f),R=T(te),S=d(te,"HR",{class:!0}),V=T(te),X&&X.l(te),M=T(te),Y&&Y.l(te),te.forEach(f),z=T(ne),q=d(ne,"DIV",{class:!0});var Le=w(q);H=d(Le,"BUTTON",{class:!0,type:!0});var He=w(H);D=ke(He,`Save

			`),ee&&ee.l(He),He.forEach(f),Le.forEach(f),ne.forEach(f),this.h()},h(){o(r,"class","mb-1 text-sm font-medium"),o(h,"class","self-center text-xs font-medium"),_.__value="",re(_,_.__value),y.__value="openai",re(y,y.__value),o(v,"class","w-fit pr-8 rounded px-2 p-1 text-xs bg-transparent outline-none text-right"),o(v,"placeholder","Select a mode"),s[1]===void 0&&mt(()=>s[13].call(v)),o(p,"class","flex items-center relative"),o(c,"class","py-0.5 flex w-full justify-between"),o(O,"class","self-center text-xs font-medium"),o(U,"class","p-1 px-3 text-xs flex rounded transition"),o(U,"type","button"),o(k,"class","py-0.5 flex w-full justify-between"),o(S,"class","dark:border-gray-700"),o(t,"class","space-y-3 pr-1.5 overflow-y-scroll max-h-[20.5rem]"),o(H,"class",L="px-4 py-2 bg-emerald-700 hover:bg-emerald-800 text-gray-100 transition rounded-lg flex flex-row space-x-1 items-center "+(s[0]?" cursor-not-allowed":"")),o(H,"type","submit"),H.disabled=s[0],o(q,"class","flex justify-end pt-3 text-sm font-medium"),o(e,"class","flex flex-col h-full justify-between space-y-3 text-sm")},m($,ne){B($,e,ne),a(e,t),a(t,l),a(l,r),a(l,n),a(l,c),a(c,h),a(c,g),a(c,p),a(p,v),a(v,_),a(v,y),lt(v,s[1],!0),a(l,C),a(l,I),a(I,k),a(k,O),a(k,P),a(k,U),G.m(U,null),a(t,R),a(t,S),a(t,V),X&&X.m(t,null),a(t,M),Y&&Y.m(t,null),a(e,z),a(e,q),a(q,H),a(H,D),ee&&ee.m(H,null),F||(Z=[J(v,"change",s[13]),J(v,"change",s[14]),J(U,"click",s[15]),J(e,"submit",At(s[21]))],F=!0)},p($,[ne]){ne&2&&lt(v,$[1]),Q!==(Q=W($))&&(G.d(1),G=Q($),G&&(G.c(),G.m(U,null))),N===(N=K($))&&X?X.p($,ne):(X&&X.d(1),X=N&&N($),X&&(X.c(),X.m(t,M))),$[2]?Y?Y.p($,ne):(Y=_s($),Y.c(),Y.m(t,null)):Y&&(Y.d(1),Y=null),$[0]?ee||(ee=ys(),ee.c(),ee.m(H,null)):ee&&(ee.d(1),ee=null),ne&1&&L!==(L="px-4 py-2 bg-emerald-700 hover:bg-emerald-800 text-gray-100 transition rounded-lg flex flex-row space-x-1 items-center "+($[0]?" cursor-not-allowed":""))&&o(H,"class",L),ne&1&&(H.disabled=$[0])},i:Pe,o:Pe,d($){$&&f(e),G.d(),X&&X.d(),Y&&Y.d(),ee&&ee.d(),F=!1,qe(Z)}}}function eo(s,e,t){let l;Ye(s,wt,M=>t(22,l=M));const r=Bt();let{saveSettings:i}=e,n=!1,c="",h=!1,m="",g="",p="",v=null,_="",b=50;const y=async()=>{t(6,v=await Sr(localStorage.token).catch(M=>(Me.error(M),null))),t(5,p=await Or(localStorage.token).catch(M=>""))},x=async()=>{const M=await Hr(localStorage.token,m).catch(z=>(Me.error(z),null));M?(t(3,m=M),await y(),v&&Me.success("Server connection verified")):t(3,m=await yl(localStorage.token))},C=async()=>{const M=await Br(localStorage.token,c,h).catch(z=>(Me.error(z),null));M&&(t(1,c=M.engine),t(2,h=M.enabled)),h&&(Ot.set(await er()),y())};dt(async()=>{if(l.role==="admin"){const M=await Vr(localStorage.token).catch(z=>(Me.error(z),null));M&&(t(1,c=M.engine),t(2,h=M.enabled)),t(3,m=await yl(localStorage.token)),t(4,g=await Mr(localStorage.token)),t(7,_=await Lr(localStorage.token)),t(8,b=await Ar(localStorage.token)),h&&y()}});function I(){c=gt(this),t(1,c)}const k=async()=>{await C()},O=()=>{c===""&&m===""?(Me.error("AUTOMATIC1111 Base URL is required."),t(2,h=!1)):t(2,h=!h),C()};function A(){m=this.value,t(3,m)}const P=()=>{x()};function U(){p=gt(this),t(5,p),t(6,v)}function R(){_=this.value,t(7,_)}function S(){b=this.value,t(8,b)}const V=async()=>{t(0,n=!0),await Nr(localStorage.token,g),await xl(localStorage.token,p),await xl(localStorage.token,p),await Pr(localStorage.token,_).catch(M=>(Me.error(M),null)),await Ur(localStorage.token,b).catch(M=>(Me.error(M),null)),r("save"),t(0,n=!1)};return s.$$set=M=>{"saveSettings"in M&&t(12,i=M.saveSettings)},[n,c,h,m,g,p,v,_,b,r,x,C,i,I,k,O,A,P,U,R,S,V]}class to extends ot{constructor(e){super(),it(this,e,eo,$a,at,{saveSettings:12})}}function xs(s){let e,t,l='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path d="M1 9.5A3.5 3.5 0 0 0 4.5 13H12a3 3 0 0 0 .917-5.857 2.503 2.503 0 0 0-3.198-3.019 3.5 3.5 0 0 0-6.628 2.171A3.5 3.5 0 0 0 1 9.5Z"></path></svg>',r,i,n="Connections",c,h,m,g,p='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M10 1c3.866 0 7 1.79 7 4s-3.134 4-7 4-7-1.79-7-4 3.134-4 7-4zm5.694 8.13c.464-.264.91-.583 1.306-.952V10c0 2.21-3.134 4-7 4s-7-1.79-7-4V8.178c.396.37.842.688 1.306.953C5.838 10.006 7.854 10.5 10 10.5s4.162-.494 5.694-1.37zM3 13.179V15c0 2.21 3.134 4 7 4s7-1.79 7-4v-1.822c-.396.37-.842.688-1.306.953-1.532.875-3.548 1.369-5.694 1.369s-4.162-.494-5.694-1.37A7.009 7.009 0 013 13.179z" clip-rule="evenodd"></path></svg>',v,_,b="Models",y,x,C;return{c(){e=u("button"),t=u("div"),t.innerHTML=l,r=E(),i=u("div"),i.textContent=n,h=E(),m=u("button"),g=u("div"),g.innerHTML=p,v=E(),_=u("div"),_.textContent=b,this.h()},l(I){e=d(I,"BUTTON",{class:!0});var k=w(e);t=d(k,"DIV",{class:!0,"data-svelte-h":!0}),j(t)!=="svelte-1uuylbv"&&(t.innerHTML=l),r=T(k),i=d(k,"DIV",{class:!0,"data-svelte-h":!0}),j(i)!=="svelte-yucnvi"&&(i.textContent=n),k.forEach(f),h=T(I),m=d(I,"BUTTON",{class:!0});var O=w(m);g=d(O,"DIV",{class:!0,"data-svelte-h":!0}),j(g)!=="svelte-1s8wpdu"&&(g.innerHTML=p),v=T(O),_=d(O,"DIV",{class:!0,"data-svelte-h":!0}),j(_)!=="svelte-1q0mgp9"&&(_.textContent=b),O.forEach(f),this.h()},h(){o(t,"class","self-center mr-2"),o(i,"class","self-center"),o(e,"class",c="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(s[1]==="connections"?"bg-gray-200 dark:bg-gray-700":" hover:bg-gray-300 dark:hover:bg-gray-800")),o(g,"class","self-center mr-2"),o(_,"class","self-center"),o(m,"class",y="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(s[1]==="models"?"bg-gray-200 dark:bg-gray-700":" hover:bg-gray-300 dark:hover:bg-gray-800"))},m(I,k){B(I,e,k),a(e,t),a(e,r),a(e,i),B(I,h,k),B(I,m,k),a(m,g),a(m,v),a(m,_),x||(C=[J(e,"click",s[7]),J(m,"click",s[8])],x=!0)},p(I,k){k&2&&c!==(c="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(I[1]==="connections"?"bg-gray-200 dark:bg-gray-700":" hover:bg-gray-300 dark:hover:bg-gray-800"))&&o(e,"class",c),k&2&&y!==(y="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(I[1]==="models"?"bg-gray-200 dark:bg-gray-700":" hover:bg-gray-300 dark:hover:bg-gray-800"))&&o(m,"class",y)},d(I){I&&(f(e),f(h),f(m)),x=!1,qe(C)}}}function ks(s){let e,t,l='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M2 4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V4Zm10.5 5.707a.5.5 0 0 0-.146-.353l-1-1a.5.5 0 0 0-.708 0L9.354 9.646a.5.5 0 0 1-.708 0L6.354 7.354a.5.5 0 0 0-.708 0l-2 2a.5.5 0 0 0-.146.353V12a.5.5 0 0 0 .5.5h8a.5.5 0 0 0 .5-.5V9.707ZM12 5a1 1 0 1 1-2 0 1 1 0 0 1 2 0Z" clip-rule="evenodd"></path></svg>',r,i,n="Images",c,h,m;return{c(){e=u("button"),t=u("div"),t.innerHTML=l,r=E(),i=u("div"),i.textContent=n,this.h()},l(g){e=d(g,"BUTTON",{class:!0});var p=w(e);t=d(p,"DIV",{class:!0,"data-svelte-h":!0}),j(t)!=="svelte-11xeywu"&&(t.innerHTML=l),r=T(p),i=d(p,"DIV",{class:!0,"data-svelte-h":!0}),j(i)!=="svelte-ticdod"&&(i.textContent=n),p.forEach(f),this.h()},h(){o(t,"class","self-center mr-2"),o(i,"class","self-center"),o(e,"class",c="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(s[1]==="images"?"bg-gray-200 dark:bg-gray-700":" hover:bg-gray-300 dark:hover:bg-gray-800"))},m(g,p){B(g,e,p),a(e,t),a(e,r),a(e,i),h||(m=J(e,"click",s[11]),h=!0)},p(g,p){p&2&&c!==(c="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(g[1]==="images"?"bg-gray-200 dark:bg-gray-700":" hover:bg-gray-300 dark:hover:bg-gray-800"))&&o(e,"class",c)},d(g){g&&f(e),h=!1,m()}}}function lo(s){let e,t;return e=new Mn({}),{c(){Xe(e.$$.fragment)},l(l){$e(e.$$.fragment,l)},m(l,r){et(e,l,r),t=!0},p:Pe,i(l){t||(Ue(e.$$.fragment,l),t=!0)},o(l){Re(e.$$.fragment,l),t=!1},d(l){tt(e,l)}}}function so(s){let e,t;return e=new Tn({props:{saveHandler:s[20]}}),{c(){Xe(e.$$.fragment)},l(l){$e(e.$$.fragment,l)},m(l,r){et(e,l,r),t=!0},p:Pe,i(l){t||(Ue(e.$$.fragment,l),t=!0)},o(l){Re(e.$$.fragment,l),t=!1},d(l){tt(e,l)}}}function ro(s){let e,t;return e=new za({props:{saveSettings:s[3]}}),{c(){Xe(e.$$.fragment)},l(l){$e(e.$$.fragment,l)},m(l,r){et(e,l,r),t=!0},p:Pe,i(l){t||(Ue(e.$$.fragment,l),t=!0)},o(l){Re(e.$$.fragment,l),t=!1},d(l){tt(e,l)}}}function no(s){let e,t;return e=new to({props:{saveSettings:s[3]}}),e.$on("save",s[19]),{c(){Xe(e.$$.fragment)},l(l){$e(e.$$.fragment,l)},m(l,r){et(e,l,r),t=!0},p:Pe,i(l){t||(Ue(e.$$.fragment,l),t=!0)},o(l){Re(e.$$.fragment,l),t=!1},d(l){tt(e,l)}}}function ao(s){let e,t;return e=new Oa({props:{saveSettings:s[3]}}),e.$on("save",s[18]),{c(){Xe(e.$$.fragment)},l(l){$e(e.$$.fragment,l)},m(l,r){et(e,l,r),t=!0},p:Pe,i(l){t||(Ue(e.$$.fragment,l),t=!0)},o(l){Re(e.$$.fragment,l),t=!1},d(l){tt(e,l)}}}function oo(s){let e,t;return e=new ka({props:{saveSettings:s[3]}}),e.$on("save",s[17]),{c(){Xe(e.$$.fragment)},l(l){$e(e.$$.fragment,l)},m(l,r){et(e,l,r),t=!0},p:Pe,i(l){t||(Ue(e.$$.fragment,l),t=!0)},o(l){Re(e.$$.fragment,l),t=!1},d(l){tt(e,l)}}}function io(s){let e,t;return e=new Ja({props:{getModels:s[4]}}),e.$on("save",s[16]),{c(){Xe(e.$$.fragment)},l(l){$e(e.$$.fragment,l)},m(l,r){et(e,l,r),t=!0},p:Pe,i(l){t||(Ue(e.$$.fragment,l),t=!0)},o(l){Re(e.$$.fragment,l),t=!1},d(l){tt(e,l)}}}function co(s){let e,t;return e=new ta({props:{getModels:s[4]}}),{c(){Xe(e.$$.fragment)},l(l){$e(e.$$.fragment,l)},m(l,r){et(e,l,r),t=!0},p:Pe,i(l){t||(Ue(e.$$.fragment,l),t=!0)},o(l){Re(e.$$.fragment,l),t=!1},d(l){tt(e,l)}}}function uo(s){let e,t;return e=new fa({props:{getModels:s[4],saveSettings:s[3]}}),e.$on("save",s[15]),{c(){Xe(e.$$.fragment)},l(l){$e(e.$$.fragment,l)},m(l,r){et(e,l,r),t=!0},p:Pe,i(l){t||(Ue(e.$$.fragment,l),t=!0)},o(l){Re(e.$$.fragment,l),t=!1},d(l){tt(e,l)}}}function fo(s){var _e;let e,t,l,r="Settings",i,n,c='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-5 h-5"><path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"></path></svg>',h,m,g,p,v,_,b,y='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M8.34 1.804A1 1 0 019.32 1h1.36a1 1 0 01.98.804l.295 1.473c.497.144.971.342 1.416.587l1.25-.834a1 1 0 011.262.125l.962.962a1 1 0 01.125 1.262l-.834 1.25c.245.445.443.919.587 1.416l1.473.294a1 1 0 01.804.98v1.361a1 1 0 01-.804.98l-1.473.295a6.95 6.95 0 01-.587 1.416l.834 1.25a1 1 0 01-.125 1.262l-.962.962a1 1 0 01-1.262.125l-1.25-.834a6.953 6.953 0 01-1.416.587l-.294 1.473a1 1 0 01-.98.804H9.32a1 1 0 01-.98-.804l-.295-1.473a6.957 6.957 0 01-1.416-.587l-1.25.834a1 1 0 01-1.262-.125l-.962-.962a1 1 0 01-.125-1.262l.834-1.25a6.957 6.957 0 01-.587-1.416l-1.473-.294A1 1 0 011 10.68V9.32a1 1 0 01.804-.98l1.473-.295c.144-.497.342-.971.587-1.416l-.834-1.25a1 1 0 01.125-1.262l.962-.962A1 1 0 015.38 3.03l1.25.834a6.957 6.957 0 011.416-.587l.294-1.473zM13 10a3 3 0 11-6 0 3 3 0 016 0z" clip-rule="evenodd"></path></svg>',x,C,I="General",k,O,A,P,U,R='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M2 4.25A2.25 2.25 0 0 1 4.25 2h7.5A2.25 2.25 0 0 1 14 4.25v5.5A2.25 2.25 0 0 1 11.75 12h-1.312c.1.128.21.248.328.36a.75.75 0 0 1 .234.545v.345a.75.75 0 0 1-.75.75h-4.5a.75.75 0 0 1-.75-.75v-.345a.75.75 0 0 1 .234-.545c.118-.111.228-.232.328-.36H4.25A2.25 2.25 0 0 1 2 9.75v-5.5Zm2.25-.75a.75.75 0 0 0-.75.75v4.5c0 .414.336.75.75.75h7.5a.75.75 0 0 0 .75-.75v-4.5a.75.75 0 0 0-.75-.75h-7.5Z" clip-rule="evenodd"></path></svg>',S,V,M="Interface",z,q,H,D,L='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path d="M7.557 2.066A.75.75 0 0 1 8 2.75v10.5a.75.75 0 0 1-1.248.56L3.59 11H2a1 1 0 0 1-1-1V6a1 1 0 0 1 1-1h1.59l3.162-2.81a.75.75 0 0 1 .805-.124ZM12.95 3.05a.75.75 0 1 0-1.06 1.06 5.5 5.5 0 0 1 0 7.78.75.75 0 1 0 1.06 1.06 7 7 0 0 0 0-9.9Z"></path><path d="M10.828 5.172a.75.75 0 1 0-1.06 1.06 2.5 2.5 0 0 1 0 3.536.75.75 0 1 0 1.06 1.06 4 4 0 0 0 0-5.656Z"></path></svg>',F,Z,W="Audio",Q,G,K,N,X,Y='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M8 2C4.262 2 1 4.57 1 8c0 1.86.98 3.486 2.455 4.566a3.472 3.472 0 0 1-.469 1.26.75.75 0 0 0 .713 1.14 6.961 6.961 0 0 0 3.06-1.06c.403.062.818.094 1.241.094 3.738 0 7-2.57 7-6s-3.262-6-7-6ZM5 9a1 1 0 1 0 0-2 1 1 0 0 0 0 2Zm7-1a1 1 0 1 1-2 0 1 1 0 0 1 2 0ZM8 9a1 1 0 1 0 0-2 1 1 0 0 0 0 2Z" clip-rule="evenodd"></path></svg>',ee,$,ne="Chats",te,ue,fe,ae,be='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M15 8A7 7 0 1 1 1 8a7 7 0 0 1 14 0Zm-5-2a2 2 0 1 1-4 0 2 2 0 0 1 4 0ZM8 9c-1.825 0-3.422.977-4.295 2.437A5.49 5.49 0 0 0 8 13.5a5.49 5.49 0 0 0 4.294-2.063A4.997 4.997 0 0 0 8 9Z" clip-rule="evenodd"></path></svg>',Be,we,Te="Account",Le,He,Ee,ge,oe='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z" clip-rule="evenodd"></path></svg>',Ae,ve,de="About",Ce,me,ye,Se,Oe,Ve,Qe,Ge,pe=((_e=s[2])==null?void 0:_e.role)==="admin"&&xs(s),he=s[2].role==="admin"&&ks(s);const le=[uo,co,io,oo,ao,no,ro,so,lo],ce=[];function ie(se,Ie){return se[1]==="general"?0:se[1]==="models"?1:se[1]==="connections"?2:se[1]==="interface"?3:se[1]==="audio"?4:se[1]==="images"?5:se[1]==="chats"?6:se[1]==="account"?7:se[1]==="about"?8:-1}return~(Se=ie(s))&&(Oe=ce[Se]=le[Se](s)),{c(){e=u("div"),t=u("div"),l=u("div"),l.textContent=r,i=E(),n=u("button"),n.innerHTML=c,h=E(),m=u("hr"),g=E(),p=u("div"),v=u("div"),_=u("button"),b=u("div"),b.innerHTML=y,x=E(),C=u("div"),C.textContent=I,O=E(),pe&&pe.c(),A=E(),P=u("button"),U=u("div"),U.innerHTML=R,S=E(),V=u("div"),V.textContent=M,q=E(),H=u("button"),D=u("div"),D.innerHTML=L,F=E(),Z=u("div"),Z.textContent=W,G=E(),he&&he.c(),K=E(),N=u("button"),X=u("div"),X.innerHTML=Y,ee=E(),$=u("div"),$.textContent=ne,ue=E(),fe=u("button"),ae=u("div"),ae.innerHTML=be,Be=E(),we=u("div"),we.textContent=Te,He=E(),Ee=u("button"),ge=u("div"),ge.innerHTML=oe,Ae=E(),ve=u("div"),ve.textContent=de,me=E(),ye=u("div"),Oe&&Oe.c(),this.h()},l(se){e=d(se,"DIV",{});var Ie=w(e);t=d(Ie,"DIV",{class:!0});var Ze=w(t);l=d(Ze,"DIV",{class:!0,"data-svelte-h":!0}),j(l)!=="svelte-dx4bdu"&&(l.textContent=r),i=T(Ze),n=d(Ze,"BUTTON",{class:!0,"data-svelte-h":!0}),j(n)!=="svelte-745w2y"&&(n.innerHTML=c),Ze.forEach(f),h=T(Ie),m=d(Ie,"HR",{class:!0}),g=T(Ie),p=d(Ie,"DIV",{class:!0});var De=w(p);v=d(De,"DIV",{class:!0});var Ne=w(v);_=d(Ne,"BUTTON",{class:!0});var Ke=w(_);b=d(Ke,"DIV",{class:!0,"data-svelte-h":!0}),j(b)!=="svelte-qy1dha"&&(b.innerHTML=y),x=T(Ke),C=d(Ke,"DIV",{class:!0,"data-svelte-h":!0}),j(C)!=="svelte-115rgpl"&&(C.textContent=I),Ke.forEach(f),O=T(Ne),pe&&pe.l(Ne),A=T(Ne),P=d(Ne,"BUTTON",{class:!0});var nt=w(P);U=d(nt,"DIV",{class:!0,"data-svelte-h":!0}),j(U)!=="svelte-16cea28"&&(U.innerHTML=R),S=T(nt),V=d(nt,"DIV",{class:!0,"data-svelte-h":!0}),j(V)!=="svelte-1e0rlw4"&&(V.textContent=M),nt.forEach(f),q=T(Ne),H=d(Ne,"BUTTON",{class:!0});var ft=w(H);D=d(ft,"DIV",{class:!0,"data-svelte-h":!0}),j(D)!=="svelte-36jwmy"&&(D.innerHTML=L),F=T(ft),Z=d(ft,"DIV",{class:!0,"data-svelte-h":!0}),j(Z)!=="svelte-c2twnz"&&(Z.textContent=W),ft.forEach(f),G=T(Ne),he&&he.l(Ne),K=T(Ne),N=d(Ne,"BUTTON",{class:!0});var _t=w(N);X=d(_t,"DIV",{class:!0,"data-svelte-h":!0}),j(X)!=="svelte-1gtbwe5"&&(X.innerHTML=Y),ee=T(_t),$=d(_t,"DIV",{class:!0,"data-svelte-h":!0}),j($)!=="svelte-2d7hr4"&&($.textContent=ne),_t.forEach(f),ue=T(Ne),fe=d(Ne,"BUTTON",{class:!0});var ut=w(fe);ae=d(ut,"DIV",{class:!0,"data-svelte-h":!0}),j(ae)!=="svelte-amityv"&&(ae.innerHTML=be),Be=T(ut),we=d(ut,"DIV",{class:!0,"data-svelte-h":!0}),j(we)!=="svelte-f0e2nc"&&(we.textContent=Te),ut.forEach(f),He=T(Ne),Ee=d(Ne,"BUTTON",{class:!0});var ht=w(Ee);ge=d(ht,"DIV",{class:!0,"data-svelte-h":!0}),j(ge)!=="svelte-15t8s7e"&&(ge.innerHTML=oe),Ae=T(ht),ve=d(ht,"DIV",{class:!0,"data-svelte-h":!0}),j(ve)!=="svelte-1nc16iq"&&(ve.textContent=de),ht.forEach(f),Ne.forEach(f),me=T(De),ye=d(De,"DIV",{class:!0});var Ct=w(ye);Oe&&Oe.l(Ct),Ct.forEach(f),De.forEach(f),Ie.forEach(f),this.h()},h(){o(l,"class","text-lg font-medium self-center"),o(n,"class","self-center"),o(t,"class","flex justify-between dark:text-gray-300 px-5 py-4"),o(m,"class","dark:border-gray-800"),o(b,"class","self-center mr-2"),o(C,"class","self-center"),o(_,"class",k="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(s[1]==="general"?"bg-gray-200 dark:bg-gray-700":" hover:bg-gray-300 dark:hover:bg-gray-800")),o(U,"class","self-center mr-2"),o(V,"class","self-center"),o(P,"class",z="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(s[1]==="interface"?"bg-gray-200 dark:bg-gray-700":" hover:bg-gray-300 dark:hover:bg-gray-800")),o(D,"class","self-center mr-2"),o(Z,"class","self-center"),o(H,"class",Q="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(s[1]==="audio"?"bg-gray-200 dark:bg-gray-700":" hover:bg-gray-300 dark:hover:bg-gray-800")),o(X,"class","self-center mr-2"),o($,"class","self-center"),o(N,"class",te="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(s[1]==="chats"?"bg-gray-200 dark:bg-gray-700":" hover:bg-gray-300 dark:hover:bg-gray-800")),o(ae,"class","self-center mr-2"),o(we,"class","self-center"),o(fe,"class",Le="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(s[1]==="account"?"bg-gray-200 dark:bg-gray-700":" hover:bg-gray-300 dark:hover:bg-gray-800")),o(ge,"class","self-center mr-2"),o(ve,"class","self-center"),o(Ee,"class",Ce="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(s[1]==="about"?"bg-gray-200 dark:bg-gray-700":" hover:bg-gray-300 dark:hover:bg-gray-800")),o(v,"class","tabs flex flex-row overflow-x-auto space-x-1 md:space-x-0 md:space-y-1 md:flex-col flex-1 md:flex-none md:w-40 dark:text-gray-200 text-xs text-left mb-3 md:mb-0 svelte-1vx7r9s"),o(ye,"class","flex-1 md:min-h-[380px]"),o(p,"class","flex flex-col md:flex-row w-full p-4 md:space-x-4")},m(se,Ie){B(se,e,Ie),a(e,t),a(t,l),a(t,i),a(t,n),a(e,h),a(e,m),a(e,g),a(e,p),a(p,v),a(v,_),a(_,b),a(_,x),a(_,C),a(v,O),pe&&pe.m(v,null),a(v,A),a(v,P),a(P,U),a(P,S),a(P,V),a(v,q),a(v,H),a(H,D),a(H,F),a(H,Z),a(v,G),he&&he.m(v,null),a(v,K),a(v,N),a(N,X),a(N,ee),a(N,$),a(v,ue),a(v,fe),a(fe,ae),a(fe,Be),a(fe,we),a(v,He),a(v,Ee),a(Ee,ge),a(Ee,Ae),a(Ee,ve),a(p,me),a(p,ye),~Se&&ce[Se].m(ye,null),Ve=!0,Qe||(Ge=[J(n,"click",s[5]),J(_,"click",s[6]),J(P,"click",s[9]),J(H,"click",s[10]),J(N,"click",s[12]),J(fe,"click",s[13]),J(Ee,"click",s[14])],Qe=!0)},p(se,Ie){var De;(!Ve||Ie&2&&k!==(k="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(se[1]==="general"?"bg-gray-200 dark:bg-gray-700":" hover:bg-gray-300 dark:hover:bg-gray-800")))&&o(_,"class",k),((De=se[2])==null?void 0:De.role)==="admin"?pe?pe.p(se,Ie):(pe=xs(se),pe.c(),pe.m(v,A)):pe&&(pe.d(1),pe=null),(!Ve||Ie&2&&z!==(z="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(se[1]==="interface"?"bg-gray-200 dark:bg-gray-700":" hover:bg-gray-300 dark:hover:bg-gray-800")))&&o(P,"class",z),(!Ve||Ie&2&&Q!==(Q="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(se[1]==="audio"?"bg-gray-200 dark:bg-gray-700":" hover:bg-gray-300 dark:hover:bg-gray-800")))&&o(H,"class",Q),se[2].role==="admin"?he?he.p(se,Ie):(he=ks(se),he.c(),he.m(v,K)):he&&(he.d(1),he=null),(!Ve||Ie&2&&te!==(te="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(se[1]==="chats"?"bg-gray-200 dark:bg-gray-700":" hover:bg-gray-300 dark:hover:bg-gray-800")))&&o(N,"class",te),(!Ve||Ie&2&&Le!==(Le="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(se[1]==="account"?"bg-gray-200 dark:bg-gray-700":" hover:bg-gray-300 dark:hover:bg-gray-800")))&&o(fe,"class",Le),(!Ve||Ie&2&&Ce!==(Ce="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(se[1]==="about"?"bg-gray-200 dark:bg-gray-700":" hover:bg-gray-300 dark:hover:bg-gray-800")))&&o(Ee,"class",Ce);let Ze=Se;Se=ie(se),Se===Ze?~Se&&ce[Se].p(se,Ie):(Oe&&(Nt(),Re(ce[Ze],1,1,()=>{ce[Ze]=null}),Pt()),~Se?(Oe=ce[Se],Oe?Oe.p(se,Ie):(Oe=ce[Se]=le[Se](se),Oe.c()),Ue(Oe,1),Oe.m(ye,null)):Oe=null)},i(se){Ve||(Ue(Oe),Ve=!0)},o(se){Re(Oe),Ve=!1},d(se){se&&f(e),pe&&pe.d(),he&&he.d(),~Se&&ce[Se].d(),Qe=!1,qe(Ge)}}}function ho(s){let e,t,l;function r(n){s[21](n)}let i={$$slots:{default:[fo]},$$scope:{ctx:s}};return s[0]!==void 0&&(i.show=s[0]),e=new ul({props:i}),pt.push(()=>Dt(e,"show",r)),{c(){Xe(e.$$.fragment)},l(n){$e(e.$$.fragment,n)},m(n,c){et(e,n,c),l=!0},p(n,[c]){const h={};c&8388615&&(h.$$scope={dirty:c,ctx:n}),!t&&c&1&&(t=!0,h.show=n[0],Tt(()=>t=!1)),e.$set(h)},i(n){l||(Ue(e.$$.fragment,n),l=!0)},o(n){Re(e.$$.fragment,n),l=!1},d(n){tt(e,n)}}}function vo(s,e,t){let l,r;Ye(s,Ht,V=>t(22,l=V)),Ye(s,wt,V=>t(2,r=V));let{show:i=!1}=e;const n=async V=>{console.log(V),await Ht.set({...l,...V}),await vt.set(await h()),localStorage.setItem("settings",JSON.stringify(l))};let c="general";const h=async()=>{let V=await Promise.all([await Ys(localStorage.token).catch(M=>(console.log(M),null)),await Qs(localStorage.token).catch(M=>(console.log(M),null)),await sr(localStorage.token).catch(M=>(console.log(M),null))]);return V=V.filter(M=>M).reduce((M,z,q,H)=>M.concat(z,...q<H.length-1?[{name:"hr"}]:[]),[]),V},m=()=>{t(0,i=!1)},g=()=>{t(1,c="general")},p=()=>{t(1,c="connections")},v=()=>{t(1,c="models")},_=()=>{t(1,c="interface")},b=()=>{t(1,c="audio")},y=()=>{t(1,c="images")},x=()=>{t(1,c="chats")},C=()=>{t(1,c="account")},I=()=>{t(1,c="about")},k=()=>{Me.success("Settings saved successfully!")},O=()=>{Me.success("Settings saved successfully!")},A=()=>{Me.success("Settings saved successfully!")},P=()=>{Me.success("Settings saved successfully!")},U=()=>{Me.success("Settings saved successfully!")},R=()=>{Me.success("Settings saved successfully!")};function S(V){i=V,t(0,i)}return s.$$set=V=>{"show"in V&&t(0,i=V.show)},[i,c,r,n,h,m,g,p,v,_,b,y,x,C,I,k,O,A,P,U,R,S]}class po extends ot{constructor(e){super(),it(this,e,vo,ho,at,{show:0})}}function Cs(s,e,t){const l=s.slice();return l[45]=e[t],l[47]=t,l}function Is(s,e,t){const l=s.slice();return l[48]=e[t],l}function Es(s){let e,t='<a class="flex-grow flex space-x-3 rounded-xl px-3.5 py-2 hover:bg-gray-900 transition" href="/modelfiles"><div class="self-center"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-4 h-4"><path stroke-linecap="round" stroke-linejoin="round" d="M13.5 16.875h3.375m0 0h3.375m-3.375 0V13.5m0 3.375v3.375M6 10.5h2.25a2.25 2.25 0 0 0 2.25-2.25V6a2.25 2.25 0 0 0-2.25-2.25H6A2.25 2.25 0 0 0 3.75 6v2.25A2.25 2.25 0 0 0 6 10.5Zm0 9.75h2.25A2.25 2.25 0 0 0 10.5 18v-2.25a2.25 2.25 0 0 0-2.25-2.25H6a2.25 2.25 0 0 0-2.25 2.25V18A2.25 2.25 0 0 0 6 20.25Zm9.75-9.75H18a2.25 2.25 0 0 0 2.25-2.25V6A2.25 2.25 0 0 0 18 3.75h-2.25A2.25 2.25 0 0 0 13.5 6v2.25a2.25 2.25 0 0 0 2.25 2.25Z"></path></svg></div> <div class="flex self-center"><div class="self-center font-medium text-sm">Modelfiles</div></div></a>',l,r,i='<a class="flex-grow flex space-x-3 rounded-xl px-3.5 py-2 hover:bg-gray-900 transition" href="/prompts"><div class="self-center"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-4 h-4"><path stroke-linecap="round" stroke-linejoin="round" d="m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L6.832 19.82a4.5 4.5 0 0 1-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 0 1 1.13-1.897L16.863 4.487Zm0 0L19.5 7.125"></path></svg></div> <div class="flex self-center"><div class="self-center font-medium text-sm">Prompts</div></div></a>',n,c,h='<a class="flex-grow flex space-x-3 rounded-xl px-3.5 py-2 hover:bg-gray-900 transition" href="/documents"><div class="self-center"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-4 h-4"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></div> <div class="flex self-center"><div class="self-center font-medium text-sm">Documents</div></div></a>';return{c(){e=u("div"),e.innerHTML=t,l=E(),r=u("div"),r.innerHTML=i,n=E(),c=u("div"),c.innerHTML=h,this.h()},l(m){e=d(m,"DIV",{class:!0,"data-svelte-h":!0}),j(e)!=="svelte-4i036s"&&(e.innerHTML=t),l=T(m),r=d(m,"DIV",{class:!0,"data-svelte-h":!0}),j(r)!=="svelte-16kqtns"&&(r.innerHTML=i),n=T(m),c=d(m,"DIV",{class:!0,"data-svelte-h":!0}),j(c)!=="svelte-g9o7iw"&&(c.innerHTML=h),this.h()},h(){o(e,"class","px-2 flex justify-center mt-0.5"),o(r,"class","px-2 flex justify-center"),o(c,"class","px-2 flex justify-center mb-1")},m(m,g){B(m,e,g),B(m,l,g),B(m,r,g),B(m,n,g),B(m,c,g)},d(m){m&&(f(e),f(l),f(r),f(n),f(c))}}}function Ts(s){let e,t,l,r="Chat History is off for this browser.",i,n,c=`When history is turned off, new chats on this browser won&#39;t appear in your history on
							any of your devices. <span class="font-semibold">This setting does not sync across browsers or devices.</span>`,h,m,g,p='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-3 h-3"><path fill-rule="evenodd" d="M8 1a.75.75 0 0 1 .75.75v6.5a.75.75 0 0 1-1.5 0v-6.5A.75.75 0 0 1 8 1ZM4.11 3.05a.75.75 0 0 1 0 1.06 5.5 5.5 0 1 0 7.78 0 .75.75 0 0 1 1.06-1.06 7 7 0 1 1-9.9 0 .75.75 0 0 1 1.06 0Z" clip-rule="evenodd"></path></svg> <div>Enable Chat History</div>',v,_;return{c(){e=u("div"),t=u("div"),l=u("div"),l.textContent=r,i=E(),n=u("div"),n.innerHTML=c,h=E(),m=u("div"),g=u("button"),g.innerHTML=p,this.h()},l(b){e=d(b,"DIV",{class:!0});var y=w(e);t=d(y,"DIV",{class:!0});var x=w(t);l=d(x,"DIV",{class:!0,"data-svelte-h":!0}),j(l)!=="svelte-1yilfmk"&&(l.textContent=r),i=T(x),n=d(x,"DIV",{class:!0,"data-svelte-h":!0}),j(n)!=="svelte-1i6nvzg"&&(n.innerHTML=c),h=T(x),m=d(x,"DIV",{class:!0});var C=w(m);g=d(C,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),j(g)!=="svelte-1jjlsr2"&&(g.innerHTML=p),C.forEach(f),x.forEach(f),y.forEach(f),this.h()},h(){o(l,"class","font-medium"),o(n,"class","text-xs mt-2"),o(g,"class","flex justify-center items-center space-x-1.5 px-3 py-2.5 rounded-lg text-xs bg-gray-200 hover:bg-gray-300 transition text-gray-800 font-medium w-full"),o(g,"type","button"),o(m,"class","mt-3"),o(t,"class","text-left px-5 py-2"),o(e,"class","absolute z-40 w-full h-full bg-black/90 flex justify-center")},m(b,y){B(b,e,y),a(e,t),a(t,l),a(t,i),a(t,n),a(t,h),a(t,m),a(m,g),v||(_=J(g,"click",s[18]),v=!0)},p:Pe,d(b){b&&f(e),v=!1,_()}}}function Ds(s){let e,t,l="all",r,i,n,c=ze(s[11]),h=[];for(let m=0;m<c.length;m+=1)h[m]=Vs(Is(s,c,m));return{c(){e=u("div"),t=u("button"),t.textContent=l,r=E();for(let m=0;m<h.length;m+=1)h[m].c();this.h()},l(m){e=d(m,"DIV",{class:!0});var g=w(e);t=d(g,"BUTTON",{class:!0,"data-svelte-h":!0}),j(t)!=="svelte-55i6gh"&&(t.textContent=l),r=T(g);for(let p=0;p<h.length;p+=1)h[p].l(g);g.forEach(f),this.h()},h(){o(t,"class","px-2.5 text-xs font-medium bg-gray-900 hover:bg-gray-800 transition rounded-full"),o(e,"class","px-2.5 mt-0.5 mb-2 flex gap-1 flex-wrap")},m(m,g){B(m,e,g),a(e,t),a(e,r);for(let p=0;p<h.length;p+=1)h[p]&&h[p].m(e,null);i||(n=J(t,"click",s[21]),i=!0)},p(m,g){if(g[0]&2048){c=ze(m[11]);let p;for(p=0;p<c.length;p+=1){const v=Is(m,c,p);h[p]?h[p].p(v,g):(h[p]=Vs(v),h[p].c(),h[p].m(e,null))}for(;p<h.length;p+=1)h[p].d(1);h.length=c.length}},d(m){m&&f(e),rt(h,m),i=!1,n()}}}function Vs(s){let e,t=s[48].name+"",l,r,i,n;function c(){return s[22](s[48])}return{c(){e=u("button"),l=xe(t),r=E(),this.h()},l(h){e=d(h,"BUTTON",{class:!0});var m=w(e);l=ke(m,t),r=T(m),m.forEach(f),this.h()},h(){o(e,"class","px-2.5 text-xs font-medium bg-gray-900 hover:bg-gray-800 transition rounded-full")},m(h,m){B(h,e,m),a(e,l),a(e,r),i||(n=J(e,"click",c),i=!0)},p(h,m){s=h,m[0]&2048&&t!==(t=s[48].name+"")&&je(l,t)},d(h){h&&f(e),i=!1,n()}}}function mo(s){let e,t,l,r=s[45].title+"",i,n,c,h,m,g;return{c(){e=u("a"),t=u("div"),l=u("div"),i=xe(r),this.h()},l(p){e=d(p,"A",{class:!0,href:!0,draggable:!0});var v=w(e);t=d(v,"DIV",{class:!0});var _=w(t);l=d(_,"DIV",{class:!0});var b=w(l);i=ke(b,r),b.forEach(f),_.forEach(f),v.forEach(f),this.h()},h(){o(l,"class",n="text-left self-center overflow-hidden "+(s[45].id===s[12]?"w-[160px]":"w-full")+" h-[20px]"),o(t,"class","flex self-center flex-1 w-full"),o(e,"class",c="w-full flex justify-between rounded-xl px-3 py-2 hover:bg-gray-900 "+(s[45].id===s[12]?"bg-gray-900":"")+" transition whitespace-nowrap text-ellipsis"),o(e,"href",h="/c/"+s[45].id),o(e,"draggable","false")},m(p,v){B(p,e,v),a(e,t),a(t,l),a(l,i),m||(g=J(e,"click",s[25]),m=!0)},p(p,v){v[0]&1032&&r!==(r=p[45].title+"")&&je(i,r),v[0]&5128&&n!==(n="text-left self-center overflow-hidden "+(p[45].id===p[12]?"w-[160px]":"w-full")+" h-[20px]")&&o(l,"class",n),v[0]&5128&&c!==(c="w-full flex justify-between rounded-xl px-3 py-2 hover:bg-gray-900 "+(p[45].id===p[12]?"bg-gray-900":"")+" transition whitespace-nowrap text-ellipsis")&&o(e,"class",c),v[0]&1032&&h!==(h="/c/"+p[45].id)&&o(e,"href",h)},d(p){p&&f(e),m=!1,g()}}}function go(s){let e,t,l,r,i;return{c(){e=u("div"),t=u("input"),this.h()},l(n){e=d(n,"DIV",{class:!0});var c=w(e);t=d(c,"INPUT",{class:!0}),c.forEach(f),this.h()},h(){o(t,"class","bg-transparent w-full outline-none mr-10"),o(e,"class",l="w-full flex justify-between rounded-xl px-3 py-2 hover:bg-gray-900 "+(s[45].id===s[12]?"bg-gray-900":"")+" transition whitespace-nowrap text-ellipsis")},m(n,c){B(n,e,c),a(e,t),re(t,s[6]),r||(i=J(t,"input",s[24]),r=!0)},p(n,c){c[0]&64&&t.value!==n[6]&&re(t,n[6]),c[0]&5128&&l!==(l="w-full flex justify-between rounded-xl px-3 py-2 hover:bg-gray-900 "+(n[45].id===n[12]?"bg-gray-900":"")+" transition whitespace-nowrap text-ellipsis")&&o(e,"class",l)},d(n){n&&f(e),r=!1,i()}}}function Ms(s){let e;function t(i,n){return i[5]===i[45].id?wo:i[4]===i[45].id?bo:_o}let l=t(s),r=l(s);return{c(){e=u("div"),r.c(),this.h()},l(i){e=d(i,"DIV",{class:!0});var n=w(e);r.l(n),n.forEach(f),this.h()},h(){o(e,"class","absolute right-[22px] top-[10px]")},m(i,n){B(i,e,n),r.m(e,null)},p(i,n){l===(l=t(i))&&r?r.p(i,n):(r.d(1),r=l(i),r&&(r.c(),r.m(e,null)))},d(i){i&&f(e),r.d()}}}function _o(s){let e,t,l,r,i='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-4 h-4"><path stroke-linecap="round" stroke-linejoin="round" d="M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L6.832 19.82a4.5 4.5 0 01-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 011.13-1.897L16.863 4.487zm0 0L19.5 7.125"></path></svg>',n,c,h='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-4 h-4"><path stroke-linecap="round" stroke-linejoin="round" d="M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"></path></svg>',m,g;function p(){return s[30](s[45])}function v(){return s[31](s[45])}function _(){return s[32](s[45])}return{c(){e=u("div"),t=u("button"),l=E(),r=u("button"),r.innerHTML=i,n=E(),c=u("button"),c.innerHTML=h,this.h()},l(b){e=d(b,"DIV",{class:!0});var y=w(e);t=d(y,"BUTTON",{id:!0,class:!0}),w(t).forEach(f),l=T(y),r=d(y,"BUTTON",{class:!0,"data-svelte-h":!0}),j(r)!=="svelte-16dz98b"&&(r.innerHTML=i),n=T(y),c=d(y,"BUTTON",{class:!0,"data-svelte-h":!0}),j(c)!=="svelte-tt1xf4"&&(c.innerHTML=h),y.forEach(f),this.h()},h(){o(t,"id","delete-chat-button"),o(t,"class","hidden"),o(r,"class","self-center hover:text-white transition"),o(c,"class","self-center hover:text-white transition"),o(e,"class","flex self-center space-x-1.5")},m(b,y){B(b,e,y),a(e,t),a(e,l),a(e,r),a(e,n),a(e,c),m||(g=[J(t,"click",p),J(r,"click",v),J(c,"click",_)],m=!0)},p(b,y){s=b},d(b){b&&f(e),m=!1,qe(g)}}}function bo(s){let e,t,l='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M16.704 4.153a.75.75 0 01.143 1.052l-8 10.5a.75.75 0 01-1.127.075l-4.5-4.5a.75.75 0 011.06-1.06l3.894 3.893 7.48-9.817a.75.75 0 011.05-.143z" clip-rule="evenodd"></path></svg>',r,i,n='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"></path></svg>',c,h;function m(){return s[28](s[45])}return{c(){e=u("div"),t=u("button"),t.innerHTML=l,r=E(),i=u("button"),i.innerHTML=n,this.h()},l(g){e=d(g,"DIV",{class:!0});var p=w(e);t=d(p,"BUTTON",{class:!0,"data-svelte-h":!0}),j(t)!=="svelte-1nssieh"&&(t.innerHTML=l),r=T(p),i=d(p,"BUTTON",{class:!0,"data-svelte-h":!0}),j(i)!=="svelte-18m8lql"&&(i.innerHTML=n),p.forEach(f),this.h()},h(){o(t,"class","self-center hover:text-white transition"),o(i,"class","self-center hover:text-white transition"),o(e,"class","flex self-center space-x-1.5")},m(g,p){B(g,e,p),a(e,t),a(e,r),a(e,i),c||(h=[J(t,"click",m),J(i,"click",s[29])],c=!0)},p(g,p){s=g},d(g){g&&f(e),c=!1,qe(h)}}}function wo(s){let e,t,l='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M16.704 4.153a.75.75 0 01.143 1.052l-8 10.5a.75.75 0 01-1.127.075l-4.5-4.5a.75.75 0 011.06-1.06l3.894 3.893 7.48-9.817a.75.75 0 011.05-.143z" clip-rule="evenodd"></path></svg>',r,i,n='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"></path></svg>',c,h;function m(){return s[26](s[45])}return{c(){e=u("div"),t=u("button"),t.innerHTML=l,r=E(),i=u("button"),i.innerHTML=n,this.h()},l(g){e=d(g,"DIV",{class:!0});var p=w(e);t=d(p,"BUTTON",{class:!0,"data-svelte-h":!0}),j(t)!=="svelte-17xmshs"&&(t.innerHTML=l),r=T(p),i=d(p,"BUTTON",{class:!0,"data-svelte-h":!0}),j(i)!=="svelte-14l2ssm"&&(i.innerHTML=n),p.forEach(f),this.h()},h(){o(t,"class","self-center hover:text-white transition"),o(i,"class","self-center hover:text-white transition"),o(e,"class","flex self-center space-x-1.5")},m(g,p){B(g,e,p),a(e,t),a(e,r),a(e,i),c||(h=[J(t,"click",m),J(i,"click",s[27])],c=!0)},p(g,p){s=g},d(g){g&&f(e),c=!1,qe(h)}}}function Ls(s){let e,t,l;function r(h,m){return h[5]===h[45].id?go:mo}let i=r(s),n=i(s),c=s[45].id===s[12]&&Ms(s);return{c(){e=u("div"),n.c(),t=E(),c&&c.c(),l=E(),this.h()},l(h){e=d(h,"DIV",{class:!0});var m=w(e);n.l(m),t=T(m),c&&c.l(m),l=T(m),m.forEach(f),this.h()},h(){o(e,"class","w-full pr-2 relative")},m(h,m){B(h,e,m),n.m(e,null),a(e,t),c&&c.m(e,null),a(e,l)},p(h,m){i===(i=r(h))&&n?n.p(h,m):(n.d(1),n=i(h),n&&(n.c(),n.m(e,t))),h[45].id===h[12]?c?c.p(h,m):(c=Ms(h),c.c(),c.m(e,l)):c&&(c.d(1),c=null)},d(h){h&&f(e),n.d(),c&&c.d()}}}function As(s){let e,t,l,r,i,n,c=s[0].name+"",h,m,g,p,v,_,b,y,x,C=s[7]&&Ss(s);return{c(){e=u("button"),t=u("div"),l=u("img"),i=E(),n=u("div"),h=xe(c),m=E(),g=u("div"),p=xe("Quota: "),v=xe(s[8]),_=E(),C&&C.c(),b=st(),this.h()},l(I){e=d(I,"BUTTON",{class:!0});var k=w(e);t=d(k,"DIV",{class:!0});var O=w(t);l=d(O,"IMG",{src:!0,class:!0,alt:!0}),O.forEach(f),i=T(k),n=d(k,"DIV",{class:!0});var A=w(n);h=ke(A,c),A.forEach(f),m=T(k),g=d(k,"DIV",{class:!0});var P=w(g);p=ke(P,"Quota: "),v=ke(P,s[8]),P.forEach(f),k.forEach(f),_=T(I),C&&C.l(I),b=st(),this.h()},h(){Zt(l.src,r=s[0].profile_image_url)||o(l,"src",r),o(l,"class","max-w-[30px] object-cover rounded-full"),o(l,"alt","User profile"),o(t,"class","self-center mr-3"),o(n,"class","self-center font-semibold"),o(g,"class","self-center ml-auto"),o(e,"class","flex rounded-xl py-3 px-3.5 w-full hover:bg-gray-900 transition")},m(I,k){B(I,e,k),a(e,t),a(t,l),a(e,i),a(e,n),a(n,h),a(e,m),a(e,g),a(g,p),a(g,v),B(I,_,k),C&&C.m(I,k),B(I,b,k),y||(x=J(e,"click",s[33]),y=!0)},p(I,k){k[0]&1&&!Zt(l.src,r=I[0].profile_image_url)&&o(l,"src",r),k[0]&1&&c!==(c=I[0].name+"")&&je(h,c),k[0]&256&&je(v,I[8]),I[7]?C?(C.p(I,k),k[0]&128&&Ue(C,1)):(C=Ss(I),C.c(),Ue(C,1),C.m(b.parentNode,b)):C&&(C.d(1),C=null)},d(I){I&&(f(e),f(_),f(b)),C&&C.d(I),y=!1,x()}}}function Ss(s){let e,t,l,r,i='<div class="self-center mr-3"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-5 h-5"><path stroke-linecap="round" stroke-linejoin="round" d="m6.75 7.5 3 2.25-3 2.25m4.5 0h3m-9 8.25h13.5A2.25 2.25 0 0 0 21 18V6a2.25 2.25 0 0 0-2.25-2.25H5.25A2.25 2.25 0 0 0 3 6v12a2.25 2.25 0 0 0 2.25 2.25Z"></path></svg></div> <div class="self-center font-medium">Playground</div>',n,c,h='<div class="self-center mr-3"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-5 h-5"><path stroke-linecap="round" stroke-linejoin="round" d="M10.343 3.94c.09-.542.56-.94 1.11-.94h1.093c.55 0 1.02.398 1.11.94l.149.894c.07.424.384.764.78.93.398.164.855.142 1.205-.108l.737-.527a1.125 1.125 0 011.45.12l.773.774c.39.389.44 1.002.12 1.45l-.527.737c-.25.35-.272.806-.107 1.204.165.397.505.71.93.78l.893.15c.543.09.94.56.94 1.109v1.094c0 .55-.397 1.02-.94 1.11l-.893.149c-.425.07-.765.383-.93.78-.165.398-.143.854.107 1.204l.527.738c.32.447.269 1.06-.12 1.45l-.774.773a1.125 1.125 0 01-1.449.12l-.738-.527c-.35-.25-.806-.272-1.203-.107-.397.165-.71.505-.781.929l-.149.894c-.09.542-.56.94-1.11.94h-1.094c-.55 0-1.019-.398-1.11-.94l-.148-.894c-.071-.424-.384-.764-.781-.93-.398-.164-.854-.142-1.204.108l-.738.527c-.447.32-1.06.269-1.45-.12l-.773-.774a1.125 1.125 0 01-.12-1.45l.527-.737c.25-.35.273-.806.108-1.204-.165-.397-.505-.71-.93-.78l-.894-.15c-.542-.09-.94-.56-.94-1.109v-1.094c0-.55.398-1.02.94-1.11l.894-.149c.424-.07.765-.383.93-.78.165-.398.143-.854-.107-1.204l-.527-.738a1.125 1.125 0 01.12-1.45l.773-.773a1.125 1.125 0 011.45-.12l.737.527c.35.25.807.272 1.204.107.397-.165.71-.505.78-.929l.15-.894z"></path><path stroke-linecap="round" stroke-linejoin="round" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path></svg></div> <div class="self-center font-medium">Settings</div>',m,g,p,v,_,b='<div class="self-center mr-3"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-5 h-5"><path fill-rule="evenodd" d="M3 4.25A2.25 2.25 0 015.25 2h5.5A2.25 2.25 0 0113 4.25v2a.75.75 0 01-1.5 0v-2a.75.75 0 00-.75-.75h-5.5a.75.75 0 00-.75.75v11.5c0 .414.336.75.75.75h5.5a.75.75 0 00.75-.75v-2a.75.75 0 011.5 0v2A2.25 2.25 0 0110.75 18h-5.5A2.25 2.25 0 013 15.75V4.25z" clip-rule="evenodd"></path><path fill-rule="evenodd" d="M6 10a.75.75 0 01.75-.75h9.546l-1.048-.943a.75.75 0 111.004-1.114l2.5 2.25a.75.75 0 010 1.114l-2.5 2.25a.75.75 0 11-1.004-1.114l1.048-.943H6.75A.75.75 0 016 10z" clip-rule="evenodd"></path></svg></div> <div class="self-center font-medium">Sign Out</div>',y,x,C,I=s[0].role==="admin"&&Os(s);return{c(){e=u("div"),t=u("div"),I&&I.c(),l=E(),r=u("button"),r.innerHTML=i,n=E(),c=u("button"),c.innerHTML=h,m=E(),g=u("hr"),p=E(),v=u("div"),_=u("button"),_.innerHTML=b,this.h()},l(k){e=d(k,"DIV",{id:!0,class:!0});var O=w(e);t=d(O,"DIV",{class:!0});var A=w(t);I&&I.l(A),l=T(A),r=d(A,"BUTTON",{class:!0,"data-svelte-h":!0}),j(r)!=="svelte-67wdxn"&&(r.innerHTML=i),n=T(A),c=d(A,"BUTTON",{class:!0,"data-svelte-h":!0}),j(c)!=="svelte-1qgf4kj"&&(c.innerHTML=h),A.forEach(f),m=T(O),g=d(O,"HR",{class:!0}),p=T(O),v=d(O,"DIV",{class:!0});var P=w(v);_=d(P,"BUTTON",{class:!0,"data-svelte-h":!0}),j(_)!=="svelte-1bssfs0"&&(_.innerHTML=b),P.forEach(f),O.forEach(f),this.h()},h(){o(r,"class","flex py-2.5 px-3.5 w-full hover:bg-gray-800 transition"),o(c,"class","flex py-2.5 px-3.5 w-full hover:bg-gray-800 transition"),o(t,"class","py-2 w-full"),o(g,"class","border-gray-700 m-0 p-0"),o(_,"class","flex py-2.5 px-3.5 w-full hover:bg-gray-800 transition"),o(v,"class","py-2 w-full"),o(e,"id","dropdownDots"),o(e,"class","absolute z-40 bottom-[70px] 4.5rem rounded-xl shadow w-[240px] bg-gray-900")},m(k,O){B(k,e,O),a(e,t),I&&I.m(t,null),a(t,l),a(t,r),a(t,n),a(t,c),a(e,m),a(e,g),a(e,p),a(e,v),a(v,_),x||(C=[J(r,"click",s[35]),J(c,"click",s[36]),J(_,"click",s[37])],x=!0)},p(k,O){k[0].role==="admin"?I?I.p(k,O):(I=Os(k),I.c(),I.m(t,l)):I&&(I.d(1),I=null)},i(k){k&&(y||mt(()=>{y=dr(e,Jr,{duration:150}),y.start()}))},o:Pe,d(k){k&&f(e),I&&I.d(),x=!1,qe(C)}}}function Os(s){let e,t='<div class="self-center mr-3"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-5 h-5"><path stroke-linecap="round" stroke-linejoin="round" d="M17.982 18.725A7.488 7.488 0 0012 15.75a7.488 7.488 0 00-5.982 2.975m11.963 0a9 9 0 10-11.963 0m11.963 0A8.966 8.966 0 0112 21a8.966 8.966 0 01-5.982-2.275M15 9.75a3 3 0 11-6 0 3 3 0 016 0z"></path></svg></div> <div class="self-center font-medium">Admin Panel</div>',l,r;return{c(){e=u("button"),e.innerHTML=t,this.h()},l(i){e=d(i,"BUTTON",{class:!0,"data-svelte-h":!0}),j(e)!=="svelte-afwvzp"&&(e.innerHTML=t),this.h()},h(){o(e,"class","flex py-2.5 px-3.5 w-full hover:bg-gray-800 transition")},m(i,n){B(i,e,n),l||(r=J(e,"click",s[34]),l=!0)},p:Pe,d(i){i&&f(e),l=!1,r()}}}function yo(s){let e,t,l,r,i,n,c,h,m,g,p;return{c(){e=u("button"),t=u("span"),l=u("div"),r=u("div"),i=u("div"),c=E(),h=u("div"),this.h()},l(v){e=d(v,"BUTTON",{id:!0,class:!0});var _=w(e);t=d(_,"SPAN",{class:!0,"data-state":!0});var b=w(t);l=d(b,"DIV",{class:!0});var y=w(l);r=d(y,"DIV",{class:!0});var x=w(r);i=d(x,"DIV",{class:!0}),w(i).forEach(f),c=T(x),h=d(x,"DIV",{class:!0}),w(h).forEach(f),x.forEach(f),y.forEach(f),b.forEach(f),_.forEach(f),this.h()},h(){o(i,"class",n="h-3 w-1 rounded-full bg-[#0f0f0f] dark:bg-white rotate-0 translate-y-[0.15rem] "+(s[1]?"group-hover:rotate-[15deg]":"group-hover:rotate-[-15deg]")),o(h,"class",m="h-3 w-1 rounded-full bg-[#0f0f0f] dark:bg-white rotate-0 translate-y-[-0.15rem] "+(s[1]?"group-hover:rotate-[-15deg]":"group-hover:rotate-[15deg]")),o(r,"class","flex h-6 w-6 flex-col items-center"),o(l,"class","flex h-[72px] w-8 items-center justify-center opacity-20 group-hover:opacity-100 transition"),o(t,"class",""),o(t,"data-state","closed"),o(e,"id","sidebar-toggle-button"),o(e,"class","group")},m(v,_){B(v,e,_),a(e,t),a(t,l),a(l,r),a(r,i),a(r,c),a(r,h),g||(p=J(e,"click",s[38]),g=!0)},p(v,_){_[0]&2&&n!==(n="h-3 w-1 rounded-full bg-[#0f0f0f] dark:bg-white rotate-0 translate-y-[0.15rem] "+(v[1]?"group-hover:rotate-[15deg]":"group-hover:rotate-[-15deg]"))&&o(i,"class",n),_[0]&2&&m!==(m="h-3 w-1 rounded-full bg-[#0f0f0f] dark:bg-white rotate-0 translate-y-[-0.15rem] "+(v[1]?"group-hover:rotate-[-15deg]":"group-hover:rotate-[15deg]"))&&o(h,"class",m)},d(v){v&&f(e),g=!1,p()}}}function xo(s){var Q;let e,t,l,r,i=`<div class="flex self-center"><div class="self-center mr-1.5"><img src="${Xs}/static/favicon.png" class="w-7 -translate-x-1.5 rounded-full" alt="logo"/></div> <div class="self-center font-medium text-sm">New Chat</div></div> <div class="self-center"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1020 1020" fill="currentColor" class="w-4 h-4"><path d="M935.262724 0H88.737276C39.790922 0 0 39.43879 0 88.385144v610.596974c0 48.594223 39.790922 88.385144 88.737276 88.385145h180.995874l-11.97249 236.632737 378.541953-236.632737h298.960111c48.946355 0 88.737276-39.790922 88.737276-88.385145V88.385144c0-48.946355-39.790922-88.385144-88.737276-88.385144z m-209.870702 454.954608h-156.34663v156.698762h-114.090784v-156.698762H298.607978V341.215956h156.34663V184.869326h114.090784v156.34663h156.34663v113.738652zM156.34663 85.215956h711.30674c39.086657 0 71.130674 31.691884 71.130674 71.130674v469.392022c0 39.43879-32.044017 71.130674-71.130674 71.130674h-268.676754l-243.323246 156.34663 7.042641-156.34663H156.34663c-39.086657 0-71.130674-31.691884-71.130674-71.130674V156.34663c0-39.43879 32.044017-71.130674 71.130674-71.130674z"></path></svg></div>`,n,c,h,m,g,p,v,_='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M9 3.5a5.5 5.5 0 100 11 5.5 5.5 0 000-11zM2 9a7 7 0 1112.452 4.391l3.328 3.329a.75.75 0 11-1.06 1.06l-3.329-3.328A7 7 0 012 9z" clip-rule="evenodd"></path></svg>',b,y,x,C,I,k,O,A,P,U,R,S,V,M,z,q,H=((Q=s[0])==null?void 0:Q.role)==="admin"&&Es(),D=!(s[9].saveChatHistory??!0)&&Ts(s),L=s[11].length>0&&Ds(s),F=ze(s[10].filter(s[23])),Z=[];for(let G=0;G<F.length;G+=1)Z[G]=Ls(Cs(s,F,G));let W=s[0]!==void 0&&As(s);return S=new cl({props:{placement:"right",content:`${s[1]?"Close":"Open"} sidebar`,touch:!1,$$slots:{default:[yo]},$$scope:{ctx:s}}}),{c(){e=u("div"),t=u("div"),l=u("div"),r=u("a"),r.innerHTML=i,n=E(),H&&H.c(),c=E(),h=u("div"),D&&D.c(),m=E(),g=u("div"),p=u("div"),v=u("div"),v.innerHTML=_,b=E(),y=u("input"),x=E(),L&&L.c(),C=E(),I=u("div");for(let G=0;G<Z.length;G+=1)Z[G].c();k=E(),O=u("div"),A=u("div"),W&&W.c(),U=E(),R=u("div"),Xe(S.$$.fragment),this.h()},l(G){e=d(G,"DIV",{class:!0});var K=w(e);t=d(K,"DIV",{class:!0});var N=w(t);l=d(N,"DIV",{class:!0});var X=w(l);r=d(X,"A",{id:!0,class:!0,href:!0,"data-svelte-h":!0}),j(r)!=="svelte-1ru34b1"&&(r.innerHTML=i),X.forEach(f),n=T(N),H&&H.l(N),c=T(N),h=d(N,"DIV",{class:!0});var Y=w(h);D&&D.l(Y),m=T(Y),g=d(Y,"DIV",{class:!0});var ee=w(g);p=d(ee,"DIV",{class:!0,id:!0});var $=w(p);v=d($,"DIV",{class:!0,"data-svelte-h":!0}),j(v)!=="svelte-3funz9"&&(v.innerHTML=_),b=T($),y=d($,"INPUT",{class:!0,placeholder:!0}),$.forEach(f),ee.forEach(f),x=T(Y),L&&L.l(Y),C=T(Y),I=d(Y,"DIV",{class:!0});var ne=w(I);for(let ae=0;ae<Z.length;ae+=1)Z[ae].l(ne);ne.forEach(f),Y.forEach(f),k=T(N),O=d(N,"DIV",{class:!0});var te=w(O);A=d(te,"DIV",{class:!0});var ue=w(A);W&&W.l(ue),ue.forEach(f),te.forEach(f),N.forEach(f),U=T(K),R=d(K,"DIV",{class:!0});var fe=w(R);$e(S.$$.fragment,fe),fe.forEach(f),K.forEach(f),this.h()},h(){o(r,"id","sidebar-new-chat-button"),o(r,"class","flex-grow flex justify-between rounded-xl px-3.5 py-2 hover:bg-gray-900 transition"),o(r,"href","/"),o(l,"class","px-2 flex justify-center space-x-2"),o(v,"class","self-center pl-3 py-2 rounded-l-xl bg-gray-950"),o(y,"class","w-full rounded-r-xl py-1.5 pl-2.5 pr-4 text-sm text-gray-300 bg-gray-950 outline-none"),o(y,"placeholder","Search"),o(p,"class","flex w-full"),o(p,"id","chat-search"),o(g,"class","px-2 mt-1 mb-2 flex justify-center space-x-2"),o(I,"class","pl-2 my-2 flex-1 flex flex-col space-y-1 overflow-y-auto"),o(h,"class","relative flex flex-col flex-1 overflow-y-auto"),o(A,"class","flex flex-col"),o(O,"class","px-2.5"),o(t,"class",P="py-2.5 my-auto flex flex-col justify-between h-screen max-h-[100dvh] w-[260px] "+(s[1]?"":"invisible")),o(R,"class","fixed left-0 top-[50dvh] z-40 -translate-y-1/2 transition-transform translate-x-[255px] md:translate-x-[260px] rotate-0"),o(e,"class",V="h-screen max-h-[100dvh] min-h-screen "+(s[1]?"lg:relative w-[260px]":"-translate-x-[260px] w-[0px]")+" bg-black text-gray-200 shadow-2xl text-sm transition z-40 fixed top-0 left-0")},m(G,K){B(G,e,K),a(e,t),a(t,l),a(l,r),a(t,n),H&&H.m(t,null),a(t,c),a(t,h),D&&D.m(h,null),a(h,m),a(h,g),a(g,p),a(p,v),a(p,b),a(p,y),re(y,s[3]),a(h,x),L&&L.m(h,null),a(h,C),a(h,I);for(let N=0;N<Z.length;N+=1)Z[N]&&Z[N].m(I,null);a(t,k),a(t,O),a(O,A),W&&W.m(A,null),a(e,U),a(e,R),et(S,R,null),s[39](e),M=!0,z||(q=[J(r,"click",s[17]),J(y,"input",s[19]),J(y,"focus",s[20])],z=!0)},p(G,K){var X;if(((X=G[0])==null?void 0:X.role)==="admin"?H||(H=Es(),H.c(),H.m(t,c)):H&&(H.d(1),H=null),G[9].saveChatHistory??!0?D&&(D.d(1),D=null):D?D.p(G,K):(D=Ts(G),D.c(),D.m(h,m)),K[0]&8&&y.value!==G[3]&&re(y,G[3]),G[11].length>0?L?L.p(G,K):(L=Ds(G),L.c(),L.m(h,C)):L&&(L.d(1),L=null),K[0]&54394){F=ze(G[10].filter(G[23]));let Y;for(Y=0;Y<F.length;Y+=1){const ee=Cs(G,F,Y);Z[Y]?Z[Y].p(ee,K):(Z[Y]=Ls(ee),Z[Y].c(),Z[Y].m(I,null))}for(;Y<Z.length;Y+=1)Z[Y].d(1);Z.length=F.length}G[0]!==void 0?W?W.p(G,K):(W=As(G),W.c(),W.m(A,null)):W&&(W.d(1),W=null),(!M||K[0]&2&&P!==(P="py-2.5 my-auto flex flex-col justify-between h-screen max-h-[100dvh] w-[260px] "+(G[1]?"":"invisible")))&&o(t,"class",P);const N={};K[0]&2&&(N.content=`${G[1]?"Close":"Open"} sidebar`),K[0]&2|K[1]&1048576&&(N.$$scope={dirty:K,ctx:G}),S.$set(N),(!M||K[0]&2&&V!==(V="h-screen max-h-[100dvh] min-h-screen "+(G[1]?"lg:relative w-[260px]":"-translate-x-[260px] w-[0px]")+" bg-black text-gray-200 shadow-2xl text-sm transition z-40 fixed top-0 left-0"))&&o(e,"class",V)},i(G){M||(Ue(S.$$.fragment,G),M=!0)},o(G){Re(S.$$.fragment,G),M=!1},d(G){G&&f(e),H&&H.d(),D&&D.d(),L&&L.d(),rt(Z,G),W&&W.d(),tt(S),s[39](null),z=!1,qe(q)}}}function ko(s,e,t){let l,r,i,n,c;Ye(s,Ht,te=>t(9,l=te)),Ye(s,wt,te=>t(0,r=te)),Ye(s,yt,te=>t(10,i=te)),Ye(s,Xt,te=>t(11,n=te)),Ye(s,yr,te=>t(12,c=te));let h=!1,m,g="",p=null,v=null,_="",b=!1,y=null,x;dt(async()=>{C(),x=setInterval(C,3e4),window.innerWidth>1024&&t(1,h=!0),await yt.set(await It(localStorage.token))}),ar(()=>{x&&clearInterval(x)});const C=async()=>{Xr(localStorage.token,r.id).then(te=>{t(8,y=te.quota)})},I=async te=>{const ue=await Promise.all(te.map(async fe=>{const ae=await jr(localStorage.token,fe.id).catch(be=>null);return ae&&(fe.chat=ae.chat),fe}));await yt.set(ue)},k=async(te,ue)=>{ue===""?Me.error("Title cannot be an empty string."):(await zr(localStorage.token,te,{title:ue}),await yt.set(await It(localStorage.token)))},O=async te=>{await Rr(localStorage.token,te).catch(fe=>(Me.error(fe),t(4,p=null),null))&&(Et("/"),await yt.set(await It(localStorage.token)))},A=async te=>{await Ht.set({...l,...te}),localStorage.setItem("settings",JSON.stringify(l)),location.href="/"},P=async()=>{await Et("/");const te=document.getElementById("new-chat-button");setTimeout(()=>{te==null||te.click()},0)},U=()=>{A({saveChatHistory:!0})};function R(){g=this.value,t(3,g)}const S=()=>{I(i)},V=async()=>{await yt.set(await It(localStorage.token))},M=async te=>{let ue=await Zr(localStorage.token,te.name);ue.length===0&&(await Xt.set(await $s(localStorage.token)),ue=await It(localStorage.token)),await yt.set(ue)},z=te=>{if(g==="")return!0;{let ue=te.title.toLowerCase();const fe=g.toLowerCase();let ae=!1;return te.chat&&te.chat.messages&&Array.isArray(te.chat.messages)&&(ae=te.chat.messages.some(be=>be.content&&be.content.toLowerCase().includes(fe))),ue.includes(fe)||ae}};function q(){_=this.value,t(6,_)}const H=()=>{window.innerWidth<1024&&t(1,h=!1)},D=te=>{k(te.id,_),t(5,v=null),t(6,_="")},L=()=>{t(5,v=null),t(6,_="")},F=te=>{O(te.id)},Z=()=>{t(4,p=null)},W=te=>{O(te.id)},Q=te=>{t(6,_=te.title),t(5,v=te.id)},G=te=>{t(4,p=te.id)},K=()=>{t(7,b=!b)},N=()=>{Et("/admin"),t(7,b=!1)},X=()=>{Et("/playground"),t(7,b=!1)},Y=async()=>{await $t.set(!0),t(7,b=!1)},ee=()=>{localStorage.removeItem("token"),location.href="/auth",t(7,b=!1)},$=()=>{t(1,h=!h)};function ne(te){pt[te?"unshift":"push"](()=>{m=te,t(2,m)})}return s.$$.update=()=>{s.$$.dirty[0]&1&&r!==void 0&&C()},[r,h,m,g,p,v,_,b,y,l,i,n,c,I,k,O,A,P,U,R,S,V,M,z,q,H,D,L,F,Z,W,Q,G,K,N,X,Y,ee,$,ne]}class Co extends ot{constructor(e){super(),it(this,e,ko,xo,at,{},null,[-1,-1])}}function Io(s){let e,t,l,r="Keyboard shortcuts",i,n,c='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-5 h-5"><path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"></path></svg>',h,m,g,p,v='<div class="flex flex-col w-full sm:flex-row sm:justify-center sm:space-x-6"><div class="flex flex-col space-y-3 w-full self-start"><div class="w-full flex justify-between items-center"><div class="text-sm">Open new chat</div> <div class="flex space-x-1 text-xs"><div class="h-fit py-1 px-2 flex items-center justify-center rounded border border-black/10 capitalize text-gray-600 dark:border-white/10 dark:text-gray-300">Ctrl/</div> <div class="h-fit py-1 px-2 flex items-center justify-center rounded border border-black/10 capitalize text-gray-600 dark:border-white/10 dark:text-gray-300">Shift</div> <div class="h-fit py-1 px-2 flex items-center justify-center rounded border border-black/10 capitalize text-gray-600 dark:border-white/10 dark:text-gray-300">O</div></div></div> <div class="w-full flex justify-between items-center"><div class="text-sm">Focus chat input</div> <div class="flex space-x-1 text-xs"><div class="h-fit py-1 px-2 flex items-center justify-center rounded border border-black/10 capitalize text-gray-600 dark:border-white/10 dark:text-gray-300">Shift</div> <div class="h-fit py-1 px-2 flex items-center justify-center rounded border border-black/10 capitalize text-gray-600 dark:border-white/10 dark:text-gray-300">Esc</div></div></div> <div class="w-full flex justify-between items-center"><div class="text-sm">Copy last code block</div> <div class="flex space-x-1 text-xs"><div class="h-fit py-1 px-2 flex items-center justify-center rounded border border-black/10 capitalize text-gray-600 dark:border-white/10 dark:text-gray-300">Ctrl/</div> <div class="h-fit py-1 px-2 flex items-center justify-center rounded border border-black/10 capitalize text-gray-600 dark:border-white/10 dark:text-gray-300">Shift</div> <div class="h-fit py-1 px-2 flex items-center justify-center rounded border border-black/10 capitalize text-gray-600 dark:border-white/10 dark:text-gray-300">;</div></div></div> <div class="w-full flex justify-between items-center"><div class="text-sm">Copy last response</div> <div class="flex space-x-1 text-xs"><div class="h-fit py-1 px-2 flex items-center justify-center rounded border border-black/10 capitalize text-gray-600 dark:border-white/10 dark:text-gray-300">Ctrl/</div> <div class="h-fit py-1 px-2 flex items-center justify-center rounded border border-black/10 capitalize text-gray-600 dark:border-white/10 dark:text-gray-300">Shift</div> <div class="h-fit py-1 px-2 flex items-center justify-center rounded border border-black/10 capitalize text-gray-600 dark:border-white/10 dark:text-gray-300">C</div></div></div></div> <div class="flex flex-col space-y-3 w-full self-start"><div class="w-full flex justify-between items-center"><div class="text-sm">Toggle settings</div> <div class="flex space-x-1 text-xs"><div class="h-fit py-1 px-2 flex items-center justify-center rounded border border-black/10 capitalize text-gray-600 dark:border-white/10 dark:text-gray-300">Ctrl/</div> <div class="h-fit py-1 px-2 flex items-center justify-center rounded border border-black/10 capitalize text-gray-600 dark:border-white/10 dark:text-gray-300">.</div></div></div> <div class="w-full flex justify-between items-center"><div class="text-sm">Toggle sidebar</div> <div class="flex space-x-1 text-xs"><div class="h-fit py-1 px-2 flex items-center justify-center rounded border border-black/10 capitalize text-gray-600 dark:border-white/10 dark:text-gray-300">Ctrl/</div> <div class="h-fit py-1 px-2 flex items-center justify-center rounded border border-black/10 capitalize text-gray-600 dark:border-white/10 dark:text-gray-300">Shift</div> <div class="h-fit py-1 px-2 flex items-center justify-center rounded border border-black/10 capitalize text-gray-600 dark:border-white/10 dark:text-gray-300">S</div></div></div> <div class="w-full flex justify-between items-center"><div class="text-sm">Delete chat</div> <div class="flex space-x-1 text-xs"><div class="h-fit py-1 px-2 flex items-center justify-center rounded border border-black/10 capitalize text-gray-600 dark:border-white/10 dark:text-gray-300">Ctrl/</div> <div class="h-fit py-1 px-2 flex items-center justify-center rounded border border-black/10 capitalize text-gray-600 dark:border-white/10 dark:text-gray-300">Shift</div> <div class="h-fit py-1 px-2 flex items-center justify-center rounded border border-black/10 capitalize text-gray-600 dark:border-white/10 dark:text-gray-300"></div></div></div> <div class="w-full flex justify-between items-center"><div class="text-sm">Show shortcuts</div> <div class="flex space-x-1 text-xs"><div class="h-fit py-1 px-2 flex items-center justify-center rounded border border-black/10 capitalize text-gray-600 dark:border-white/10 dark:text-gray-300">Ctrl/</div> <div class="h-fit py-1 px-2 flex items-center justify-center rounded border border-black/10 capitalize text-gray-600 dark:border-white/10 dark:text-gray-300">/</div></div></div></div></div>',_,b;return{c(){e=u("div"),t=u("div"),l=u("div"),l.textContent=r,i=E(),n=u("button"),n.innerHTML=c,h=E(),m=u("hr"),g=E(),p=u("div"),p.innerHTML=v,this.h()},l(y){e=d(y,"DIV",{});var x=w(e);t=d(x,"DIV",{class:!0});var C=w(t);l=d(C,"DIV",{class:!0,"data-svelte-h":!0}),j(l)!=="svelte-1kiv0rh"&&(l.textContent=r),i=T(C),n=d(C,"BUTTON",{class:!0,"data-svelte-h":!0}),j(n)!=="svelte-745w2y"&&(n.innerHTML=c),C.forEach(f),h=T(x),m=d(x,"HR",{class:!0}),g=T(x),p=d(x,"DIV",{class:!0,"data-svelte-h":!0}),j(p)!=="svelte-1qbe2xr"&&(p.innerHTML=v),x.forEach(f),this.h()},h(){o(l,"class","text-lg font-medium self-center"),o(n,"class","self-center"),o(t,"class","flex justify-between dark:text-gray-300 px-5 py-4"),o(m,"class","dark:border-gray-800"),o(p,"class","flex flex-col md:flex-row w-full p-5 md:space-x-4 dark:text-gray-200")},m(y,x){B(y,e,x),a(e,t),a(t,l),a(t,i),a(t,n),a(e,h),a(e,m),a(e,g),a(e,p),_||(b=J(n,"click",s[1]),_=!0)},p:Pe,d(y){y&&f(e),_=!1,b()}}}function Eo(s){let e,t,l;function r(n){s[2](n)}let i={$$slots:{default:[Io]},$$scope:{ctx:s}};return s[0]!==void 0&&(i.show=s[0]),e=new ul({props:i}),pt.push(()=>Dt(e,"show",r)),{c(){Xe(e.$$.fragment)},l(n){$e(e.$$.fragment,n)},m(n,c){et(e,n,c),l=!0},p(n,[c]){const h={};c&9&&(h.$$scope={dirty:c,ctx:n}),!t&&c&1&&(t=!0,h.show=n[0],Tt(()=>t=!1)),e.$set(h)},i(n){l||(Ue(e.$$.fragment,n),l=!0)},o(n){Re(e.$$.fragment,n),l=!1},d(n){tt(e,n)}}}function To(s,e,t){let{show:l=!1}=e;const r=()=>{t(0,l=!1)};function i(n){l=n,t(0,l)}return s.$$set=n=>{"show"in n&&t(0,l=n.show)},[l,r,i]}class Do extends ot{constructor(e){super(),it(this,e,To,Eo,at,{show:0})}}function Hs(s,e,t){const l=s.slice();return l[18]=e[t],l}function Bs(s){let e,t=ze({length:s[6]}),l=[];for(let r=0;r<t.length;r+=1)l[r]=Ns(Hs(s,t,r));return{c(){e=u("div");for(let r=0;r<l.length;r+=1)l[r].c();this.h()},l(r){e=d(r,"DIV",{class:!0});var i=w(e);for(let n=0;n<l.length;n+=1)l[n].l(i);i.forEach(f),this.h()},h(){o(e,"class","confetti-holder svelte-io58ff"),Mt(e,"rounded",s[9]),Mt(e,"cone",s[10]),Mt(e,"no-gravity",s[11])},m(r,i){B(r,e,i);for(let n=0;n<l.length;n+=1)l[n]&&l[n].m(e,null)},p(r,i){if(i&20991){t=ze({length:r[6]});let n;for(n=0;n<t.length;n+=1){const c=Hs(r,t,n);l[n]?l[n].p(c,i):(l[n]=Ns(c),l[n].c(),l[n].m(e,null))}for(;n<l.length;n+=1)l[n].d(1);l.length=t.length}i&512&&Mt(e,"rounded",r[9]),i&1024&&Mt(e,"cone",r[10]),i&2048&&Mt(e,"no-gravity",r[11])},d(r){r&&f(e),rt(l,r)}}}function Ns(s){let e;return{c(){e=u("div"),this.h()},l(t){e=d(t,"DIV",{class:!0,style:!0}),w(e).forEach(f),this.h()},h(){o(e,"class","confetti svelte-io58ff"),Fe(e,"--fall-distance",s[8]),Fe(e,"--size",s[0]+"px"),Fe(e,"--color",s[14]()),Fe(e,"--skew",ct(-45,45)+"deg,"+ct(-45,45)+"deg"),Fe(e,"--rotation-xyz",ct(-10,10)+", "+ct(-10,10)+", "+ct(-10,10)),Fe(e,"--rotation-deg",ct(0,360)+"deg"),Fe(e,"--translate-y-multiplier",ct(s[2][0],s[2][1])),Fe(e,"--translate-x-multiplier",ct(s[1][0],s[1][1])),Fe(e,"--scale",.1*ct(2,10)),Fe(e,"--transition-duration",s[4]?`calc(${s[3]}ms * var(--scale))`:`${s[3]}ms`),Fe(e,"--transition-delay",ct(s[5][0],s[5][1])+"ms"),Fe(e,"--transition-iteration-count",s[4]?"infinite":s[7]),Fe(e,"--x-spread",1-s[12])},m(t,l){B(t,e,l)},p(t,l){l&256&&Fe(e,"--fall-distance",t[8]),l&1&&Fe(e,"--size",t[0]+"px"),l&4&&Fe(e,"--translate-y-multiplier",ct(t[2][0],t[2][1])),l&2&&Fe(e,"--translate-x-multiplier",ct(t[1][0],t[1][1])),l&24&&Fe(e,"--transition-duration",t[4]?`calc(${t[3]}ms * var(--scale))`:`${t[3]}ms`),l&32&&Fe(e,"--transition-delay",ct(t[5][0],t[5][1])+"ms"),l&144&&Fe(e,"--transition-iteration-count",t[4]?"infinite":t[7]),l&4096&&Fe(e,"--x-spread",1-t[12])},d(t){t&&f(e)}}}function Vo(s){let e,t=!s[13]&&Bs(s);return{c(){t&&t.c(),e=st()},l(l){t&&t.l(l),e=st()},m(l,r){t&&t.m(l,r),B(l,e,r)},p(l,[r]){l[13]?t&&(t.d(1),t=null):t?t.p(l,r):(t=Bs(l),t.c(),t.m(e.parentNode,e))},i:Pe,o:Pe,d(l){l&&f(e),t&&t.d(l)}}}function ct(s,e){return Math.random()*(e-s)+s}function Mo(s,e,t){let{size:l=10}=e,{x:r=[-.5,.5]}=e,{y:i=[.25,1]}=e,{duration:n=2e3}=e,{infinite:c=!1}=e,{delay:h=[0,50]}=e,{colorRange:m=[0,360]}=e,{colorArray:g=[]}=e,{amount:p=50}=e,{iterationCount:v=1}=e,{fallDistance:_="100px"}=e,{rounded:b=!1}=e,{cone:y=!1}=e,{noGravity:x=!1}=e,{xSpread:C=.15}=e,{destroyOnComplete:I=!0}=e,k=!1;dt(()=>{!I||c||v=="infinite"||setTimeout(()=>t(13,k=!0),(n+h[1])*v)});function O(){return g.length?g[Math.round(Math.random()*(g.length-1))]:`hsl(${Math.round(ct(m[0],m[1]))}, 75%, 50%)`}return s.$$set=A=>{"size"in A&&t(0,l=A.size),"x"in A&&t(1,r=A.x),"y"in A&&t(2,i=A.y),"duration"in A&&t(3,n=A.duration),"infinite"in A&&t(4,c=A.infinite),"delay"in A&&t(5,h=A.delay),"colorRange"in A&&t(15,m=A.colorRange),"colorArray"in A&&t(16,g=A.colorArray),"amount"in A&&t(6,p=A.amount),"iterationCount"in A&&t(7,v=A.iterationCount),"fallDistance"in A&&t(8,_=A.fallDistance),"rounded"in A&&t(9,b=A.rounded),"cone"in A&&t(10,y=A.cone),"noGravity"in A&&t(11,x=A.noGravity),"xSpread"in A&&t(12,C=A.xSpread),"destroyOnComplete"in A&&t(17,I=A.destroyOnComplete)},[l,r,i,n,c,h,p,v,_,b,y,x,C,k,O,m,g,I]}class Lo extends ot{constructor(e){super(),it(this,e,Mo,Vo,at,{size:0,x:1,y:2,duration:3,infinite:4,delay:5,colorRange:15,colorArray:16,amount:6,iterationCount:7,fallDistance:8,rounded:9,cone:10,noGravity:11,xSpread:12,destroyOnComplete:17})}}function Ps(s,e,t){const l=s.slice();return l[7]=e[t],l}function Us(s,e,t){const l=s.slice();return l[10]=e[t],l}function js(s,e,t){const l=s.slice();return l[13]=e[t],l}function zs(s){let e,t=ze(Object.keys(s[1])),l=[];for(let r=0;r<t.length;r+=1)l[r]=qs(Ps(s,t,r));return{c(){for(let r=0;r<l.length;r+=1)l[r].c();e=st()},l(r){for(let i=0;i<l.length;i+=1)l[i].l(r);e=st()},m(r,i){for(let n=0;n<l.length;n+=1)l[n]&&l[n].m(r,i);B(r,e,i)},p(r,i){if(i&2){t=ze(Object.keys(r[1]));let n;for(n=0;n<t.length;n+=1){const c=Ps(r,t,n);l[n]?l[n].p(c,i):(l[n]=qs(c),l[n].c(),l[n].m(e.parentNode,e))}for(;n<l.length;n+=1)l[n].d(1);l.length=t.length}},d(r){r&&f(e),rt(l,r)}}}function Rs(s){let e,t,l=s[1][s[7]][s[10]][s[13]].title+"",r,i,n,c=s[1][s[7]][s[10]][s[13]].content+"",h;return{c(){e=u("div"),t=u("div"),r=xe(l),i=E(),n=u("div"),h=xe(c),this.h()},l(m){e=d(m,"DIV",{class:!0});var g=w(e);t=d(g,"DIV",{class:!0});var p=w(t);r=ke(p,l),p.forEach(f),i=T(g),n=d(g,"DIV",{class:!0});var v=w(n);h=ke(v,c),v.forEach(f),g.forEach(f),this.h()},h(){o(t,"class","font-semibold uppercase"),o(n,"class","mb-2 mt-1"),o(e,"class","text-sm mb-2")},m(m,g){B(m,e,g),a(e,t),a(t,r),a(e,i),a(e,n),a(n,h)},p(m,g){g&2&&l!==(l=m[1][m[7]][m[10]][m[13]].title+"")&&je(r,l),g&2&&c!==(c=m[1][m[7]][m[10]][m[13]].content+"")&&je(h,c)},d(m){m&&f(e)}}}function Zs(s){let e,t,l=s[10]+"",r,i,n,c,h=ze(Object.keys(s[1][s[7]][s[10]])),m=[];for(let g=0;g<h.length;g+=1)m[g]=Rs(js(s,h,g));return{c(){e=u("div"),t=u("div"),r=xe(l),n=E(),c=u("div");for(let g=0;g<m.length;g+=1)m[g].c();this.h()},l(g){e=d(g,"DIV",{class:!0});var p=w(e);t=d(p,"DIV",{class:!0});var v=w(t);r=ke(v,l),v.forEach(f),n=T(p),c=d(p,"DIV",{class:!0});var _=w(c);for(let b=0;b<m.length;b+=1)m[b].l(_);_.forEach(f),p.forEach(f),this.h()},h(){o(t,"class",i="font-bold uppercase text-xs "+(s[10]==="added"?"text-white bg-blue-600":s[10]==="fixed"?"text-white bg-green-600":s[10]==="changed"?"text-white bg-yellow-600":s[10]==="removed"?"text-white bg-red-600":"")+" w-fit px-3 rounded-full my-2.5"),o(c,"class","my-2.5 px-1.5"),o(e,"class","")},m(g,p){B(g,e,p),a(e,t),a(t,r),a(e,n),a(e,c);for(let v=0;v<m.length;v+=1)m[v]&&m[v].m(c,null)},p(g,p){if(p&2&&l!==(l=g[10]+"")&&je(r,l),p&2&&i!==(i="font-bold uppercase text-xs "+(g[10]==="added"?"text-white bg-blue-600":g[10]==="fixed"?"text-white bg-green-600":g[10]==="changed"?"text-white bg-yellow-600":g[10]==="removed"?"text-white bg-red-600":"")+" w-fit px-3 rounded-full my-2.5")&&o(t,"class",i),p&2){h=ze(Object.keys(g[1][g[7]][g[10]]));let v;for(v=0;v<h.length;v+=1){const _=js(g,h,v);m[v]?m[v].p(_,p):(m[v]=Rs(_),m[v].c(),m[v].m(c,null))}for(;v<m.length;v+=1)m[v].d(1);m.length=h.length}},d(g){g&&f(e),rt(m,g)}}}function qs(s){let e,t,l,r=s[7]+"",i,n,c=s[1][s[7]].date+"",h,m,g,p,v,_=ze(Object.keys(s[1][s[7]]).filter(Gs)),b=[];for(let y=0;y<_.length;y+=1)b[y]=Zs(Us(s,_,y));return{c(){e=u("div"),t=u("div"),l=xe("v"),i=xe(r),n=xe(" - "),h=xe(c),m=E(),g=u("hr"),p=E();for(let y=0;y<b.length;y+=1)b[y].c();v=E(),this.h()},l(y){e=d(y,"DIV",{class:!0});var x=w(e);t=d(x,"DIV",{class:!0});var C=w(t);l=ke(C,"v"),i=ke(C,r),n=ke(C," - "),h=ke(C,c),C.forEach(f),m=T(x),g=d(x,"HR",{class:!0}),p=T(x);for(let I=0;I<b.length;I+=1)b[I].l(x);v=T(x),x.forEach(f),this.h()},h(){o(t,"class","font-bold text-xl mb-1 dark:text-white"),o(g,"class","dark:border-gray-800 my-2"),o(e,"class","mb-3 pr-2")},m(y,x){B(y,e,x),a(e,t),a(t,l),a(t,i),a(t,n),a(t,h),a(e,m),a(e,g),a(e,p);for(let C=0;C<b.length;C+=1)b[C]&&b[C].m(e,null);a(e,v)},p(y,x){if(x&2&&r!==(r=y[7]+"")&&je(i,r),x&2&&c!==(c=y[1][y[7]].date+"")&&je(h,c),x&2){_=ze(Object.keys(y[1][y[7]]).filter(Gs));let C;for(C=0;C<_.length;C+=1){const I=Us(y,_,C);b[C]?b[C].p(I,x):(b[C]=Zs(I),b[C].c(),b[C].m(e,v))}for(;C<b.length;C+=1)b[C].d(1);b.length=_.length}},d(y){y&&f(e),rt(b,y)}}}function Ao(s){let e,t,l,r,i,n,c,h,m,g='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-5 h-5"><path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"></path></svg>',p,v,_,b="Release Notes",y,x,C,I,k,O,A,P,U,R,S,V,M,z,q,H='<span class="relative">Okay, Let&#39;s Go!</span>',D,L,F;c=new Lo({props:{x:[-1,-.25],y:[0,.5]}});let Z=s[1]&&zs(s);return{c(){e=u("div"),t=u("div"),l=u("div"),r=xe("Whats New in "),i=xe(s[2]),n=E(),Xe(c.$$.fragment),h=E(),m=u("button"),m.innerHTML=g,p=E(),v=u("div"),_=u("div"),_.textContent=b,y=E(),x=u("div"),C=E(),I=u("div"),k=xe("v"),O=xe(Lt),A=E(),P=u("hr"),U=E(),R=u("div"),S=u("div"),V=u("div"),Z&&Z.c(),M=E(),z=u("div"),q=u("button"),q.innerHTML=H,this.h()},l(W){e=d(W,"DIV",{class:!0});var Q=w(e);t=d(Q,"DIV",{class:!0});var G=w(t);l=d(G,"DIV",{class:!0});var K=w(l);r=ke(K,"Whats New in "),i=ke(K,s[2]),n=T(K),$e(c.$$.fragment,K),K.forEach(f),h=T(G),m=d(G,"BUTTON",{class:!0,"data-svelte-h":!0}),j(m)!=="svelte-745w2y"&&(m.innerHTML=g),G.forEach(f),p=T(Q),v=d(Q,"DIV",{class:!0});var N=w(v);_=d(N,"DIV",{class:!0,"data-svelte-h":!0}),j(_)!=="svelte-jop83j"&&(_.textContent=b),y=T(N),x=d(N,"DIV",{class:!0}),w(x).forEach(f),C=T(N),I=d(N,"DIV",{class:!0});var X=w(I);k=ke(X,"v"),O=ke(X,Lt),X.forEach(f),N.forEach(f),Q.forEach(f),A=T(W),P=d(W,"HR",{class:!0}),U=T(W),R=d(W,"DIV",{class:!0});var Y=w(R);S=d(Y,"DIV",{class:!0});var ee=w(S);V=d(ee,"DIV",{class:!0});var $=w(V);Z&&Z.l($),$.forEach(f),ee.forEach(f),M=T(Y),z=d(Y,"DIV",{class:!0});var ne=w(z);q=d(ne,"BUTTON",{class:!0,"data-svelte-h":!0}),j(q)!=="svelte-d24sb8"&&(q.innerHTML=H),ne.forEach(f),Y.forEach(f),this.h()},h(){o(l,"class","text-xl font-bold"),o(m,"class","self-center"),o(t,"class","flex justify-between items-start"),o(_,"class","text-sm dark:text-gray-200"),o(x,"class","flex self-center w-[1px] h-6 mx-2.5 bg-gray-200 dark:bg-gray-700"),o(I,"class","text-sm dark:text-gray-200"),o(v,"class","flex items-center mt-1"),o(e,"class","px-5 py-4 dark:text-gray-300"),o(P,"class","dark:border-gray-800"),o(V,"class","mb-3"),o(S,"class","overflow-y-scroll max-h-80"),o(q,"class","px-4 py-2 bg-emerald-600 hover:bg-emerald-700 text-gray-100 transition rounded"),o(z,"class","flex justify-end pt-3 text-sm font-medium"),o(R,"class","w-full p-4 px-5")},m(W,Q){B(W,e,Q),a(e,t),a(t,l),a(l,r),a(l,i),a(l,n),et(c,l,null),a(t,h),a(t,m),a(e,p),a(e,v),a(v,_),a(v,y),a(v,x),a(v,C),a(v,I),a(I,k),a(I,O),B(W,A,Q),B(W,P,Q),B(W,U,Q),B(W,R,Q),a(R,S),a(S,V),Z&&Z.m(V,null),a(R,M),a(R,z),a(z,q),D=!0,L||(F=[J(m,"click",s[4]),J(q,"click",s[5])],L=!0)},p(W,Q){(!D||Q&4)&&je(i,W[2]),W[1]?Z?Z.p(W,Q):(Z=zs(W),Z.c(),Z.m(V,null)):Z&&(Z.d(1),Z=null)},i(W){D||(Ue(c.$$.fragment,W),D=!0)},o(W){Re(c.$$.fragment,W),D=!1},d(W){W&&(f(e),f(A),f(P),f(U),f(R)),tt(c),Z&&Z.d(),L=!1,qe(F)}}}function So(s){let e,t,l;function r(n){s[6](n)}let i={$$slots:{default:[Ao]},$$scope:{ctx:s}};return s[0]!==void 0&&(i.show=s[0]),e=new ul({props:i}),pt.push(()=>Dt(e,"show",r)),{c(){Xe(e.$$.fragment)},l(n){$e(e.$$.fragment,n)},m(n,c){et(e,n,c),l=!0},p(n,[c]){const h={};c&65551&&(h.$$scope={dirty:c,ctx:n}),!t&&c&1&&(t=!0,h.show=n[0],Tt(()=>t=!1)),e.$set(h)},i(n){l||(Ue(e.$$.fragment,n),l=!0)},o(n){Re(e.$$.fragment,n),l=!1},d(n){tt(e,n)}}}const Gs=s=>s!=="date";function Oo(s,e,t){let l,r;Ye(s,il,g=>t(2,l=g)),Ye(s,Ot,g=>t(3,r=g));let{show:i=!1}=e,n=null;dt(async()=>{const g=await en();t(1,n=g)});const c=()=>{t(0,i=!1)},h=()=>{localStorage.version=r.version,t(0,i=!1)};function m(g){i=g,t(0,i)}return s.$$set=g=>{"show"in g&&t(0,i=g.show)},[i,n,l,r,c,h,m]}class Ho extends ot{constructor(e){super(),it(this,e,Oo,So,at,{show:0})}}function Fs(s){let e,t,l,r,i,n,c,h,m,g,p,v,_,b,y,x,C,I,k;t=new cl({props:{content:"help",placement:"left",$$slots:{default:[Bo]},$$scope:{ctx:s}}});function O(D){s[12](D)}let A={};s[4]!==void 0&&(A.show=s[4]),r=new Do({props:A}),pt.push(()=>Dt(r,"show",O));function P(D,L){if(L&32&&(h=null),h==null&&(h=!["user","admin"].includes(D[5].role)),h)return Po;if(D[3].length>0)return No}let U=P(s,-1),R=U&&U(s);p=new Co({});function S(D){s[17](D)}let V={};s[6]!==void 0&&(V.show=s[6]),_=new po({props:V}),pt.push(()=>Dt(_,"show",S));function M(D){s[18](D)}let z={};s[7]!==void 0&&(z.show=s[7]),x=new Ho({props:z}),pt.push(()=>Dt(x,"show",M));const q=s[9].default,H=or(q,s,s[19],null);return{c(){e=u("div"),Xe(t.$$.fragment),l=E(),Xe(r.$$.fragment),n=E(),c=u("div"),R&&R.c(),m=E(),g=u("div"),Xe(p.$$.fragment),v=E(),Xe(_.$$.fragment),y=E(),Xe(x.$$.fragment),I=E(),H&&H.c(),this.h()},l(D){e=d(D,"DIV",{class:!0});var L=w(e);$e(t.$$.fragment,L),L.forEach(f),l=T(D),$e(r.$$.fragment,D),n=T(D),c=d(D,"DIV",{class:!0});var F=w(c);R&&R.l(F),m=T(F),g=d(F,"DIV",{class:!0});var Z=w(g);$e(p.$$.fragment,Z),v=T(Z),$e(_.$$.fragment,Z),y=T(Z),$e(x.$$.fragment,Z),I=T(Z),H&&H.l(Z),Z.forEach(f),F.forEach(f),this.h()},h(){o(e,"class","hidden lg:flex fixed bottom-0 right-0 px-3 py-3 z-10"),o(g,"class","text-gray-700 dark:text-gray-100 bg-white dark:bg-gray-900 min-h-screen overflow-auto flex flex-row"),o(c,"class","app relative")},m(D,L){B(D,e,L),et(t,e,null),B(D,l,L),et(r,D,L),B(D,n,L),B(D,c,L),R&&R.m(c,null),a(c,m),a(c,g),et(p,g,null),a(g,v),et(_,g,null),a(g,y),et(x,g,null),a(g,I),H&&H.m(g,null),k=!0},p(D,L){const F={};L&524306&&(F.$$scope={dirty:L,ctx:D}),t.$set(F);const Z={};!i&&L&16&&(i=!0,Z.show=D[4],Tt(()=>i=!1)),r.$set(Z),U===(U=P(D,L))&&R?R.p(D,L):(R&&R.d(1),R=U&&U(D),R&&(R.c(),R.m(c,m)));const W={};!b&&L&64&&(b=!0,W.show=D[6],Tt(()=>b=!1)),_.$set(W);const Q={};!C&&L&128&&(C=!0,Q.show=D[7],Tt(()=>C=!1)),x.$set(Q),H&&H.p&&(!k||L&524288)&&ir(H,q,D,D[19],k?ur(q,D[19],L,null):cr(D[19]),null)},i(D){k||(Ue(t.$$.fragment,D),Ue(r.$$.fragment,D),Ue(p.$$.fragment,D),Ue(_.$$.fragment,D),Ue(x.$$.fragment,D),Ue(H,D),k=!0)},o(D){Re(t.$$.fragment,D),Re(r.$$.fragment,D),Re(p.$$.fragment,D),Re(_.$$.fragment,D),Re(x.$$.fragment,D),Re(H,D),k=!1},d(D){D&&(f(e),f(l),f(n),f(c)),tt(t),tt(r,D),R&&R.d(),tt(p),tt(_),tt(x),H&&H.d(D)}}}function Bo(s){let e,t="?",l,r;return{c(){e=u("button"),e.textContent=t,this.h()},l(i){e=d(i,"BUTTON",{id:!0,class:!0,"data-svelte-h":!0}),j(e)!=="svelte-1hfyx97"&&(e.textContent=t),this.h()},h(){o(e,"id","show-shortcuts-button"),o(e,"class","text-gray-600 dark:text-gray-300 bg-gray-300/20 w-6 h-6 flex items-center justify-center text-xs rounded-full")},m(i,n){B(i,e,n),s[10](e),l||(r=J(e,"click",s[11]),l=!0)},p:Pe,d(i){i&&f(e),s[10](null),l=!1,r()}}}function No(s){let e,t,l,r,i,n="Important Update<br/> Action Required for Chat Log Storage",c,h,m=`Saving chat logs directly to your browser&#39;s storage is no longer supported. Please
								take a moment to download and delete your chat logs by clicking the button below.
								Don&#39;t worry, you can easily re-import your chat logs to the backend through <span class="font-semibold dark:text-white">Settings &gt; Chats &gt; Import Chats</span>. This ensures that your valuable conversations are securely saved to your backend
								database. Thank you!`,g,p,v,_="Download & Delete",b,y,x="Close",C,I;return{c(){e=u("div"),t=u("div"),l=u("div"),r=u("div"),i=u("div"),i.innerHTML=n,c=E(),h=u("div"),h.innerHTML=m,g=E(),p=u("div"),v=u("button"),v.textContent=_,b=E(),y=u("button"),y.textContent=x,this.h()},l(k){e=d(k,"DIV",{class:!0});var O=w(e);t=d(O,"DIV",{class:!0});var A=w(t);l=d(A,"DIV",{class:!0});var P=w(l);r=d(P,"DIV",{class:!0});var U=w(r);i=d(U,"DIV",{class:!0,"data-svelte-h":!0}),j(i)!=="svelte-7mhb6e"&&(i.innerHTML=n),c=T(U),h=d(U,"DIV",{class:!0,"data-svelte-h":!0}),j(h)!=="svelte-1uwjxvd"&&(h.innerHTML=m),g=T(U),p=d(U,"DIV",{class:!0});var R=w(p);v=d(R,"BUTTON",{class:!0,"data-svelte-h":!0}),j(v)!=="svelte-1rvuhik"&&(v.textContent=_),b=T(R),y=d(R,"BUTTON",{class:!0,"data-svelte-h":!0}),j(y)!=="svelte-16xtti5"&&(y.textContent=x),R.forEach(f),U.forEach(f),P.forEach(f),A.forEach(f),O.forEach(f),this.h()},h(){o(i,"class","text-center dark:text-white text-2xl font-medium z-50"),o(h,"class","mt-4 text-center text-sm dark:text-gray-200 w-full"),o(v,"class","relative z-20 flex px-5 py-2 rounded-full bg-white border border-gray-100 dark:border-none hover:bg-gray-100 transition font-medium text-sm"),o(y,"class","text-xs text-center w-full mt-2 text-gray-400 underline"),o(p,"class","mt-6 mx-auto relative group w-fit"),o(r,"class","max-w-md"),o(l,"class","m-auto pb-44 flex flex-col justify-center"),o(t,"class","absolute w-full h-full backdrop-blur-md bg-white/20 dark:bg-gray-900/50 flex justify-center"),o(e,"class","fixed w-full h-full flex z-50")},m(k,O){B(k,e,O),a(e,t),a(t,l),a(l,r),a(r,i),a(r,c),a(r,h),a(r,g),a(r,p),a(p,v),a(p,b),a(p,y),C||(I=[J(v,"click",s[15]),J(y,"click",s[16])],C=!0)},p:Pe,d(k){k&&f(e),C=!1,qe(I)}}}function Po(s){let e,t,l,r,i,n="Account Activation Pending<br/> Contact Admin for WebUI Access",c,h,m=`Your account status is currently pending activation. To access the WebUI, please
								reach out to TA.`,g,p,v,_="Check Again",b,y,x="Sign Out",C,I;return{c(){e=u("div"),t=u("div"),l=u("div"),r=u("div"),i=u("div"),i.innerHTML=n,c=E(),h=u("div"),h.textContent=m,g=E(),p=u("div"),v=u("button"),v.textContent=_,b=E(),y=u("button"),y.textContent=x,this.h()},l(k){e=d(k,"DIV",{class:!0});var O=w(e);t=d(O,"DIV",{class:!0});var A=w(t);l=d(A,"DIV",{class:!0});var P=w(l);r=d(P,"DIV",{class:!0});var U=w(r);i=d(U,"DIV",{class:!0,"data-svelte-h":!0}),j(i)!=="svelte-1g11t2m"&&(i.innerHTML=n),c=T(U),h=d(U,"DIV",{class:!0,"data-svelte-h":!0}),j(h)!=="svelte-es3mkg"&&(h.textContent=m),g=T(U),p=d(U,"DIV",{class:!0});var R=w(p);v=d(R,"BUTTON",{class:!0,"data-svelte-h":!0}),j(v)!=="svelte-gsehe4"&&(v.textContent=_),b=T(R),y=d(R,"BUTTON",{class:!0,"data-svelte-h":!0}),j(y)!=="svelte-9mmxir"&&(y.textContent=x),R.forEach(f),U.forEach(f),P.forEach(f),A.forEach(f),O.forEach(f),this.h()},h(){o(i,"class","text-center dark:text-white text-2xl font-medium z-50"),o(h,"class","mt-4 text-center text-sm dark:text-gray-200 w-full"),o(v,"class","relative z-20 flex px-5 py-2 rounded-full bg-white border border-gray-100 dark:border-none hover:bg-gray-100 transition font-medium text-sm"),o(y,"class","text-xs text-center w-full mt-2 text-gray-400 underline"),o(p,"class","mt-6 mx-auto relative group w-fit"),o(r,"class","max-w-md"),o(l,"class","m-auto pb-44 flex flex-col justify-center"),o(t,"class","absolute w-full h-full backdrop-blur-md bg-white/20 dark:bg-gray-900/50 flex justify-center"),o(e,"class","fixed w-full h-full flex z-50")},m(k,O){B(k,e,O),a(e,t),a(t,l),a(l,r),a(r,i),a(r,c),a(r,h),a(r,g),a(r,p),a(p,v),a(p,b),a(p,y),C||(I=[J(v,"click",s[13]),J(y,"click",s[14])],C=!0)},p:Pe,d(k){k&&f(e),C=!1,qe(I)}}}function Uo(s){let e,t,l=s[0]&&Fs(s);return{c(){l&&l.c(),e=st()},l(r){l&&l.l(r),e=st()},m(r,i){l&&l.m(r,i),B(r,e,i),t=!0},p(r,[i]){r[0]?l?(l.p(r,i),i&1&&Ue(l,1)):(l=Fs(r),l.c(),Ue(l,1),l.m(e.parentNode,e)):l&&(Nt(),Re(l,1,1,()=>{l=null}),Pt())},i(r){t||(Ue(l),t=!0)},o(r){Re(l),t=!1},d(r){r&&f(e),l&&l.d(r)}}}function jo(s,e,t){let l,r,i,n;Ye(s,Ot,S=>t(21,l=S)),Ye(s,wt,S=>t(5,r=S)),Ye(s,$t,S=>t(6,i=S)),Ye(s,Wt,S=>t(7,n=S));let{$$slots:c={},$$scope:h}=e;const{saveAs:m}=Js;let g=!1,p,v=null,_=[],b=!1;const y=async()=>{let S=await Promise.all([await Ys(localStorage.token).catch(V=>(console.log(V),null)),await Qs(localStorage.token).catch(V=>(console.log(V),null)),await sr(localStorage.token).catch(V=>(console.log(V),null))]);return S=S.filter(V=>V).reduce((V,M,z,q)=>V.concat(M,...z<q.length-1?[{name:"hr"}]:[]),[]),S};dt(async()=>{if(r===void 0)await Et("/auth");else if(["user","admin"].includes(r.role)){try{if(t(2,v=await hn("Chats",1)),v){const S=await v.getAllFromIndex("chats","timestamp");t(3,_=S.map((V,M)=>S[S.length-1-M])),_.length===0&&await Il("Chats")}console.log(v)}catch{}console.log(),await vt.set(await y()),await ml(),await Ht.set(JSON.parse(localStorage.getItem("settings")??"{}")),await bl.set(await pr(localStorage.token)),await xr.set(await mr(localStorage.token)),await kr.set(await Cr(localStorage.token)),await Xt.set(await $s(localStorage.token)),bl.subscribe(async()=>{await vt.set(await y())}),document.addEventListener("keydown",function(S){var z,q,H,D,L;const V=S.ctrlKey||S.metaKey,M=S.shiftKey;if(V&&M&&S.key.toLowerCase()==="o"&&(S.preventDefault(),console.log("newChat"),(z=document.getElementById("sidebar-new-chat-button"))==null||z.click()),M&&S.key==="Escape"&&(S.preventDefault(),console.log("focusInput"),(q=document.getElementById("chat-textarea"))==null||q.focus()),V&&M&&S.key===";"){S.preventDefault(),console.log("copyLastCodeBlock");const F=[...document.getElementsByClassName("copy-code-button")].at(-1);F==null||F.click()}if(V&&M&&S.key.toLowerCase()==="c"){S.preventDefault(),console.log("copyLastResponse");const F=[...document.getElementsByClassName("copy-response-button")].at(-1);console.log(F),F==null||F.click()}V&&M&&S.key.toLowerCase()==="s"&&(S.preventDefault(),console.log("toggleSidebar"),(H=document.getElementById("sidebar-toggle-button"))==null||H.click()),V&&M&&S.key==="Backspace"&&(S.preventDefault(),console.log("deleteChat"),(D=document.getElementById("delete-chat-button"))==null||D.click()),V&&S.key==="."&&(S.preventDefault(),console.log("openSettings"),(L=document.getElementById("open-settings-button"))==null||L.click()),V&&S.key==="/"&&(S.preventDefault(),console.log("showShortcuts"),p.click())}),r.role==="admin"&&Wt.set(localStorage.version!==l.version),await ml()}t(0,g=!0)});function x(S){pt[S?"unshift":"push"](()=>{p=S,t(1,p)})}const C=()=>{t(4,b=!b)};function I(S){b=S,t(4,b)}const k=async()=>{location.href="/"},O=async()=>{localStorage.removeItem("token"),location.href="/auth"},A=async()=>{let S=new Blob([JSON.stringify(_)],{type:"application/json"});m(S,`chat-export-${Date.now()}.json`);const V=v.transaction("chats","readwrite");await Promise.all([V.store.clear(),V.done]),await Il("Chats"),t(3,_=[])},P=async()=>{t(3,_=[])};function U(S){i=S,$t.set(i)}function R(S){n=S,Wt.set(n)}return s.$$set=S=>{"$$scope"in S&&t(19,h=S.$$scope)},[g,p,v,_,b,r,i,n,m,c,x,C,I,k,O,A,P,U,R,h]}class ci extends ot{constructor(e){super(),it(this,e,jo,Uo,at,{})}}export{ci as component};
